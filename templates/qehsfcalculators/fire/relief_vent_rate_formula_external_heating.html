{% extends 'base.html' %}
{% block title %}Relief Vent Rate Formula (External Heating) Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accident Rate Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            border-radius: 12px;
        }
        .btn-container {
            display: flex;
            justify-content: center; /* Horizontally center */
            margin: 30px 0;
        }

        .back-btn {
            background:linear-gradient(#1560bd,#000040); /* Dark navy background */
            color: #ffffff; /* White text */
            border: 2px solid #1560bd; /* Highlight border */
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none; /* Remove underline for link */
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #1560bd; /* Highlight on hover */
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05); /* Subtle hover effect */
        }

        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: 420px;
            overflow-y: auto;
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: 420px;
            text-align: center;
        }
        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .result-value { 
            width: 100%; 
        }
        
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .rate-label { 
            color: #7f8c8d; 
        }

        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
            margin-top: 20px;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .feedback-content { 
            color: #34495e; 
        }

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .good { 
            color: #2e7d32; 
            font-weight: 600; 
        }
        
        .average { 
            color: #f9a825; 
            font-weight: 600; 
        }
        
        .bad { 
            color: #c62828; 
            font-weight: 600; 
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }
         @media (max-width: 768px) {
    .rate-value {
        font-size: 28px; /* smaller font for tablets/mobiles */
    }
}

@media (max-width: 480px) {
    .rate-value {
        font-size: 24px; /* even smaller for phones */
    }
}
    </style>
</head>
<body>
   <div class="btn-container">
    <a href="{% url 'firecategory_calculators' %}" class="back-btn">Back To Fire Calculators</a>
</div>

<div class="calculator-container printable" id="printArea">
    {% include "includes/print_header_footer.html" %}

    <div class="calculator-header">
        <h1>Relief Vent Rate (External Heating) Calculator</h1>
        <p>Estimate the temperature increase during homogeneous-vessel venting under constant external heat input. This helps evaluate thermal hazards and design relief systems safely.</p>
    </div>

    <div class="calc-content">
        <!-- Input Card -->
        <div class="calc-card">
            <h2>Enter Data</h2>
            <div class="form-group">
                <label for="QT">Constant External Heat Input (Q‚Çú in kJ/min)</label>
                <input type="number" id="QT" class="form-input" placeholder="Enter Q‚Çú">
            </div>
            <div class="form-group">
                <label for="G">Mass Flux (G in kg/m¬≤s)</label>
                <input type="number" id="G" class="form-input" placeholder="Enter G">
            </div>
            <div class="form-group">
                <label for="A">Vent Area (A in m¬≤)</label>
                <input type="number" id="A" class="form-input" placeholder="Enter A">
            </div>
            <div class="form-group">
                <label for="Cv">Specific Heat (C·µ• in kJ/kgK)</label>
                <input type="number" id="Cv" class="form-input" placeholder="Enter C·µ•">
            </div>
            <div class="form-group">
                <label for="mo">Initial Mass (m‚ÇÄ in kg)</label>
                <input type="number" id="mo" class="form-input" placeholder="Enter m‚ÇÄ">
            </div>
            <div class="form-group">
                <label for="V">Volume (V in m¬≥)</label>
                <input type="number" id="V" class="form-input" placeholder="Enter V">
            </div>
            <div class="form-group">
                <label for="hfa">Latent Heat of Vaporization (h‚Çì‚Çê in kJ/kg)</label>
                <input type="number" id="hfa" class="form-input" placeholder="Enter h‚Çì‚Çê">
            </div>
            <div class="form-group">
                <label for="vfa">Specific Volume (v‚Çì‚Çê in m¬≥/kg)</label>
                <input type="number" id="vfa" class="form-input" placeholder="Enter v‚Çì‚Çê">
            </div>
            <button class="calculate-btn" onclick="calculateVentTemp()">Calculate Temperature</button>
        </div>

        <!-- Result Card -->
        <div class="result-card">
            <div class="result-placeholder" id="placeholder">
                <img src="{% static 'images/resultimage.png' %}" alt="Venting Illustration">
                <p>This tool will calculate the <strong>Temperature Increase</strong>. Enter your data to see results and insights here.</p>
            </div>

            <div class="result-error hidden" id="resultError" style="font-size: 22px;"></div>

            <div class="result-value hidden" id="resultValue">
                <div class="rate-value">Temperature Increase</div>
                <div class="rate-value" id="temperatureValue">0.00</div>
                <div class="rate-label" style="font-size:16px; font-weight:bold;">K</div>
                <div class="result-feedback" id="feedbackContent"></div>
                <div class="btn-wrapper">
                    <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notes Section -->
    <div class="note-section">
       <div class="note-card">
    <h3>üìò About This Calculator</h3>
    <p>
        This calculator helps you estimate how much the temperature inside a vessel will rise when it is vented under a constant external heat source (like a fire or heater). 
        It takes into account the heat added to the vessel, the cooling effect of vaporization, and the rate at which vapor escapes through the vent. 
        Use this tool to assess potential thermal hazards, plan safety measures, and design relief systems for vessels exposed to external heating. 
        Make sure to enter accurate values for heat input, vent area, substance properties, and vessel volume for reliable results.
    </p>
</div>


        <div class="note-card">
    <h3>‚öôÔ∏è Parameters ‚Äì What to Enter</h3>
    <ul class="note-list">
        <li><strong>Q‚Çú ‚Äì Constant External Heat Input (kJ/min):</strong> 
            Enter the amount of heat being added to the vessel from an external source, such as a fire or heater. 
            This value drives the temperature increase inside the vessel.</li>
        <li><strong>G ‚Äì Mass Flux (kg/m¬≤s):</strong> 
            Enter the rate at which mass is leaving through the vent per unit area. 
            Higher mass flux reduces temperature buildup by removing heat with vapor.</li>
        <li><strong>A ‚Äì Vent Area (m¬≤):</strong> 
            Enter the cross-sectional area of the vent through which vapor escapes. 
            Larger vents allow faster relief of pressure and heat.</li>
        <li><strong>C·µ• ‚Äì Specific Heat (kJ/kgK):</strong> 
            Enter the specific heat of the substance. 
            This determines how much energy is needed to raise the temperature of the mass.</li>
        <li><strong>m‚ÇÄ ‚Äì Initial Mass of Substance (kg):</strong> 
            Enter the starting mass of liquid or gas in the vessel. 
            More mass means more heat is required to raise its temperature.</li>
        <li><strong>V ‚Äì Vessel Volume (m¬≥):</strong> 
            Enter the total volume of the vessel. 
            This affects how concentrated the substance is and influences temperature increase.</li>
        <li><strong>h‚Çì‚Çê ‚Äì Latent Heat of Vaporization (kJ/kg):</strong> 
            Enter the heat required to vaporize one kilogram of the liquid. 
            This value accounts for cooling as the liquid evaporates.</li>
        <li><strong>v‚Çì‚Çê ‚Äì Specific Volume (m¬≥/kg):</strong> 
            Enter the volume occupied by one kilogram of the substance. 
            This helps calculate how vapor expansion affects temperature and venting.</li>
    </ul>
</div>

      <div class="note-card">
    <h3>üõ°Ô∏è Input Validations</h3>
    <ul class="note-list">
        <li><strong>Q‚Çú ‚Äì Constant External Heat Input (kilojoules per minute, kJ/min):</strong> Must be positive. Typical range: 0 ‚Äì 100,000. Warn if unusually high; critical for heat input assessment during venting.</li>
        <li><strong>G ‚Äì Mass Flux (kilograms per square meter per second, kg/m¬≤¬∑s):</strong> Must be positive. Typical range: 0 ‚Äì 50. Ensures realistic mass flow rate through the vent.</li>
        <li><strong>A ‚Äì Vent Area (square meters, m¬≤):</strong> Must be positive. Typical range: 0 ‚Äì 50. Validates vent area for realistic pressure and heat relief.</li>
        <li><strong>C·µ• ‚Äì Specific Heat at Constant Volume (kilojoules per kilogram Kelvin, kJ/kg¬∑K):</strong> Must be positive. Typical range: 0 ‚Äì 10. Ensures temperature calculations are physically meaningful.</li>
        <li><strong>m‚ÇÄ ‚Äì Initial Mass of Substance in Vessel (kilograms, kg):</strong> Must be positive. Typical range: 0 ‚Äì 50,000. Checks realistic starting mass for thermal calculations.</li>
        <li><strong>V ‚Äì Vessel Volume (cubic meters, m¬≥):</strong> Must be positive. Typical range: 0 ‚Äì 1,000,000. Cross-check with m‚ÇÄ to ensure realistic density (m‚ÇÄ/V ‚â§ 2000 kg/m¬≥).</li>
        <li><strong>h‚Çì‚Çê ‚Äì Latent Heat of Vaporization (kilojoules per kilogram, kJ/kg):</strong> Must be positive. Typical range: 0 ‚Äì 500. Represents energy required to vaporize liquid and cooling effect.</li>
        <li><strong>v‚Çì‚Çê ‚Äì Specific Volume of Substance (cubic meters per kilogram, m¬≥/kg):</strong> Must be positive. Typical range: 0 ‚Äì 10. Ensures realistic vapor expansion impact on venting dynamics.</li>
        <li><strong>Logical & Cross-field Checks:</strong>
            <ul>
                <li>Density check: m‚ÇÄ / V ‚â§ 2000 kg/m¬≥ (to avoid unrealistic substance concentration)</li>
                <li>Logarithmic argument in formula must be > 0 (prevents NaN or complex results)</li>
                <li>Units consistency must be maintained (kJ, kg, m¬≥, K, etc.)</li>
            </ul>
        </li>
        <li><strong>Edge Cases:</strong> Zero or negative values, extremely high inputs, or unphysical combinations must trigger warnings or errors to ensure safety and meaningful results.</li>
    </ul>
</div>


<div class="note-card">
    <h3>üí° Output Interpretation</h3>
    <ul class="note-list">
        <li>‚úÖ <strong>Low Temperature Increase:</strong> ŒîT < 10 K. Safe operating conditions; minimal thermal risk.</li>
        <li>‚ö†Ô∏è <strong>Moderate Increase:</strong> 10 ‚â§ ŒîT ‚â§ 50 K. Monitor vessel; ensure proper venting and safety measures.</li>
        <li>üö® <strong>High Increase:</strong> 50 < ŒîT ‚â§ 100 K. Thermal hazard present; implement safety actions immediately.</li>
        <li>üî¥ <strong>Extreme Increase:</strong> ŒîT > 100 K. Critical hazard; emergency protocols required.</li>
        <li>All results assume homogeneous conditions and presence of liquid. If assumptions fail, calculation may not be valid.</li>
    </ul>
</div>

<div class="note-card">
    <h3>üè≠ Real-Life Applications</h3>
    <ul class="note-list">
        <li><strong>Chemical Process Safety:</strong> Analyze temperature rise in vessels exposed to external heat, helping prevent thermal runaway or equipment failure.</li>
        <li><strong>Emergency Relief System Design:</strong> Determine vent sizing and temperature profiles to ensure safe pressure relief under fire or heating conditions.</li>
        <li><strong>Thermal Hazard Assessment:</strong> Evaluate potential thermal hazards during storage or processing of flammable or reactive liquids.</li>
        <li><strong>Industrial Fire Scenarios:</strong> Helps engineers plan safety measures for vessels at risk of fire exposure, including emergency cooling or evacuation protocols.</li>
    </ul>
</div>

<div class="note-card">
    <p>
        Understanding temperature increase during venting with external heat input is critical for workplace safety and process design. 
        By entering accurate values for heat input, vent characteristics, and substance properties, this calculator provides insight into potential thermal hazards. 
        Use the results to implement safety measures, design effective relief systems, and prevent accidents caused by excessive temperature rise. 
        Always verify the assumptions of homogeneous conditions and liquid presence for reliable results.
    </p>
</div>

    </div>
</div>

<script>
function calculateVentTemp() {
    const fields = ["QT","G","A","Cv","mo","V","hfa","vfa"];
    let isValid = true;
    let inputs = {};
    let feedbackMessages = [];

    // Collect inputs and validate
    fields.forEach(id => {
        const val = parseFloat(document.getElementById(id).value);
        inputs[id] = val;

        // Mandatory + positive check
        if (isNaN(val) || val <= 0) {
            feedbackMessages.push(`‚ùå ${id} must be a positive number.`);
            isValid = false;
        }

        // Industry-specific upper bounds
        if (id === "QT" && val > 100000) feedbackMessages.push(`‚ö†Ô∏è Q‚Çú seems unusually high (>100,000 kJ/min).`);
        if (id === "G" && val > 50) feedbackMessages.push(`‚ö†Ô∏è Mass flux G unusually high (>50 kg/m¬≤s).`);
        if (id === "A" && val > 50) feedbackMessages.push(`‚ö†Ô∏è Vent area A unusually large (>50 m¬≤).`);
        if (id === "Cv" && val > 10) feedbackMessages.push(`‚ö†Ô∏è Specific heat Cv unusually high (>10 kJ/kgK).`);
        if (id === "m0" && val > 50000) feedbackMessages.push(`‚ö†Ô∏è Initial mass m‚ÇÄ unusually high (>50,000 kg).`);
        if (id === "V" && val > 1000000) feedbackMessages.push(`‚ö†Ô∏è Vessel volume V unusually high (>1,000,000 m¬≥).`);
        if (id === "hfa" && val > 500) feedbackMessages.push(`‚ö†Ô∏è Latent heat h‚Çì‚Çê unusually high (>500 kJ/kg).`);
        if (id === "vfa" && val > 10) feedbackMessages.push(`‚ö†Ô∏è Specific volume v‚Çì‚Çê unusually high (>10 m¬≥/kg).`);
    });

    // Cross-field logical checks
    if (inputs["mo"] / inputs["V"] > 2000) feedbackMessages.push("‚ö†Ô∏è m‚ÇÄ/V ratio exceeds realistic density (>2000 kg/m¬≥).");
    if ((inputs["mo"]*inputs["QT"]) / (inputs["V"]*inputs["G"]*inputs["A"]*inputs["hfa"]) <= 0) feedbackMessages.push("‚ùå Check inputs: log argument invalid or negative.");

    const resultValue = document.getElementById("resultValue");
    const placeholder = document.getElementById("placeholder");
    const resultError = document.getElementById("resultError");
    const feedbackContent = document.getElementById("feedbackContent");

    // Hide placeholder
    placeholder.classList.add("hidden");
    resultValue.classList.add("hidden");
    resultError.classList.add("hidden");
    feedbackContent.innerHTML = "";

    if (!isValid || feedbackMessages.length > 0) {
        resultError.innerHTML = feedbackMessages.join("<br>");
        resultError.style.color = feedbackMessages.some(msg => msg.startsWith("‚ö†Ô∏è")) ? "orange" : "red";
        resultError.classList.remove("hidden");
        return;
    }

    // Calculation
    const {QT, G, A, Cv, mo, V, hfa, vfa} = inputs;
    const tempIncrease = (QT / (G * A * Cv)) * (Math.log((mo * QT) / (V * G * A * hfa)) - 1) + (V * hfa) / (mo * Cv * vfa);

    document.getElementById("temperatureValue").textContent = tempIncrease.toFixed(2);
    resultValue.classList.remove("hidden");

    // Feedback thresholds
    let feedback = "";
    if (tempIncrease < 10) feedback = "‚úÖ Low Temperature Increase: Safe conditions.";
    else if (tempIncrease <= 50) feedback = "‚ö†Ô∏è Moderate Increase: Monitor and ensure proper venting.";
    else if (tempIncrease <= 100) feedback = "üö® High Increase: Thermal hazard present.";
    else feedback = "üî¥ Extreme Increase: Critical hazard, take emergency measures!";
    feedbackContent.style.color = (tempIncrease < 10) ? "green" : (tempIncrease <=50) ? "orange" : (tempIncrease <=100) ? "red" : "darkred";
    feedbackContent.textContent = feedback;
}


</script>


    <script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}


<!-- 1. Input Validation Rules (QEHS & Fire Safety Perspective)
Input	Units	Recommended Range	Allowed Decimals	Rationale / Compliance Notes
Q‚Çú (Constant External Heat Input)	kJ/min	0 < Q‚Çú ‚â§ 100,000	Up to 2 decimals	Represents external fire/heat source. Must be positive. Excessively high values are unrealistic in chemical plants. Ensures realistic thermal hazard evaluation.
G (Mass Flux)	kg/m¬≤¬∑s	0 < G ‚â§ 50	Up to 4 decimals	Indicates mass flow through vent. Must be positive. Extremely high flux may indicate unit inconsistency. Compliance ensures accurate venting calculations.
A (Vent Area)	m¬≤	0 < A ‚â§ 50	Up to 3 decimals	Vent area must be positive. Large industrial vents rarely exceed this. Validates realistic relief design.
C·µ• (Specific Heat)	kJ/kg¬∑K	0 < Cv ‚â§ 10	Up to 2 decimals	Positive and realistic substance properties. Avoids unphysical results.
m‚ÇÄ (Initial Mass)	kg	0 < m‚ÇÄ ‚â§ 50,000	Up to 2 decimals	Must reflect the actual vessel fill. Too high mass may indicate input unit errors.
V (Volume)	m¬≥	0 < V ‚â§ 1,000,000	Up to 2 decimals	Vessel size must be positive. Ensures logical consistency between volume and mass.
h‚Çì‚Çê (Latent Heat of Vaporization)	kJ/kg	0 < hfa ‚â§ 500	Up to 2 decimals	Must be positive. Excessive values are unrealistic. Critical for calculating cooling effect.
v‚Çì‚Çê (Specific Volume)	m¬≥/kg	0 < vfa ‚â§ 10	Up to 3 decimals	Positive value ensures valid density calculations.
Logical / Cross-field Validations	-	-	-	Ensure (m‚ÇÄ / V) realistic (not > 2, implying unphysical density). Check QT / (G*A*Cv) does not cause division by zero.
2. Output Validation Logic and Thresholds
Output	Threshold	Interpretation
Temperature Increase (ŒîT)	< 10 K	‚úÖ Low ‚Äì Safe, minimal thermal risk
10 ‚Äì 50 K	‚ö†Ô∏è Moderate ‚Äì Monitor, ensure proper venting	
50 ‚Äì 100 K	üö® High ‚Äì Thermal hazard present, action required	
> 100 K	üî¥ Extreme ‚Äì Critical hazard, emergency procedures needed	

Compliance Note: These thresholds align with process safety guidelines (NFPA 30, API RP 521, OSHA PSM), which recommend assessing thermal hazards and designing relief systems based on realistic temperature rise.

3. Edge Case Validations

Division by zero: Ensure G > 0, A > 0, Cv > 0, mo > 0, vfa > 0.

Logarithm domain: Ensure (mo*QT) / (V*G*A*hfa) > 0. Negative or zero values would produce NaN.

Density checks: m‚ÇÄ / V must not exceed physical limits (~2,000 kg/m¬≥ for liquids).

Unrealistic combinations: Extremely high Q‚Çú with small G, A, or Cv ‚Üí could produce huge ŒîT; warn users.

Empty vessel scenario: mo ‚Üí 0 is invalid (cannot vent nothing).

Physical limits: Ensure vfa realistic for liquid or vapor (~0.001‚Äì10 m¬≥/kg). -->