{% extends 'base.html' %}
{% block title %}Fire Extinguisher Placement Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            border-radius: 12px;
        }
        .btn-container {
            display: flex;
            justify-content: center; /* Horizontally center */
            margin: 30px 0;
        }

        .back-btn {
            background:linear-gradient(#1560bd,#000040); /* Dark navy background */
            color: #ffffff; /* White text */
            border: 2px solid #1560bd; /* Highlight border */
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none; /* Remove underline for link */
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #1560bd; /* Highlight on hover */
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05); /* Subtle hover effect */
        }

        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
          
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: 420px;
            text-align: center;
        }
        
       .result-placeholder img {
    max-width: 400px;
    margin-bottom: 20px;
    opacity: 0.85;
}

/* Tablet screens (‚â§ 768px) */
@media (max-width: 768px) {
    .result-placeholder img {
        max-width: 300px;
    }
}

/* Mobile screens (‚â§ 480px) */
@media (max-width: 480px) {
    .result-placeholder img {
        max-width: 220px;
    }
}

/* Very small devices (‚â§ 360px) */
@media (max-width: 360px) {
    .result-placeholder img {
        max-width: 180px;
    }
}

        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .result-value { 
            width: 100%; 
        }
        
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .rate-label { 
            color: #7f8c8d; 
        }

        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
            margin-top: 20px;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .feedback-content { 
            color: #34495e; 
        }

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .good { 
            color: #2e7d32; 
            font-weight: 600; 
        }
        
        .average { 
            color: #f9a825; 
            font-weight: 600; 
        }
        
        .bad { 
            color: #c62828; 
            font-weight: 600; 
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }
    </style>
</head>
<body>
   <div class="btn-container">
    <a href="{% url 'firecategory_calculators' %}" class="back-btn">Back To Fire Calculators</a>
</div>

<div class="calculator-container printable" id="printArea">
    {% include "includes/print_header_footer.html" %}

    <div class="calculator-header">
        <h1>Fire Extinguisher Placement Calculator</h1>
        <p>Determine the appropriate fire extinguisher type, minimum rating, and number of extinguishers required based on hazard level and room size.</p>
    </div>

    <div class="calc-content">
        <!-- Input Card -->
        <div class="calc-card">
            <h2>Enter Data</h2>
            <div class="form-group">
                <label for="extinguisherType">Fire Extinguisher Type</label>
                <select id="extinguisherType" class="form-input">
                    <option value="ClassA">Class A</option>
                    <option value="ClassB">Class B</option>
                    <option value="ClassC">Class C</option>
                </select>
            </div>
            <div class="form-group">
                <label for="hazardType">Type of Hazard</label>
                <select id="hazardType" class="form-input">
                    <option value="Low">Low (Light)</option>
                    <option value="Ordinary">Ordinary (Moderate)</option>
                    <option value="High">High</option>
                </select>
            </div>
            <div class="form-group">
                <label for="roomSize">Size of Room/Location (m¬≤)</label>
                <input type="number" id="roomSize" class="form-input" placeholder="Enter Room Size">
            </div>
            <button class="calculate-btn" onclick="calculateExtinguishers()">Calculate Requirement</button>
        </div>

        <!-- Result Card -->
        <div class="result-card">
            <!-- Placeholder -->
            <div class="result-placeholder" id="placeholder">
                <img src="{% static 'images/fire.webp' %}" alt="Fire Extinguisher Illustration">
                <p>This tool will calculate the <strong>Fire Extinguisher Requirement</strong>. Enter your data to see results and insights here.</p>
            </div>

            <!-- Error -->
            <div class="result-error hidden" id="resultError" style="font-size: 22px;"></div>

            <!-- Result -->
            <div class="result-value hidden" id="resultValue">
                <div class="rate-value">Results</div>
                <p><strong>Fire Extinguisher Type:</strong> <span id="resultType"></span></p>
                <p><strong>Minimum Extinguisher Rating:</strong> <span id="resultRating"></span></p>
                <p><strong>Maximum Travel Distance:</strong> <span id="resultDistance"></span> m</p>
                <p><strong>Maximum Area per Extinguisher:</strong> <span id="resultArea"></span> m¬≤</p>
                <p><strong>Number of Extinguishers Required:</strong> <span id="resultExtinguishers"></span></p>
                <div class="result-feedback" id="feedbackContent"></div>
                <div class="btn-wrapper">
                    <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notes Section -->
    <div class="note-section">
        <div class="note-card">
            <h3>üìò About This Calculator</h3>
            <p>
                This calculator helps determine the required <strong>fire extinguishers</strong> for a given space 
                based on hazard level and extinguisher type. It considers extinguisher ratings, spacing, and area coverage 
                to ensure compliance with fire safety guidelines.
            </p>
        </div>

        <div class="note-card">
    <h3>‚öôÔ∏è Parameters Used</h3>
            <ul class="note-list">
                <li><strong>Extinguisher Type:</strong> 
                    <ul>
                        <li><strong>Class A:</strong> Combustibles (wood, paper, cloth).</li>
                        <li><strong>Class B:</strong> Flammable liquids (oil, gasoline, solvents).</li>
                        <li><strong>Class C:</strong> Electrical equipment fires.</li>
                    </ul>
                </li>
                <li><strong>Hazard Type:</strong> 
                    <ul>
                        <li>Low: Light hazard (e.g., offices).</li>
                        <li>Ordinary: Moderate hazard (e.g., warehouses).</li>
                        <li>High: High hazard (e.g., flammable liquid storage).</li>
                    </ul>
                </li>
                <li><strong>Room Size (m¬≤):</strong> Area of the space to be protected.</li>
            </ul>
        </div>

      


       <div class="note-card">
    <h3>üìå Input Validation Rules</h3>
    <ul>
        <li><strong>Fire Extinguisher Type:</strong> Must be selected (Class A, B, or C).</li>
        <li><strong>Hazard Type:</strong> Must be selected (Low, Ordinary, or High).</li>
        <li><strong>Room Size:</strong> 
            <ul>
                <li>Required ‚Äì cannot be empty.</li>
                <li>Must be a positive number greater than 0.</li>
                <li>Accepts whole numbers or up to 2 decimal places.</li>
                <li>Unrealistically large inputs (e.g., > 100,000 m¬≤) should be double-checked against actual building layout.</li>
            </ul>
        </li>
    </ul>
   
</div>
 <div class="note-card">
    <h3>üìä Output Validations</h3>
    <p>
        The feedback below indicates the adequacy of the recommended fire extinguisher count for the given room size and hazard type.
        Follow these guidelines to ensure proper coverage and compliance with safety standards.
    </p>
   <ul class="note-list">
    <li>If ‚â§ 2 extinguishers ‚Üí ‚úÖ Sufficient coverage with recommended extinguisher count.</li>
    <li>If 3‚Äì5 extinguishers ‚Üí ‚ö†Ô∏è Borderline coverage: Ensure placement meets distance and visibility guidelines.</li>
    <li>If &gt; 5 extinguishers ‚Üí üö® Insufficient coverage risk: Increase extinguishers and perform a detailed layout assessment.</li>
</ul>

</div>


<div class="note-card">
    <h3>üìê Governing Principle</h3>
    <p>
        The <strong>Fire Extinguisher Placement Calculator</strong> is designed according to recognized fire safety standards, including <strong>NFPA 10 (Standard for Portable Fire Extinguishers)</strong> and <strong>OSHA 1910.157</strong>. 
        These standards provide guidelines for selecting appropriate extinguisher types, minimum ratings, maximum travel distances, and coverage areas based on the type of hazard and size of the space. 
        The calculator ensures that recommendations are consistent with best practices in structural and occupational fire safety.
    </p>
</div>

        <div class="note-card">
                                                <h3>üí° Conclusion</h3>

            <p>
                This tool provides general guidance, but always consult with a fire safety professional 
                and follow local codes/regulations to ensure compliance and safety.
            </p>
        </div>
    </div>
</div>

<script>
/* Improved validation & calculation for Fire Extinguisher Placement Calculator
   QEHS-reviewed: checks input ranges, decimal precision, class C handling,
   and enforces travel-distance minimums (OSHA/NFPA guidance).
   Citations: OSHA 1910.157 (travel distances) and NFPA 10 guidance.
*/

function showError(message, color = "red") {
    const resultError = document.getElementById('resultError');
    resultError.innerHTML = message;
    resultError.style.color = color;
    resultError.classList.remove('hidden');
}

function hideError() {
    const resultError = document.getElementById('resultError');
    resultError.innerHTML = "";
    resultError.classList.add('hidden');
}

function formatExtinguisherTypeLabel(code) {
    if (code === 'ClassA') return 'Class A';
    if (code === 'ClassB') return 'Class B';
    if (code === 'ClassC') return 'Class C (electrical characteristic)';
    return code;
}

function calculateExtinguishers() {
    // Grab DOM elements
    const roomSizeRaw = document.getElementById('roomSize').value.trim();
    const hazardType = document.getElementById('hazardType').value;
    const extinguisherType = document.getElementById('extinguisherType').value;
    const resultValue = document.getElementById('resultValue');
    const placeholder = document.getElementById('placeholder');
    const feedbackContent = document.getElementById('feedbackContent');
    const resultError = document.getElementById('resultError');

    // Reset UI
    hideError();
    resultValue.classList.add('hidden');
    if (placeholder) placeholder.classList.add('hidden');
    feedbackContent.innerHTML = "";

    // Required check
    if (roomSizeRaw === "") {
        showError("‚ö†Ô∏è Please enter the room size (m¬≤).", "orange");
        return;
    }

    // Numeric parse and decimals check
    const roomSize = parseFloat(roomSizeRaw);
    if (isNaN(roomSize)) {
        showError("‚ùå Invalid room size. Enter a numeric value (e.g., 250 or 250.50).");
        return;
    }

    // Decimal precision: allow up to 2 decimals
    const decimals = (roomSizeRaw.split('.')[1] || '').length;
    if (decimals > 2) {
        showError("‚ö†Ô∏è Please limit room size to maximum 2 decimal places.");
        return;
    }

    // Basic numeric limits
    if (roomSize <= 0) {
        showError("‚ùå Room size must be greater than zero (m¬≤).");
        return;
    }
    if (roomSize < 0.5) {
        showError("‚ö†Ô∏è Room size extremely small (<0.5 m¬≤). Verify input.");
        return;
    }
    if (roomSize > 50000) {
        showError("‚ö†Ô∏è Very large Room size (>50,000 m¬≤). This tool is not intended for very large/unzoned areas ‚Äî consult a fire safety professional.");
        return;
    }

    // Validate selects (defensive)
    const validExt = ['ClassA','ClassB','ClassC'];
    const validHaz = ['Low','Ordinary','High'];
    if (!validExt.includes(extinguisherType) || !validHaz.includes(hazardType)) {
        showError("‚ùå Invalid selection for extinguisher or hazard type.");
        return;
    }

    // Handle Class C: guidance note if selected alone
    if (extinguisherType === 'ClassC') {
        // Class C is an electrical classification; ensure user knows it must accompany A or B in real selections
        // We won't block, but show advisory
        showError("‚ö†Ô∏è Note: Class C indicates suitability for electrical fires and is usually applied together with an A or B rating. For procurement, use multi-rated extinguishers (e.g., 2A:10B:C).", "orange");
        // allow user to continue ‚Äî they may have selected intentionally
    }

    // Map hazard + extinguisher to conservative rating, area (m¬≤), and travel distance (m)
    // These are conservative helper defaults. For formal compliance, look up NFPA 10 tables.
    let resultRating = "2A";
    let resultArea = 300;   // m¬≤ per extinguisher (conservative shorthand)
    let resultDistance = 22.9; // meters (default for Class A/D = 75 ft)

    if (hazardType === "Low") {
        if (extinguisherType === "ClassA") {
            resultRating = "2A"; resultArea = 300; resultDistance = 22.9;
        } else { // ClassB or ClassC
            resultRating = "55B"; resultArea = 150; resultDistance = 15.25;
        }
    } else if (hazardType === "Ordinary") {
        if (extinguisherType === "ClassA") {
            resultRating = "3A"; resultArea = 150; resultDistance = 22.9;
        } else {
            resultRating = "144B"; resultArea = 150; resultDistance = 15.25;
        }
    } else if (hazardType === "High") {
        if (extinguisherType === "ClassA") {
            resultRating = "4A"; resultArea = 100; resultDistance = 15.25;
        } else {
            resultRating = "233B"; resultArea = 100; resultDistance = 15.25;
        }
    }

    // Defensive: ensure resultArea > 0
    if (resultArea <= 0) {
        showError("‚ùå Internal error: computed area per extinguisher invalid. Please contact admin.");
        return;
    }

    // Area-based count
    const areaBasedCount = Math.ceil(roomSize / resultArea);

    // Distance-based minimum count:
    // Approximate logic: compute a square grid spacing that would keep max travel distance <= allowed distance.
    // If each extinguisher covers a square of side s, max distance from any point to extinguisher ~ s * sqrt(2)/2.
    // So s_max = allowed_distance * 2 / sqrt(2) = allowed_distance * sqrt(2)
    const maxTravel = resultDistance; // meters
    // maximum area per extinguisher under distance rule = (s_max)^2
    const sMax = maxTravel * Math.SQRT2; // side length
    const distanceArea = Math.pow(sMax, 2); // m^2 approx area per extinguisher under distance constraint
    // Use a conservative factor (0.8) because real layouts are not perfect grids
    const conservativeDistanceArea = distanceArea * 0.8;
    const distanceBasedCount = Math.ceil(roomSize / conservativeDistanceArea);

    // Final extinguisher count must satisfy both area and distance requirements
    const finalCount = Math.max(areaBasedCount, distanceBasedCount);

    // For transparency to user show if distance rule increased count
    let warning = "";
    if (finalCount > areaBasedCount) {
        warning = "‚ö†Ô∏è Travel-distance rule requires additional extinguishers beyond simple area coverage to meet maximum travel distance requirements.";
    }

    // Update DOM results (type label, rating, distance, area, count)
    document.getElementById('resultType').innerText = formatExtinguisherTypeLabel(extinguisherType);
    document.getElementById('resultRating').innerText = resultRating;
    // Round distance to 2 decimals
    document.getElementById('resultDistance').innerText = (resultDistance).toFixed(2);
    document.getElementById('resultArea').innerText = resultArea;
    document.getElementById('resultExtinguishers').innerText = finalCount;

    // Clear any persistent error only if we previously displayed advisory and want to show results too
    // If prior advisory existed (Class C note) we keep it visible but allow results; otherwise hide
    // If message currently orange we may keep it. For simplicity: hide orange only when no warnings
    if (!warning && ! (extinguisherType === 'ClassC')) {
        hideError();
    }

    // Show results
    resultValue.classList.remove('hidden');

    // Feedback
    const feedbackEl = document.getElementById('feedbackContent');
    feedbackEl.innerHTML = "";
    if (finalCount <= 2) {
        feedbackEl.style.color = "green";
        feedbackEl.innerText = "‚úÖ Sufficient coverage with recommended extinguisher count.";
    } else if (finalCount <= 5) {
        feedbackEl.style.color = "orange";
        feedbackEl.innerText = "‚ö†Ô∏è Borderline coverage. Ensure placement meets distance and visibility guidelines.";
    } else {
        feedbackEl.style.color = "red";
        feedbackEl.innerText = "üö® Insufficient coverage risk. Increase extinguishers and perform a detailed layout assessment.";
    }

    // If warning exists, show it below feedback (keep previous orange advisory if present)
    if (warning) {
        const w = document.createElement('div');
        w.style.color = "orange";
        w.style.marginTop = "8px";
        w.innerText = warning;
        feedbackEl.appendChild(w);
    }
}
</script>
    <script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}


<!-- 1) Quick audit ‚Äî inputs, outputs, formula (real-world perspective)

Inputs

extinguisherType (Class A / B / C) ‚Äî correct basic classification, though in practice Class C is assigned only to extinguishers that already have an A or B rating (i.e., C = electrical characteristic, not a stand-alone extinguishing agent). 
InspectNTrack

hazardType (Low / Ordinary / High) ‚Äî sensible simplified hazard bins; NFPA uses more detailed hazard classification but this is acceptable as a practical triage. 
Document Information Files

roomSize (m¬≤) ‚Äî good single area input; NFPA calculations often use floor area (m¬≤) and tables to get required number and spacing.

Outputs

resultRating (e.g., 2A, 144B) ‚Äî good human-readble rating. NFPA ratings map to extinguishing capacity and area covered; for regulatory use you must map these values to NFPA Table(s). 
NFPA
Document Information Files

resultArea (m¬≤ per extinguisher), resultDistance (max travel distance m), resultExtinguishers (count) ‚Äî these are the KPI elements inspectors check.

Calculation formula (current)

resultExtinguishers = ceil(roomSize / resultArea) ‚Äî correct high-level approach (determine how many extinguishers needed to cover floor area). NFPA also enforces travel distance limits per class (Class A 75 ft / 22.9 m; Class B 50 ft / 15.2 m, etc.), which must also be satisfied. If area-based count yields placements that would exceed maximum travel distance, the layout must be adjusted accordingly. 
OSHA
Document Information Files

2) Recommended comprehensive validation rules (industry-aligned)
Global rules

All fields required. (UI is already enforcing required on selects and roomSize, but add JS checks.)

Units: roomSize in square meters (m¬≤). Display unit hint in label/placeholder. Convert to sq ft internally if you later compare to NFPA tables (1 m¬≤ = 10.7639 ft¬≤).

roomSize (numeric) rules

Type: positive real number (allow decimals).

Minimum: 0.5 m¬≤ ‚Äî anything smaller is unlikely to be meaningful for extinguisher placement (practical minimum). Flag tiny areas (<1 m¬≤) as suspicious.

Maximum (soft): 50,000 m¬≤ ‚Äî keep your UI cap here (you already have). For values > 5,000 m¬≤ show advisory: ‚ÄúLarge area ‚Äî verify zoning, multiple hazard zones, and consult NFPA 10‚Äù (very large areas usually require zoning).

Decimals: allow up to 2 decimal places (that precision is sufficient for floor area). Reject more than 2 decimals as likely accidental.

Type enforcement: numeric parse to parseFloat; reject NaN, empty string, negative, zero.

extinguisherType rules

Accept only the enumerated values ClassA, ClassB, ClassC. Treat ClassC as a modifier in validation: if user selects ClassC, alert that Class C is electrical characteristic and must accompany an A or B rating in the extinguisher selection (i.e., in procurement use choose combined ratings like 2A:10B:C or similar). Add UI help text.

hazardType rules

Accept only Low, Ordinary, High. Map these internally to required area / rating choices. If High + ClassA selected, ensure rating is at least 4A (or prompt consult) ‚Äî you already do this mapping; keep it but flag as guideline only.

Cross-field logical consistency rules

Class C handling: if ClassC selected and hazard is Ordinary/High where B hazards exist, recommend a multi-rated extinguisher (e.g., 2A:10B:C or 3A:144B:C) and warn if your simplified mapping returns a pure B rating without C noted. (Because many fire inspectors expect an electrical characteristic when energized equipment present.) 
InspectNTrack

Hazard zoning: if roomSize > resultArea * 10 and hazard === High, recommend splitting into subzones and consulting NFPA 10 (high hazard large rooms should be assessed zone-wise).

Distance check: Once number of extinguishers is computed, compute the implied spacing and ensure it does not violate NFPA maximum travel distance (Class A/D 22.9 m, Class B 15.25 m). If computed spacing would exceed, produce a warning and increase extinguisher count accordingly (see corrected code below). 
OSHA
Document Information Files

Allowed ranges summary

roomSize: 0.5 ‚â§ value ‚â§ 50000 (m¬≤) ‚Äî with advisory thresholds at 5000 and 50000.

Decimals: up to 2 decimal places.

extinguisherType: fixed enum.

hazardType: fixed enum.

3) Suggested edge-case validations (and handling)

Division by zero: N/A directly (area per extinguisher >0), but ensure resultArea never becomes zero (protect against bad mapping).

Very small room: roomSize < 1 m¬≤ ‚Äî show advisory: ‚ÄúRoom extremely small; consider portable extinguisher mounting guidelines.‚Äù

Huge room: roomSize > 50000 m¬≤ ‚Äî block and advise professional audit (this may be multiple hazard zones).

Extreme outliers: roomSize with too many decimals (>2) ‚Äî round or reject with message.

Illogical combos: e.g., extinguisherType === ClassB but hazardType === Low in an office with obvious A hazards ‚Äî show generic help text explaining classes and suggest Class A/ABC instead.

Class C alone: Selecting Class C with no A/B is a logical inconsistency; alert user.

Implied spacing > NFPA travel distance: e.g., computed count implies travel distance > allowable for class ‚Äî compute minimal extinguishers required by travel distance rule and take maximum of (area-based count, distance-based count). Warn user if the count increases because of distance rule.

4) Output validation logic & threshold explanations (how auditors check KPIs)

Number of extinguishers (by area): auditors divide total floor area by ‚Äúmaximum area per extinguisher‚Äù for the chosen rating (NFPA table). The result must be rounded up (ceiling) ‚Äî you already do that. 
Document Information Files

Travel distance compliance: NFPA/OSHA set maximum travel distances which must not be exceeded (typical: Class A 75 ft / 22.9 m; Class B 50 ft / 15.2 m; Class K small cooking hazards 30 ft / 9.1 m). If area-based placement results in longer travel, increase extinguisher count. 
OSHA
Document Information Files

Minimum rating check: Ensure the rating shown (e.g., 2A, 144B) corresponds to the hazard severity. For absolute compliance, map to NFPA 10 tables ‚Äî but the mapping in your tool (2A/3A/4A and 55B/144B/233B) is an acceptable conservative shorthand for advising users in non-regulated contexts; add a note to consult NFPA 10 for exact table lookups in formal audits. 
NFPA
Document Information Files -->