{% extends 'base.html' %}
{% block title %}Steam Consumption of Drying Cylinders Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steam Consumption of Drying Cylinders Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            border-radius: 12px;
        }

        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: 420px;
            overflow-y: auto;
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        



.result-card::-webkit-scrollbar {
    width: 8px;
}

.result-card::-webkit-scrollbar-thumb {
    background: #1560bd;
    border-radius: 6px;
}

.result-card::-webkit-scrollbar-track {
    background: #f1f1f1;
}







.result-card {
    justify-content: flex-start; /* align from top */
    align-items: stretch;
    min-height: 420px;
    text-align: center;
    overflow-y: auto;       /* Enable vertical scrolling */
    max-height: 450px;      /* Set max height to control output size */
    padding: 20px;          /* keep spacing */
}

        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .result-value { 
            width: 100%; 
        }
        
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .rate-label { 
            color: #7f8c8d; 
        }

        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
            margin-top: 20px;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .feedback-content { 
            color: #34495e; 
        }

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .formula-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 6px solid #0d47a1;
        }
        
        .formula-card code {
            display: inline-block;
            background: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: bold;
            color: #0d47a1;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }

        .btn-container {
            display: flex;
            justify-content: center; /* Horizontally center */
            margin: 30px 0;
        }

        .back-btn {
            background:linear-gradient(#1560bd,#000040); /* Dark navy background */
            color: #ffffff; /* White text */
            border: 2px solid #1560bd; /* Highlight border */
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none; /* Remove underline for link */
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #1560bd; /* Highlight on hover */
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05); /* Subtle hover effect */
        }
        
        /* Input row styling */
        .input-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .input-row .form-group {
            flex: 1;
        }
        
        @media (max-width: 768px) {
            .input-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <div class="btn-container">
        <a href="{% url 'qualitycategory_calculators' %}" class="back-btn">Back To Quality Calculators</a>
    </div>

    <div class="calculator-container printable" id="printArea">
        <!-- Include header/footer for print -->
        {% include "includes/print_header_footer.html" %}

        <div class="calculator-header">
            <h1>Steam Consumption Of Drying Cylinders Calculator</h1>
            <p>Calculates the amount of steam required to remove moisture from wet material and heat the dry material</p>
        </div>

        <div class="calc-content">
            <!-- Calculator Input Card -->
            <div class="calc-card">
                <h2>Enter Data</h2>
                
                    <div class="form-group">
                        <label for="ww">Throughput of Wet Material (Ww) (kg/h):</label>
                        <input type="number" id="ww" class="form-input" placeholder="Enter wet material throughput" min="0">
                    </div>
                    <div class="form-group">
                        <label for="wd">Throughput of Dry Material (Wd) (kg/h):</label>
                        <input type="number" id="wd" class="form-input" placeholder="Enter dry material throughput" min="0">
                    </div>

                
                    <div class="form-group">
                        <label for="t1">Temperature Entering Machine (T1) (¬∞C):</label>
                        <input type="number" id="t1" class="form-input" placeholder="Enter initial temperature" min="0">
                    </div>
                    <div class="form-group">
                        <label for="t2">Temperature Leaving Machine (T2) (¬∞C):</label>
                        <input type="number" id="t2" class="form-input" placeholder="Enter final temperature" min="0">
                    </div>
        
                
                <div class="form-group">
                    <label for="hfg">Enthalpy of Evaporation of Steam (hfg) (kJ/kg):</label>
                    <input type="number" id="hfg" class="form-input" placeholder="Enter enthalpy value" min="0">
                </div>

                <button class="calculate-btn" onclick="calculateSteamConsumption()">Calculate Steam Consumption</button>
            </div>

            <!-- Result Section -->
            <div class="result-card">
                <div class="result-placeholder" id="placeholder">
                <img src="{% static 'images/resultimage.png' %}" alt="Orifice">
                    <p>This tool calculates the <strong>steam consumption</strong> in kg/h. Enter all parameters to see results.</p>
                </div>

                <div class="result-error hidden" id="resultError">
                    <div class="error-icon">‚ùå</div>
                    <div class="error-message" id="errorMessage"></div>
                </div>

                <div class="result-value hidden" id="resultValue">
                    <div class="calculation-type" id="calculationType" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                        <h2>Steam Consumption</h2>
                    </div>
                    <div class="rate-value" id="steamConsumptionValue">0.00</div>
                    <div class="rate-label"><strong>kg/h</strong></div>
                    
                    <div class="result-feedback">
                        <div class="feedback-title">Steam Consumption Interpretation</div>
                        <div class="feedback-content" id="steamFeedback"></div>
                    </div>
                    
                    <div class="btn-wrapper">
                        <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Section -->
        <div class="note-section">

    <!-- About the Calculator -->
    <div class="note-card">
        <h3>üîé About This Calculator</h3>
        <p>
            The <strong>Steam Consumption of Drying Cylinders Calculator</strong> estimates the steam required to remove moisture from wet material 
            and heat the dry material in industrial drying processes. It helps optimize energy usage and maintain efficient operations.
        </p>
    </div>

    <!-- Parameters Used -->
    <div class="note-card">
        <h3>‚ùì Parameters Used</h3>
        <ul class="note-list">
            <li><strong>Ww (Wet Material Throughput):</strong> Wet material entering the dryer per hour (kg/h).</li>
            <li><strong>Wd (Dry Material Throughput):</strong> Dry material leaving the dryer per hour (kg/h).</li>
            <li><strong>T1 (Initial Temperature):</strong> Temperature of material before drying (¬∞C).</li>
            <li><strong>T2 (Final Temperature):</strong> Temperature of material after drying (¬∞C).</li>
            <li><strong>hfg (Enthalpy of Evaporation):</strong> Energy required to convert water into steam (kJ/kg).</li>
        </ul>
    </div>

    <!-- Input Validation Rules -->
    <div class="note-card">
        <h3>üìå Input Validation Rules</h3>
        <ul class="note-list">
            <li>Ww: Required, >0 kg/h, realistic range 10‚Äì100,000 kg/h, precision up to 1 decimal.</li>
            <li>Wd: Required, >0 kg/h, ‚â§ Ww, consider warnings for Wd > 98% Ww or Wd < 30% Ww.</li>
            <li>T1: Required, >0¬∞C, realistic 15‚Äì95¬∞C.</li>
            <li>T2: Required, >T1¬∞C, difference (T2-T1) realistic 5‚Äì150¬∞C.</li>
            <li>hfg: Required, >0 kJ/kg, realistic 2000‚Äì2800 kJ/kg, precision up to 1 decimal.</li>
            <li>Cross-validation: Moisture removed should be reasonable; extreme values trigger warnings.</li>
        </ul>
    </div>

    <!-- Output Validations -->
    <div class="note-card">
        <h3>üìä Output Validations</h3>
        <ul class="note-list">
            <li>Steam Consumption &lt;50 kg/h ‚Üí Very Low (Highly Efficient)</li>
            <li>50‚Äì200 kg/h ‚Üí Low (Efficient Operation)</li>
            <li>200‚Äì1,000 kg/h ‚Üí Moderate (Typical for Medium Operations)</li>
            <li>1,000‚Äì5,000 kg/h ‚Üí High (Monitor Efficiency Regularly)</li>
            <li>5,000‚Äì20,000 kg/h ‚Üí Very High (Implement Energy Optimization)</li>
            <li>&gt;20,000 kg/h ‚Üí Extremely High (Review Process Efficiency and Conduct Energy Audit)</li>
            <li>Moisture removal &lt;2% ‚Üí Minimal; consider skipping drying step</li>
            <li>Steam efficiency (kg steam/kg water) &gt;2.5 ‚Üí Review heat recovery options</li>
        </ul>
    </div>

    <!-- Governing Principle -->
    <div class="note-card">
        <h3>‚öñÔ∏è Governing Principle</h3>
        <p>
            Steam consumption is estimated based on the mass of moisture removed, energy required to heat the material, and the enthalpy of evaporation:
            <strong>Steam Consumption ‚âà f(Ww, Wd, T1, T2, hfg)</strong>.  
            This ensures energy-efficient drying while meeting production and quality targets.
        </p>
    </div>

    <!-- Conclusion -->
    <div class="note-card">
        <h3>üí° Conclusion</h3>
        <p>
            Using this calculator allows industries to optimize steam usage, reduce energy consumption, and maintain consistent drying efficiency. 
            It supports operational safety, cost savings, and environmental sustainability by providing actionable feedback for QEHS compliance.
        </p>
    </div>

</div>

    </div>

    <script>function calculateSteamConsumption() {
    const Ww = document.getElementById("ww").value.trim();
    const Wd = document.getElementById("wd").value.trim();
    const T1 = document.getElementById("t1").value.trim();
    const T2 = document.getElementById("t2").value.trim();
    const hfg = document.getElementById("hfg").value.trim();

    const errorBox = document.getElementById('resultError');
    const errorMessage = document.getElementById('errorMessage');
    const placeholder = document.getElementById('placeholder');
    const resultValue = document.getElementById('resultValue');
    const outputValue = document.getElementById('steamConsumptionValue');
    const feedbackBox = document.getElementById('steamFeedback'); 

    let errors = [];
    let warnings = [];
    let recommendations = [];

    // Comprehensive validation with QEHS perspective
    if (Ww === "") {
        errors.push("üëâ Please enter the wet material throughput (Ww).");
    } else if (isNaN(Ww)) {
        errors.push("üëâ Wet material throughput must be a valid number.");
    } else if (parseFloat(Ww) <= 0) {
        errors.push("üëâ Wet material throughput must be greater than 0 kg/h.");
    } else if (parseFloat(Ww) < 10) {
        warnings.push("‚ö†Ô∏è Very low throughput (<10 kg/h). Check if this represents actual production or test conditions.");
    } else if (parseFloat(Ww) > 100000) {
        warnings.push("‚ö†Ô∏è Extremely high throughput (>100,000 kg/h). Verify equipment capacity limits.");
    } else if (parseFloat(Ww) % 1 !== 0 && (Ww.split('.')[1].length > 1)) {
        warnings.push("‚ö†Ô∏è Wet material throughput precision beyond 1 decimal place may not be practically measurable.");
    }

    if (Wd === "") {
        errors.push("üëâ Please enter the dry material throughput (Wd).");
    } else if (isNaN(Wd)) {
        errors.push("üëâ Dry material throughput must be a valid number.");
    } else if (parseFloat(Wd) <= 0) {
        errors.push("üëâ Dry material throughput must be greater than 0 kg/h.");
    } else if (parseFloat(Wd) > parseFloat(Ww)) {
        errors.push("‚ùå Dry material throughput cannot exceed wet material throughput. Check measurements.");
    } else if (Ww !== "" && parseFloat(Wd) > 0.98 * parseFloat(Ww)) {
        warnings.push("‚ö†Ô∏è Minimal moisture removal (Wd > 98% of Ww). Verify if drying is necessary.");
        recommendations.push("Consider energy savings by bypassing drying for minimal moisture removal.");
    } else if (Ww !== "" && parseFloat(Wd) < 0.3 * parseFloat(Ww)) {
        warnings.push("‚ö†Ô∏è Extreme moisture removal (Wd < 30% of Ww). Confirm process parameters.");
        recommendations.push("Review material characteristics and drying efficiency for high moisture removal.");
    }

    if (T1 === "") {
        errors.push("üëâ Please enter the temperature entering the machine (T1).");
    } else if (isNaN(T1)) {
        errors.push("üëâ Temperature entering must be a valid number.");
    } else if (parseFloat(T1) <= 0) {
        errors.push("üëâ Temperature entering must be greater than 0¬∞C.");
    } else if (parseFloat(T1) > 95) {
        warnings.push("‚ö†Ô∏è High entry temperature (>95¬∞C). Ensure this doesn't create burn hazards for operators.");
    } else if (parseFloat(T1) < 15) {
        warnings.push("‚ö†Ô∏è Very low entry temperature (<15¬∞C). This may indicate ambient conditions affecting process efficiency.");
    }

    if (T2 === "") {
        errors.push("üëâ Please enter the temperature leaving the machine (T2).");
    } else if (isNaN(T2)) {
        errors.push("üëâ Temperature leaving must be a valid number.");
    } else if (parseFloat(T2) <= 0) {
        errors.push("üëâ Temperature leaving must be greater than 0¬∞C.");
    } else if (parseFloat(T2) <= parseFloat(T1)) {
        errors.push("‚ùå Temperature leaving must be greater than temperature entering for drying to occur.");
    } else if (parseFloat(T2) - parseFloat(T1) < 5) {
        warnings.push("‚ö†Ô∏è Minimal temperature increase (<5¬∞C). Drying efficiency may be compromised.");
    } else if (parseFloat(T2) - parseFloat(T1) > 150) {
        warnings.push("‚ö†Ô∏è Extreme temperature increase (>150¬∞C). Verify process safety and material tolerance.");
    } else if (parseFloat(T2) > 200) {
        warnings.push("‚ö†Ô∏è Very high exit temperature (>200¬∞C). Review fire safety protocols and material flash points.");
        recommendations.push("Implement additional temperature monitoring and emergency shutdown procedures.");
    }

    if (hfg === "") {
        errors.push("üëâ Please enter the enthalpy of evaporation (hfg).");
    } else if (isNaN(hfg)) {
        errors.push("üëâ Enthalpy of evaporation must be a valid number.");
    } else if (parseFloat(hfg) <= 0) {
        errors.push("üëâ Enthalpy of evaporation must be greater than 0 kJ/kg.");
    } else if (parseFloat(hfg) < 2000) {
        warnings.push("‚ö†Ô∏è Unusually low enthalpy value (<2000 kJ/kg). Check steam pressure and temperature conditions.");
    } else if (parseFloat(hfg) > 2800) {
        warnings.push("‚ö†Ô∏è Unusually high enthalpy value (>2800 kJ/kg). Verify steam superheat conditions.");
    } else if (parseFloat(hfg) % 1 !== 0 && (hfg.split('.')[1].length > 1)) {
        warnings.push("‚ö†Ô∏è Enthalpy precision beyond 1 decimal place may exceed measurement accuracy.");
    }

    // Cross-validation: Moisture content consistency
    if (Ww !== "" && Wd !== "" && parseFloat(Ww) > 0 && parseFloat(Wd) > 0) {
        const moistureRemoved = parseFloat(Ww) - parseFloat(Wd);
        const moisturePercent = (moistureRemoved / parseFloat(Ww)) * 100;
        
        if (moisturePercent > 70) {
            warnings.push("‚ö†Ô∏è Extremely high moisture removal (>70%). Confirm material characteristics and process validity.");
        }
        
        if (moisturePercent < 2) {
            warnings.push("‚ö†Ô∏è Minimal moisture removal (<2%). Evaluate if drying process is economically justified.");
            recommendations.push("Consider eliminating drying step for minimal moisture removal to save energy.");
        }
    }

    // Show errors
    if (errors.length > 0) {
        errorMessage.innerHTML = errors.join("<br>");
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        resultValue.classList.add("hidden");
        return;
    } else {
        errorBox.classList.add("hidden");
    }

    const WwNum = parseFloat(Ww);
    const WdNum = parseFloat(Wd);
    const T1Num = parseFloat(T1);
    const T2Num = parseFloat(T2);
    const hfgNum = parseFloat(hfg);

    // Calculate moisture removal for efficiency analysis
    const moistureRemoved = WwNum - WdNum;
    const moisturePercent = (moistureRemoved / WwNum) * 100;
    
    // ‚úÖ Calculate steam consumption
    const steamConsumption = (1.5 * moistureRemoved * 2550 * 1.26 * WdNum * (T2Num - T1Num)) / hfgNum;
    
    // Validate calculation results
    if (!isFinite(steamConsumption) || isNaN(steamConsumption)) {
        errorMessage.innerHTML = "‚ùå Calculation error. Please check input values for validity.";
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        resultValue.classList.add("hidden");
        return;
    }
    
    outputValue.textContent = steamConsumption.toFixed(2);

    // ‚úÖ Comprehensive feedback with QEHS perspective
    let feedback = "";
    
    // Steam consumption analysis
    if (steamConsumption < 50) {
        feedback = "‚úÖ Very Low Steam Consumption (<50 kg/h) ‚Äì Highly efficient process.";
    } else if (steamConsumption < 200) {
        feedback = "‚úÖ Low Steam Consumption (50-200 kg/h) ‚Äì Efficient operation.";
    } else if (steamConsumption < 1000) {
        feedback = "üî∑ Moderate Steam Consumption (200-1,000 kg/h) ‚Äì Typical for medium operations.";
    } else if (steamConsumption < 5000) {
        feedback = "‚ö†Ô∏è High Steam Consumption (1,000-5,000 kg/h) ‚Äì Large operation. Monitor efficiency regularly.";
    } else if (steamConsumption < 20000) {
        feedback = "‚ö†Ô∏è Very High Steam Consumption (5,000-20,000 kg/h) ‚Äì Major operation. Implement energy optimization measures.";
    } else {
        feedback = "üö® Extremely High Steam Consumption (>20,000 kg/h) ‚Äì Review process efficiency and consider energy audit.";
        recommendations.push("Conduct comprehensive energy audit and implement heat recovery systems.");
    }
    
    // Add moisture removal efficiency feedback
    feedback += ` | Moisture removed: ${moisturePercent.toFixed(1)}%`;
    
    if (moisturePercent > 0) {
        const steamPerKgMoisture = steamConsumption / moistureRemoved;
        feedback += ` | Steam efficiency: ${steamPerKgMoisture.toFixed(1)} kg steam/kg water`;
        
        if (steamPerKgMoisture > 2.5) {
            feedback += " (Review efficiency)";
            recommendations.push("Investigate heat recovery options to improve steam efficiency.");
        }
    }
    
    // Add warnings and recommendations
    if (warnings.length > 0) {
        feedback += " | " + warnings.join(" ");
    }
    
    if (recommendations.length > 0) {
        feedback += " | Recommendations: " + recommendations.join(" ");
    }

    feedbackBox.innerHTML = feedback;
    placeholder.classList.add('hidden');
    resultValue.classList.remove('hidden');
}

function printReport() {
    window.print();
}
    </script>
    <script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}
<!--
*----------Input Validation Rules from QEHS Perspective-------------*
Wet Material Throughput (Ww)
Range: 10-100,000 kg/h (practical industrial limits)

Minimum: >0 kg/h (physically impossible to process zero material)

Maximum: Facility-specific based on equipment capacity

Decimals: 1 decimal place (precision for operational tracking)

QEHS Significance: Exceeding equipment capacity can cause mechanical failures, energy waste, and potential safety hazards

Dry Material Throughput (Wd)
Range: Must be ‚â§ Ww (cannot have more output than input)

Minimum: >0 kg/h

Maximum: Typically 95-98% of Ww for most drying processes

Moisture Removal Ratio: Wd/Ww should typically be 0.3-0.95 (5-70% moisture removal)

QEHS Significance: Abnormal ratios indicate process inefficiencies or measurement errors that could mask safety issues

Temperature Entering (T1)
Range: 10-95¬∞C (below boiling point for safety)

Minimum: >0¬∞C (above freezing)

Maximum: <100¬∞C (unless pressurized system)

QEHS Significance: Extreme temperatures can indicate process control failures or measurement errors

Temperature Leaving (T2)
Range: Must be >T1 (drying requires temperature increase)

Minimum: Typically T1 + 5¬∞C (meaningful drying requires ŒîT)

Maximum: Material-specific (typically <200¬∞C for safety)

ŒîT Validation: T2-T1 should be 10-150¬∞C for most industrial drying

QEHS Significance: Excessive temperatures can create fire hazards or material degradation

Enthalpy of Evaporation (hfg)
Range: 2000-2800 kJ/kg (practical steam conditions)

Minimum: >0 kJ/kg (physically impossible)

Steam Pressure Correlation: Validate against expected pressure ranges

QEHS Significance: Incorrect enthalpy values suggest wrong steam conditions or measurement errors

*-----Edge Case Validations--------------*
Division by Zero: Ensured hfg > 0 validation

Negative Values: All inputs must be > 0

Illogical Relationships: Wd cannot exceed Ww, T2 must be > T1

Extreme Outliers: Values outside practical industrial ranges flagged

Precision Errors: Limited decimal places to practical measurement capabilities

Unit Consistency: All units must match (kg/h, ¬∞C, kJ/kg)
*--------------------------------------------------------------------------------*
            <div class="note-card formula-card">
                <h3>üßÆ Formula</h3>
                <p>The steam consumption is calculated using:</p>
                <code>m‚Çõ = [1.5 √ó (Ww - Wd) √ó 2550 √ó 1.26 √ó Wd √ó (T2 - T1)] / hfg</code>
                <p>Where:</p>
                <ul class="note-list">
                    <li><strong>1.5:</strong> Safety factor for heat losses</li>
                    <li><strong>2550 kJ/kg:</strong> Average water enthalpy + enthalpy of evaporation</li>
                    <li><strong>1.26:</strong> Correction factor for heat transfer efficiency</li>
                </ul>
            </div>
-->