{% extends 'base.html' %}
{% block title %}Actual Evaporation Rate Of A Boiler From Its kW Rating And The Energy Required To Be Added To The Feedwater To Make Steam Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actual Evaporation Rate Of A Boiler From Its kW Rating And The Energy Required To Be Added To The Feedwater To Make Steam Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
            border-radius: 12px;
        }

        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: 420px;
            overflow-y: auto;
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: 420px;
            text-align: center;
        }
        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .result-value { 
            width: 100%; 
        }
        
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .rate-label { 
            color: #7f8c8d; 
        }

        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
            margin-top: 20px;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .feedback-content { 
            color: #34495e; 
        }

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .formula-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 6px solid #0d47a1;
        }
        
        .formula-card code {
            display: inline-block;
            background: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: bold;
            color: #0d47a1;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }
    </style>
</head>
<body>
   <div class="calculator-container printable" id="printArea">

    <!-- Include header/footer for print -->
    {% include "includes/print_header_footer.html" %}

        <div class="calculator-header">
            <h1>Actual Evaporation Rate Of A Boiler From Its kW Rating And The Energy Required To Be Added To The Feedwater To Make Steam Calculator</h1>
            <p>Calculates the actual steam output of a boiler based on its power rating (kW) and the energy required to convert feedwater into steam (kJ/kg)</p>
        </div>

        <div class="calc-content">
            <!-- Calculator Input Card -->
            <div class="calc-card">
                <h2>Enter Data</h2>
                <div class="form-group">
                    <label for="Qdot">Boiler Rating (kW)</label>
                    <input type="number" id="Qdot" class="form-input" min="0" placeholder="Enter boiler rating">
                </div>

                <div class="form-group">
                    <label for="energy">Energy Required (kJ/kg)</label>
                    <input type="number" id="energy" class="form-input" min="0" placeholder="Enter energy required">
                </div>

                <button class="calculate-btn" onclick="calculateEvaporationRate()">Calculate Steam Output</button>
            </div>

            <!-- Result Section -->
            <div class="result-card">
                <div class="result-placeholder" id="placeholder">
                    <img src="https://cdn-icons-png.flaticon.com/512/2942/2942789.png" alt="Boiler illustration">
                    <p>This tool calculates the <strong>actual steam output</strong> in kg/h. Enter your boiler rating and energy required to see results.</p>
                </div>

                <div class="result-error hidden" id="resultError">
                    <div class="error-icon">‚ùå</div>
                    <div class="error-message" id="errorMessage"></div>
                </div>

                <div class="result-value hidden" id="resultValue">
                    <div class="calculation-type" id="calculationType" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                        <h2>Steam Output</h2>
                    </div>
                    <div class="rate-value" id="steamOutputValue">0.00</div>
                    <div class="rate-label">kg/h</div>
                    
                    <div class="result-feedback">
                        <div class="feedback-title">Boiler Evaporation Rate Interpretation</div>
                        <div class="feedback-content" id="boilerFeedback"></div>
                    </div>
                    
                    <div class="btn-wrapper">
                        <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Section -->
        <div class="note-section">
            <div class="note-card">
                <h3>üîé About This Calculator</h3>
                <p>
                    The <strong>Boiler Evaporation Rate Calculator</strong> estimates how much steam (kg/h) a boiler produces using its power rating (kW) and the energy needed to convert water into steam (kJ/kg). It helps assess efficiency, optimize energy use, and maintain safe operations.
                </p> 
            </div>

            <div class="note-card">
                <h3>‚ùì Explanation of Parameters</h3>
                <ul class="note-list">
                    <li><strong>·πÅ (Steam Output):</strong> The total amount of steam produced by the boiler, measured in kg per hour (kg/h).</li>
                    <li><strong>QÃá (Boiler Rating):</strong> The heating power of the boiler, measured in kilowatts (kW), which represents how much energy the boiler can supply.</li>
                    <li><strong>Energy to be Added:</strong> The heat energy required to convert 1 kg of water into steam, measured in kilojoules per kilogram (kJ/kg).</li>
                </ul>
            </div>

            <div class="note-card">
                <h3>‚öôÔ∏è Explanation of Constant Value (3600)</h3>
                <ul class ="note-list">
                 <li>The constant <strong>3600</strong> is used to convert power from kilowatts (kW) to kilojoules per hour (kJ/h). This is necessary because:</li>
                   <li>To match the steam output unit (kg/h), we need to convert seconds to hours.</li>
                   <li>Since <strong>1 hour = 3600 seconds</strong>, multiplying by 3600 converts kJ/s to kJ/h, ensuring consistent unit alignment in the equation.</li>
                </ul>
            </div>

            <div class="note-card">
                <h3>üìä Real-Life Applications</h3>
                <ul class="note-list">
                    <li><strong>Industrial Boilers:</strong> Optimize fuel consumption and cost savings.</li>
                    <li><strong>Power Plants:</strong> Assess steam generation efficiency for electricity production.</li>
                    <li><strong>Environmental Impact Analysis:</strong> Reduces unnecessary fuel wastage and emissions.</li>
                    <li><strong>Quality & Safety Control:</strong> Ensure boilers run within safe operating limits.</li>
                </ul>
            </div>
            
            <div class="note-card">
                <h3>üí° Conclusion</h3>
                <p>This formula is crucial in industrial settings to monitor and optimize boiler performance. By calculating steam output, engineers can ensure energy efficiency, cost savings, and compliance with environmental standards. Regular assessments help improve operations and reduce fuel wastage while maintaining high safety standards.</p>
            </div>
        </div>
    </div>

    <script>
        // Set current date for print header
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('printDate').textContent = now.toLocaleDateString('en-US', options);
        });

        function calculateEvaporationRate() {
            const Qdot = document.getElementById("Qdot").value.trim();
            const energy = document.getElementById("energy").value.trim();

            const errorBox = document.getElementById('resultError');
            const errorMessage = document.getElementById('errorMessage');
            const placeholder = document.getElementById('placeholder');
            const resultValue = document.getElementById('resultValue');
            const outputValue = document.getElementById('steamOutputValue');
            const feedbackBox = document.getElementById('boilerFeedback'); 

            let errors = [];
            if (Qdot === "") {
                errors.push("üëâ Please enter the boiler rating (kW).");
            } else if (parseFloat(Qdot) <= 0) {
                errors.push("üëâ Boiler rating must be greater than 0.");
            }
            
            if (energy === "") {
                errors.push("üëâ Please enter the energy required (kJ/kg).");
            } else if (parseFloat(energy) <= 0) {
                errors.push("üëâ Energy required must be greater than 0.");
            }

            if (errors.length > 0) {
                errorMessage.innerHTML = errors.join("<br>");
                errorBox.classList.remove("hidden");
                placeholder.classList.add("hidden");
                resultValue.classList.add("hidden");
                return;
            } else {
                errorBox.classList.add("hidden");
            }

            const QdotNum = parseFloat(Qdot);
            const energyNum = parseFloat(energy);
            const steamOutput = (QdotNum * 3600) / energyNum;
            outputValue.textContent = steamOutput.toFixed(4);

            let feedback = "";
            if (steamOutput < 1000) {
                feedback = "‚ö†Ô∏è Low Output (< 1,000 kg/h) ‚Äì Boiler is under light load or low efficiency. Suitable only for small-scale operations.";
            } else if (steamOutput >= 1000 && steamOutput <= 10000) {
                feedback = "‚úÖ Moderate Output (1,000 ‚Äì 10,000 kg/h) ‚Äì Normal range for many industrial boilers. Indicates good energy performance.";
            } else {
                feedback = "üî• High Output (> 10,000 kg/h) ‚Äì Boiler at high capacity. Ensure monitoring for fuel use and safety compliance.";
            }

            feedbackBox.textContent = feedback;

            placeholder.classList.add('hidden');
            resultValue.classList.remove('hidden');
        }

        function printReport() {
            // Update date just before printing
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('printDate').textContent = now.toLocaleDateString('en-US', options);
            
            window.print();
        }
    </script>
    <script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}