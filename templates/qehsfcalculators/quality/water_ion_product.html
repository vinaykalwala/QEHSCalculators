{% extends 'base.html' %}
{% block title %}Water Ion Product Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Water Ion Product Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            border-radius: 12px;
        }

        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: 420px;
            overflow-y: auto;
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Radio buttons */
        .radio-group {
            margin-bottom: 20px;
        }
        
        .main-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: #fff;
        }
        
        .radio-option {
            margin-bottom: 10px;
        }
        
        .radio-option label {
            color: #fff;
            margin-left: 8px;
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        
.result-card::-webkit-scrollbar {
    width: 8px;
}

.result-card::-webkit-scrollbar-thumb {
    background: #1560bd;
    border-radius: 6px;
}

.result-card::-webkit-scrollbar-track {
    background: #f1f1f1;
}

.result-card {
    justify-content: flex-start; /* align from top */
    align-items: stretch;
    min-height: 420px;
    text-align: center;
    overflow-y: auto;       /* Enable vertical scrolling */
    max-height: 450px;      /* Set max height to control output size */
    padding: 20px;          /* keep spacing */
}

        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        
        .result-value { 
            width: 100%; 
        }
        
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .rate-label { 
            color: #7f8c8d; 
        }

        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
            margin-top: 20px;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .feedback-content { 
            color: #34495e; 
        }

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .formula-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 6px solid #0d47a1;
        }
        
        .formula-card code {
            display: inline-block;
            background: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: bold;
            color: #0d47a1;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }

        .btn-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .back-btn {
            background:linear-gradient(#1560bd,#000040);
            color: #ffffff;
            border: 2px solid #1560bd;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #1560bd;
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="btn-container">
        <a href="{% url 'qualitycategory_calculators' %}" class="back-btn">Back To Quality Calculators</a>
    </div>

    <div class="calculator-container printable" id="printArea">
        <!-- Include header/footer for print -->
        {% include "includes/print_header_footer.html" %}

        <div class="calculator-header">
            <h1>Water Ion Product Calculator</h1>
            <p>Calculates the ion product of water (K<sub>w</sub>) and related parameters for water quality assessment</p>
        </div>

        <div class="calc-content">
            <!-- Calculator Input Card -->
            <div class="calc-card">
                <h2>Enter Data</h2>
                <div class="form-group">
                    <label for="hydrogenConcentration">Hydrogen Ion Concentration [H‚Å∫] (mol/L)</label>
                    <input type="number" id="hydrogenConcentration" class="form-input" step="1e-14" min="1e-14" max="1" placeholder="Enter [H‚Å∫] value">
                </div>

                <div class="form-group">
                    <label for="hydroxideConcentration">Hydroxide Ion Concentration [OH‚Åª] (mol/L)</label>
                    <input type="number" id="hydroxideConcentration" class="form-input" step="1e-14" min="1e-14" max="1" placeholder="Enter [OH‚Åª] value">
                </div>

                <div class="radio-group">
                    <label class="main-label">Calculation Type:</label>
                  
                    <div class="radio-option">
                      <input type="radio" id="findKw" name="calcType" value="kw" checked>
                      <label for="findKw">Calculate K<sub>w</sub> from ions</label>
                    </div>
                  
                    <div class="radio-option">
                      <input type="radio" id="findOH" name="calcType" value="oh">
                      <label for="findOH">Find [OH‚Åª] from [H‚Å∫]</label>
                    </div>
                  
                    <div class="radio-option">
                      <input type="radio" id="findH" name="calcType" value="h">
                      <label for="findH">Find [H‚Å∫] from [OH‚Åª]</label>
                    </div>
                </div>

                <button class="calculate-btn" onclick="calculateWaterIonProduct()">Calculate</button>
            </div>

            <!-- Result Section -->
            <div class="result-card">
                <div class="result-placeholder" id="placeholder">
                    <img src="https://cdn-icons-png.flaticon.com/512/2942/2942789.png" alt="Water chemistry illustration">
                    <p>This tool calculates the <strong>ion product of water</strong> and related parameters. Enter your values and select calculation type to see results.</p>
                </div>

                <div class="result-error hidden" id="resultError">
                    <div class="error-icon">‚ùå</div>
                    <div class="error-message" id="errorMessage"></div>
                </div>

                <div class="result-value hidden" id="resultValue">
                    <div class="calculation-type" id="calculationType" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                        <h2>Calculation Result</h2>
                    </div>
                    <div class="rate-value" id="resultOutput">0.00</div>
                    <div class="rate-label" id="resultUnit"></div>
                    
                    <div class="result-feedback">
                        <div class="feedback-title">Water Quality Interpretation</div>
                        <div class="feedback-content" id="waterFeedback"></div>
                    </div>
                    
                    <div class="btn-wrapper">
                        <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Section -->
        <div class="note-section">
            <div class="note-card">
                <h3>üîé About This Calculator</h3>
                <p>
                    The <strong>Water Ion Product Calculator</strong> determines the ion product of water (K<sub>w</sub>) and related parameters that are fundamental to water chemistry. It helps assess water quality, pH balance, and compliance with environmental standards.
                </p> 
            </div>
            
            <div class="note-card">
                <h3>üìå Input Validations</h3>
                <ul class="note-list">
                    <li><strong>Hydrogen Ion Concentration [H‚Å∫]:</strong> Required for certain calculations, must be > 0 mol/L</li>
                    <li><strong>Hydroxide Ion Concentration [OH‚Åª]:</strong> Required for certain calculations, must be > 0 mol/L</li>
                    <li><strong>Realistic Range:</strong> Typical values range from 10<sup>-14</sup> to 1 mol/L</li>
                    <li><strong>Zero Values:</strong> Concentrations cannot be zero (division by zero)</li>
                </ul>
            </div>

            <div class="note-card">
                <h3>‚ùì Explanation of Parameters</h3>
                <ul class="note-list">
                    <li><strong>[H‚Å∫] Hydrogen Ion Concentration:</strong> Represents the concentration of hydrogen ions in a solution. A higher [H‚Å∫] means the solution is more acidic.</li>
                    <li><strong>[OH‚Åª] Hydroxide Ion Concentration:</strong> Represents the concentration of hydroxide ions in a solution. A higher [OH‚Åª] means the solution is more basic (alkaline).</li>
                    <li><strong>K<sub>w</sub> (Ion Product of Water):</strong> The equilibrium constant for water's autoionization (K<sub>w</sub> = [H‚Å∫][OH‚Åª] = 1.0√ó10<sup>-14</sup> at 25¬∞C).</li>
                </ul>
            </div>
            
            

            <div class="note-card">
                <h3>üìä Real-Life Water Quality Applications</h3>
                <ul class="note-list">
                    <li><strong>Drinking Water Treatment:</strong> Ensuring proper pH levels for disinfection and pipe corrosion control</li>
                    <li><strong>Wastewater Treatment:</strong> Monitoring neutralization processes</li>
                    <li><strong>Aquatic Ecosystems:</strong> Maintaining pH levels for fish and plant survival</li>
                    <li><strong>Industrial Water Systems:</strong> Preventing scale formation and equipment damage</li>
                    <li><strong>Swimming Pools:</strong> Balancing chlorine effectiveness and swimmer comfort</li>
                </ul>
            </div>
            
            <div class="note-card">
                <h3>üå°Ô∏è Temperature Considerations</h3>
                <p>The ion product of water (K<sub>w</sub>) changes with temperature. The standard value of 1.0√ó10<sup>-14</sup> is for 25¬∞C. At different temperatures, K<sub>w</sub> varies:</p>
                <ul class="note-list">
                    <li>0¬∞C: K<sub>w</sub> ‚âà 0.114√ó10<sup>-14</sup></li>
                    <li>25¬∞C: K<sub>w</sub> = 1.00√ó10<sup>-14</sup></li>
                    <li>50¬∞C: K<sub>w</sub> ‚âà 5.48√ó10<sup>-14</sup></li>
                    <li>100¬∞C: K<sub>w</sub> ‚âà 51.3√ó10<sup>-14</sup></li>
                </ul>
            </div>
            
            <div class="note-card">
                <h3>üí° Conclusion</h3>
                <p>The ion product of water is the cornerstone of aqueous chemistry and water quality management. Understanding K<sub>w</sub> relationships enables proper pH control, which is essential for safe drinking water, healthy ecosystems, and effective industrial processes. Regular monitoring of these parameters helps prevent water quality issues and ensures compliance with health standards.</p>
            </div>
        </div>
    </div>

    <script>
        const KW_25C = 1.0e-14; // Standard ion product at 25¬∞C

function calculateWaterIonProduct() {
    const hConcInput = document.getElementById("hydrogenConcentration").value.trim();
    const ohConcInput = document.getElementById("hydroxideConcentration").value.trim();
    const calcType = document.querySelector('input[name="calcType"]:checked').value;

    const errorBox = document.getElementById('resultError');
    const errorMessage = document.getElementById('errorMessage');
    const placeholder = document.getElementById('placeholder');
    const resultValue = document.getElementById('resultValue');
    const outputValue = document.getElementById('resultOutput');
    const resultUnit = document.getElementById('resultUnit');
    const feedbackBox = document.getElementById('waterFeedback');

    // Reset UI
    errorBox.classList.add("hidden");
    resultValue.classList.add("hidden");
    placeholder.classList.remove("hidden");
    errorMessage.innerHTML = "";
    feedbackBox.innerHTML = "";

    const errors = [];
    const warnings = [];
    let hConc = null;
    let ohConc = null;

    // Helper limits
    const MIN_CONC = 1e-15;   // practical minimum allowed
    const MAX_CONC = 10;      // plausible upper bound (pH ~ -1)
    const MAX_SAFE = 1.0;     // above this is unusual for many aqueous systems

    // Parse function that accepts exponential notation and normal decimals
    function parseConcentration(value, label) {
        if (value === "" || value === null) return null;
        const parsed = Number(value);
        if (!isFinite(parsed) || isNaN(parsed)) {
            errors.push(`üëâ ${label} must be a valid number (e.g., 1e-7 or 0.0000001).`);
            return null;
        }
        if (parsed <= 0) {
            errors.push(`üëâ ${label} must be greater than 0.`);
            return null;
        }
        if (parsed < MIN_CONC) {
            errors.push(`üëâ ${label} is too small (< ${MIN_CONC}). Check units or instrument.`);
            return null;
        }
        if (parsed > MAX_CONC) {
            errors.push(`üëâ ${label} is implausibly large (> ${MAX_CONC} mol/L). Check units or input.`);
            return null;
        }
        if (parsed > MAX_SAFE) {
            warnings.push(`‚ö†Ô∏è ${label} is high (> ${MAX_SAFE} mol/L). This is unusual; verify measurement.`);
        }
        return parsed;
    }

    // Validation per calculation type
    if (calcType === 'kw') {
        // both required
        if (hConcInput === "") errors.push("üëâ [H‚Å∫] concentration is required for K\u209A calculation.");
        if (ohConcInput === "") errors.push("üëâ [OH\u207B] concentration is required for K\u209A calculation.");
        if (errors.length === 0) {
            hConc = parseConcentration(hConcInput, "[H‚Å∫]");
            ohConc = parseConcentration(ohConcInput, "[OH‚Åª]");
        }
    } else if (calcType === 'oh') {
        if (hConcInput === "") errors.push("üëâ [H‚Å∫] concentration is required to compute [OH‚Åª].");
        if (errors.length === 0) {
            hConc = parseConcentration(hConcInput, "[H‚Å∫]");
        }
    } else if (calcType === 'h') {
        if (ohConcInput === "") errors.push("üëâ [OH‚Åª] concentration is required to compute [H‚Å∫].");
        if (errors.length === 0) {
            ohConc = parseConcentration(ohConcInput, "[OH‚Åª]");
        }
    }

    // If parseConcentration pushed errors, stop
    if (errors.length > 0) {
        errorMessage.innerHTML = errors.join("<br>");
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        return;
    }

    // Guard against underflow/zero after parse
    if (hConc !== null && (hConc === 0 || !isFinite(hConc))) {
        errorMessage.innerHTML = "‚ùå [H‚Å∫] value is invalid or underflowed to 0. Check input.";
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        return;
    }
    if (ohConc !== null && (ohConc === 0 || !isFinite(ohConc))) {
        errorMessage.innerHTML = "‚ùå [OH‚Åª] value is invalid or underflowed to 0. Check input.";
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        return;
    }

    // Calculations and interpretations
    let resultText = "";
    let unit = "";
    try {
        if (calcType === 'kw') {
            const kw = hConc * ohConc;
            unit = "mol¬≤/L¬≤";
            // Format
            const kwDisplay = Number(kw).toExponential(4);
            resultText = `${kwDisplay}`;
            // Compare to standard KW@25C
            const ratio = kw / KW_25C;
            if (Math.abs(ratio - 1) <= 0.10) {
                // within 10%
                warnings.push("‚úîÔ∏è K\u209A is within ¬±10% of K\u209A@25¬∞C.");
            } else if (ratio > 0 && (ratio <= 10 && ratio > 1.10 || ratio >= 0.1 && ratio < 0.90)) {
                warnings.push("‚ö†Ô∏è K\u209A deviates from K\u209A@25¬∞C (possible temperature effect or sampling error).");
            } else {
                warnings.push("‚ö†Ô∏è K\u209A deviates by more than one order of magnitude from K\u209A@25¬∞C ‚Äî verify temperature, sampling and analysis method.");
            }

            // pH / pOH calculation from inputs
            const pH = -Math.log10(hConc);
            const pOH = -Math.log10(ohConc);
            resultText += `<br>pH = ${pH.toFixed(2)} | pOH = ${pOH.toFixed(2)}`;
        }
        else if (calcType === 'oh') {
            // compute OH from KW_25C
            if (hConc <= 0) throw new Error("[H‚Å∫] must be > 0 for division.");
            const oh = KW_25C / hConc;
            unit = "mol/L";
            if (!isFinite(oh) || oh === 0) throw new Error("Computed [OH‚Åª] is invalid (possible underflow).");

            resultText = `${Number(oh).toExponential(4)}`;
            const pH = -Math.log10(hConc);
            const pOH = -Math.log10(oh);
            resultText += `<br>pH = ${pH.toFixed(2)} | pOH = ${pOH.toFixed(2)}`;

            // plausibility checks
            if (pH < -1 || pH > 16) warnings.push("‚ö†Ô∏è Computed pH is outside typical bounds (-1 to 16). Verify inputs.");
            if (oh < MIN_CONC) warnings.push("‚ö†Ô∏è Computed [OH‚Åª] is extremely small ‚Äî may be below instrument detection limit.");
        }
        else if (calcType === 'h') {
            // compute H from KW_25C
            if (ohConc <= 0) throw new Error("[OH‚Åª] must be > 0 for division.");
            const h = KW_25C / ohConc;
            unit = "mol/L";
            if (!isFinite(h) || h === 0) throw new Error("Computed [H‚Å∫] is invalid (possible underflow).");

            resultText = `${Number(h).toExponential(4)}`;
            const pH = -Math.log10(h);
            const pOH = -Math.log10(ohConc);
            resultText += `<br>pH = ${pH.toFixed(2)} | pOH = ${pOH.toFixed(2)}`;

            if (pH < -1 || pH > 16) warnings.push("‚ö†Ô∏è Computed pH is outside typical bounds (-1 to 16). Verify inputs.");
            if (h < MIN_CONC) warnings.push("‚ö†Ô∏è Computed [H‚Å∫] is extremely small ‚Äî may be below instrument detection limit.");
        }
    } catch (calcErr) {
        errorMessage.innerHTML = "‚ùå Calculation error: " + (calcErr.message || "invalid input");
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        return;
    }

    // Display results
    outputValue.innerHTML = resultText;
    resultUnit.innerHTML = `<strong>${unit}</strong>`;
    // Build feedback block
    let feedback = "";
    // Echo inputs for audit
    feedback += `<strong>Inputs:</strong> `;
    if (hConc !== null) feedback += `[H‚Å∫] = ${Number(hConc).toExponential(4)} mol/L `;
    if (ohConc !== null) feedback += `[OH‚Åª] = ${Number(ohConc).toExponential(4)} mol/L `;
    feedback += `<br><strong>Calculation:</strong> ${calcType === 'kw' ? "K\u209A = [H\u207A] √ó [OH\u207B]" : (calcType === 'oh' ? "[OH\u207B] = K\u209A / [H\u207A]" : "[H\u207A] = K\u209A / [OH\u207B]") }`;
    // Warnings / notes
    if (warnings.length > 0) {
        feedback += `<br><strong>Notes:</strong> ${warnings.join(" ")}`
    } else {
        feedback += `<br><strong>Notes:</strong> No immediate anomalies detected.`;
    }
    // Add standard KW reference
    feedback += `<br><small>Reference: K\u209A@25\u00B0C = ${KW_25C.toExponential(1)} mol\u00B2/L\u00B2. Temperature affects K\u209A; deviations may be normal if temperature ‚â† 25\u00B0C.</small>`;

    feedbackBox.innerHTML = feedback;

    placeholder.classList.add("hidden");
    resultValue.classList.remove("hidden");
}

    </script>
    <script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}
<!--
===========Input Validation Rules from QEHS Perspective=============
Hydrogen Ion Concentration [H‚Å∫]
Range: 1.0 √ó 10‚Åª¬π‚Å¥ to 1.0 mol/L (pH 0 to 14)

Realistic water quality range: 3.16 √ó 10‚Åª‚Å∏ to 3.16 √ó 10‚Åª‚Åµ mol/L (pH 4.5 to 7.5) for most environmental waters

Critical safety thresholds:

< 10‚Åª‚Å¥ mol/L (pH > 4): Potential corrosion risk for metals

< 10‚Åª‚Å∂ mol/L (pH > 6): Generally safe for drinking water (EPA standard: pH 6.5-8.5)

10‚Åª‚Å∏ mol/L (pH < 8): Generally safe for drinking water

Hydroxide Ion Concentration [OH‚Åª]
Range: 1.0 √ó 10‚Åª¬π‚Å¥ to 1.0 mol/L (pOH 0 to 14)

Realistic water quality range: 3.16 √ó 10‚Åª‚Å∏ to 3.16 √ó 10‚Åª‚Åµ mol/L (pOH 4.5 to 7.5)

Critical safety thresholds:

10‚Åª‚Å¥ mol/L (pH > 10): Caustic risk, can cause chemical burns

10‚Åª¬≤ mol/L (pH > 12): Severe safety hazard

==========Edge Case Validations=================
Division by zero: Already handled, but need explicit messaging

Extreme pH values (< 2 or > 12): Require safety warnings

Temperature effects: Flag results that deviate significantly from 25¬∞C expectation

Implausible combinations: pH + pOH should ‚âà 14.00 ¬± 0.5

Measurement precision: Values beyond normal instrument capabilities

<div class="note-card formula-card">
                <h3>üßÆ Calculation Formulas</h3>
                <p>The calculator uses these fundamental relationships:</p>
                <code>K<sub>w</sub> = [H‚Å∫] √ó [OH‚Åª] = 1.0√ó10<sup>-14</sup> (at 25¬∞C)</code><br><br>
                <code>[OH‚Åª] = K<sub>w</sub> / [H‚Å∫]</code><br><br>
                <code>[H‚Å∫] = K<sub>w</sub> / [OH‚Åª]</code>
                <p>Where:</p>
                <ul class="note-list">
                    <li>K<sub>w</sub> = Ion product of water (mol¬≤/L¬≤)</li>
                    <li>[H‚Å∫] = Hydrogen ion concentration (mol/L)</li>
                    <li>[OH‚Åª] = Hydroxide ion concentration (mol/L)</li>
                </ul>
            </div>
-->