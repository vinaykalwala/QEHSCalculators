{% extends 'base.html' %}
{% block title %}Settling Equation (General-Spherical) Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settling Equation (General-Spherical) Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0px 20px;
            border-radius: 12px;
        }

        .btn-container {
            display: flex;
            justify-content: center; /* Horizontally center */
            margin: 30px 0;
        }

        .back-btn {
            background:linear-gradient(#1560bd,#000040); /* Dark navy background */
            color: #ffffff; /* White text */
            border: 2px solid #1560bd; /* Highlight border */
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none; /* Remove underline for link */
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #1560bd; /* Highlight on hover */
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05); /* Subtle hover effect */
        }
        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
             /* display: flex;  */
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: auto;
            /* overflow-y: auto;  */
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Input rows for better organization */
        .input-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .input-row .form-group {
            flex: 1;
        }
        
        @media (max-width: 600px) {
            .input-row {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: auto;
            text-align: center;
            margin-top: 20px;
        }
        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }

                .rate-display {
                display: flex;
                gap: 20px;
                justify-content: center;
                align-items: center;
                flex-wrap: wrap; /* responsive */
                text-align: center;
            }

            .rate-block {
                display: flex;
                flex-direction: column;
                align-items: center;
                min-width: 120px; /* keeps blocks same width */
            }

            .rate-label {
                font-weight: bold;
                font-size: 16px;
                color: #444;
                margin-bottom: 5px;
            }

            .rate-value {
                font-size: 40px;
                font-weight: 700;
                color: #2980b9;
                line-height: 1.2;
            }

            .rate-unit {
                font-size: 14px;
                color: #777;
                margin-top: 4px;
            }

            /* Responsive */
            @media (max-width: 768px) {
                .rate-value { font-size: 32px; }
            }

            @media (max-width: 480px) {
                .rate-value { font-size: 26px; }
                
                .rate-unit { font-size: 12px; }
                
            }



        /* Meter */
        .safety-meter {
            width: 100%; 
            height: 12px;
            background: #f1f5f9;
            border-radius: 6px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .meter-fill {
            height: 100%;
            transition: width 1s ease-in-out;
            border-radius: 6px;
        }
        
        .meter-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        /* Feedback */
                .result-feedback {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 18px 20px;
    border-left: 4px solid #3498db;
    text-align: left;
    max-width: 800px; /* keeps it readable on large screens */
    margin: 0 auto;   /* centers it */
}

.feedback-title {
    font-weight: 600;
    margin-bottom: 8px;
    color: #2c3e50;
    font-size: 18px;
}

.feedback-content { 
    color: #34495e; 
    font-size: 16px;
    line-height: 1.5;
}

/* Responsive breakpoints */
@media (max-width: 768px) {
    .result-feedback {
        padding: 15px;
        font-size: 15px;
    }

    .feedback-title {
        font-size: 16px;
    }

    .feedback-content {
        font-size: 14px;
    }
}

@media (max-width: 480px) {
    .result-feedback {
        padding: 12px;
        border-left-width: 3px;
    }

    .feedback-title {
        font-size: 15px;
    }

    .feedback-content {
        font-size: 13px;
    }
}

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .formula-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 6px solid #0d47a1;
            padding: 20px;
        }
        
        .formula-card code {
            display: inline-block;
            background: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-weight: bold;
            color: #0d47a1;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            margin: 10px 0;
            font-family: monospace;
        }
        
        .good { 
            color: #2e7d32; 
            font-weight: 600; 
        }
        
        .average { 
            color: #f9a825; 
            font-weight: 600; 
        }
        
        .bad { 
            color: #c62828; 
            font-weight: 600; 
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Additional info display */
        .additional-info {
            background: #f0f8ff;
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            text-align: left;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            border-bottom: 1px dashed #ddd;
            padding-bottom: 5px;
        }
        
        .info-label {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .info-value {
            color: #2980b9;
            font-weight: 500;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }
    </style>
</head>
<body>

<div class="btn-container">
    <a href="{% url 'environmentcategory_calculators' %}" class="back-btn">Back To Environment Calculators</a>
</div>

<div class="calculator-container printable" id="printArea">
    {% include "includes/print_header_footer.html" %}

    <div class="calculator-header">
        <h1>Settling Equation (General-Spherical) Calculator</h1>
        <p>Calculate the terminal velocity of a spherical particle in fluid using iterative approach for environmental and industrial applications.</p>
    </div>

    <div class="calc-content">
        <!-- Input Card -->
        <div class="calc-card">
            <h2>Enter Parameters</h2>

            <div class="input-row">
                <div class="form-group">
                    <label for="rho_p">Particle Density (ρ<sub>p</sub>, kg/m³)</label>
                    <input type="number" id="rho_p" class="form-input" step="any" min="0" placeholder="e.g., 2650">
                </div>
                <div class="form-group">
                    <label for="rho_f">Fluid Density (ρ<sub>f</sub>, kg/m³)</label>
                    <input type="number" id="rho_f" class="form-input" step="any" min="0" placeholder="e.g., 1000">
                </div>
            </div>

            <div class="input-row">
                <div class="form-group">
                    <label for="diameter">Particle Diameter (d, m)</label>
                    <input type="number" id="diameter" class="form-input" step="any" min="0" placeholder="e.g., 0.0001">
                </div>
                <div class="form-group">
                    <label for="viscosity">Fluid Viscosity (μ, Pa·s)</label>
                    <input type="number" id="viscosity" class="form-input" step="any" min="0" placeholder="e.g., 0.001">
                </div>
            </div>

            <div class="form-group">
                <label for="gravity">Gravitational Acceleration (g, m/s²)</label>
                <input type="number" id="gravity" class="form-input" step="any" min="0" value="9.81" readonly>
            </div>

            <button class="calculate-btn" onclick="calculateTerminalVelocity()">Calculate Terminal Velocity</button>
        </div>

        <!-- Result Card -->
        <div class="result-card">
            <div class="result-placeholder" id="placeholder">
                <img src="/static/images/mlc_environment_result.png" alt="Sedimentation illustration">
                <p>This tool calculates terminal velocity for sedimentation and particle analysis using iterative approach.</p>
            </div>

            <div class="result-error hidden" id="resultError">
                <div class="error-icon">❌</div>
                <div class="error-message" id="errorMessage"></div>
            </div>

            <div class="result-value hidden" id="resultValue">
                <div class="calculation-type" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                    <h2>Terminal Velocity (v<sub>t</sub>)</h2>
                </div>

                <div class="rate-display">
                    <div class="rate-value" id="velocityValue">0.000</div>
                    <div class="rate-unit">m/s</div>
                </div>

                <div class="additional-info" id="additionalInfo"></div>

                <div class="result-feedback">
                    <div class="feedback-title"> Assessment</div>
                    <div class="feedback-content" id="feedbackContent"></div>
                </div>

                <div class="btn-wrapper">
                    <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notes -->
    <div class="note-section">

    <div class="note-card">
        <h3>📘 About This Calculator</h3>
        <p>
            The <strong>Settling Terminal Velocity Calculator</strong> determines the maximum velocity a spherical particle reaches when falling through a fluid, 
            where the gravitational force is balanced by the drag force using an <strong>iterative approach</strong>. This is essential in environmental engineering, 
            water treatment, air pollution control, and industrial processes involving particle separation.
        </p>
    </div>

    <div class="note-card">
        <h3>⚙ Parameters </h3>
        <ul class="note-list">
            <li><strong>ρ<sub>p</sub> (Particle Density):</strong> Density of the spherical particle in kg/m³.</li>
            <li><strong>ρ<sub>f</sub> (Fluid Density):</strong> Density of the fluid in kg/m³.</li>
            <li><strong>d (Particle Diameter):</strong> Diameter of the spherical particle in m.</li>
            <li><strong>μ (Fluid Viscosity):</strong> Dynamic viscosity of the fluid in Pa·s.</li>
            <li><strong>g (Gravitational Acceleration):</strong> Constant = 9.81 m/s².</li>
        </ul>
    </div>

 

    <div class="note-card">
        <h3>✅ Input Validation Rules</h3>
        <ul class="note-list">
            <li><strong>Particle Density (ρ<sub>p</sub>):</strong> Must be > 0 kg/m³ (typical range: 500-8000 kg/m³).</li>
            <li><strong>Fluid Density (ρ<sub>f</sub>):</strong> Must be > 0 kg/m³ (typical range: 1.2-1200 kg/m³ for air/water).</li>
            <li><strong>Particle Diameter (d):</strong> Must be > 0 m (typical range: 1e-6 to 1e-1 m).</li>
            <li><strong>Fluid Viscosity (μ):</strong> Must be > 0 Pa·s (typical range: 1e-5 to 10 Pa·s).</li>
            <li><strong>Density Comparison:</strong> ρ<sub>p</sub> must be > ρ<sub>f</sub> for settling to occur.</li>
            <li><strong>Realistic Values:</strong> Inputs should be within physically possible ranges.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>🔎 Output Validations</h3>
        <ul class="note-list">
            <li><strong>v must be finite:</strong> If result is NaN or Infinity → ❌ Invalid result, check inputs.</li>
            <li><strong>v > 10 m/s:</strong> ⚠️ Very high velocity → Particle settles very quickly. Check input values for accuracy.</li>
            <li><strong>0.001 m/s ≤ v ≤ 10 m/s:</strong> ✅ Appropriate Range → Terminal velocity is within typical range.</li>
            <li><strong>v < 0.001 m/s:</strong> ⚠️ Very low velocity → Particle may remain suspended for extended periods.</li>
            <li><strong>v = 0:</strong> ❌ No settling → Check if ρ<sub>p</sub> ≤ ρ<sub>f</sub>.</li>
            <li><strong>Flow Regime:</strong> Identifies laminar, transitional, or turbulent flow based on Reynolds number.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>📏 Standards & Compliance</h3>
        <ul class="note-list">
            <li>✔️ Calculations follow <strong>standard fluid dynamics principles</strong> for spherical particles.</li>
            <li>✔️ Drag coefficient formulas align with <strong>established correlations for different flow regimes</strong>.</li>
            <li>✔️ All values use <strong>standard SI units</strong> (kg/m³, m, Pa·s, m/s).</li>
            <li>✔️ Applications include <strong>water treatment, air pollution control, and industrial separation processes</strong>.</li>
            <li>✔️ Validations based on <strong>practical engineering limits</strong> for environmental applications.</li>
        </ul>
    </div>


<div class="note-card">
    <h3>📝 Conclusion</h3>
    <p>
        The <strong>Settling Terminal Velocity Calculator</strong> using iterative approach helps determine how fast a spherical particle 
        settles in a fluid under gravity across different flow regimes. By combining particle size, density difference, and fluid 
        properties with appropriate drag coefficient correlations, it provides an accurate velocity estimate with safety validations. 
        This assists engineers and students in analyzing flow behavior, designing sedimentation tanks, and ensuring 
        efficiency in environmental and chemical processes.
    </p>
</div>

</div>
<script>
function showErrors(errors) {
    const errorBox = document.getElementById("resultError");
    const errorMessage = document.getElementById("errorMessage");
    const placeholder = document.getElementById("placeholder");
    const resultValue = document.getElementById("resultValue");

    errorMessage.innerHTML = errors.join("<br>");
    errorBox.classList.remove("hidden");
    placeholder.classList.add("hidden");
    resultValue.classList.add("hidden");
}

function calculateTerminalVelocity() {
    // Read values
    const rho_p = parseFloat(document.getElementById("rho_p").value);
    const rho_f = parseFloat(document.getElementById("rho_f").value);
    const diameter = parseFloat(document.getElementById("diameter").value);
    const viscosity = parseFloat(document.getElementById("viscosity").value);
    const g = 9.81; // Gravitational acceleration constant

    const velocityValueEl = document.getElementById("velocityValue");
    const feedbackEl = document.getElementById("feedbackContent");
    const additionalInfoEl = document.getElementById("additionalInfo");
    document.getElementById("resultError").classList.add("hidden");
    feedbackEl.innerHTML = "";
    additionalInfoEl.innerHTML = "";

    const errors = [];
    const warnings = [];

    // Validation
    if (![rho_p, rho_f, diameter, viscosity].every(Number.isFinite)) {
        return showErrors(["👉 Please enter all values (numeric)."]);
    }
    
    if (rho_p <= 0) errors.push("👉 Particle density must be > 0 kg/m³.");
    if (rho_f <= 0) errors.push("👉 Fluid density must be > 0 kg/m³.");
    if (diameter <= 0) errors.push("👉 Particle diameter must be > 0 m.");
    if (viscosity <= 0) errors.push("👉 Fluid viscosity must be > 0 Pa·s.");
    
    // Check for density condition (particle must be denser than fluid to settle)
    if (rho_p <= rho_f) {
        errors.push("👉 Particle density must be greater than fluid density for settling to occur.");
    }
    
    // Warning for unusual values
    if (rho_p > 8000) warnings.push("⚠️ Particle density unusually high (>8000 kg/m³).");
    if (rho_p < 500) warnings.push("⚠️ Particle density unusually low (<500 kg/m³).");
    if (rho_f > 1200) warnings.push("⚠️ Fluid density unusually high (>1200 kg/m³).");
    if (rho_f < 1) warnings.push("⚠️ Fluid density unusually low (<1 kg/m³).");
    if (diameter > 0.1) warnings.push("⚠️ Particle diameter unusually large (>0.1 m).");
    if (diameter < 1e-6) warnings.push("⚠️ Particle diameter unusually small (<1e-6 m).");
    if (viscosity > 10) warnings.push("⚠️ Fluid viscosity unusually high (>10 Pa·s).");
    if (viscosity < 1e-5) warnings.push("⚠️ Fluid viscosity unusually low (<1e-5 Pa·s).");

    if (errors.length) return showErrors(errors);

    // Initial guess for terminal velocity
    let vt = Math.sqrt((4 * g * (rho_p - rho_f) * diameter) / (3 * rho_f));
    let cd, re, flowRegime;
    
    // Iterative approach (5 iterations for convergence)
    for (let i = 0; i < 5; i++) {
        re = (rho_f * vt * diameter) / viscosity;
        
        // Determine drag coefficient based on Reynolds number
        if (re <= 1) {
            cd = 24 / re;
            flowRegime = "Laminar (Stokes) Flow";
        } else if (re > 1 && re < 1000) {
            cd = 24/re + 3/Math.sqrt(re) + 0.34;
            flowRegime = "Transitional Flow";
        } else {
            cd = 0.4;
            flowRegime = "Turbulent (Newton) Flow";
        }
        
        // Update terminal velocity
        vt = Math.sqrt((4 * g * (rho_p - rho_f) * diameter) / (3 * cd * rho_f));
    }

    // Check for invalid results
    if (!Number.isFinite(vt) || vt <= 0) {
        return showErrors(["❌ Calculation error: Invalid terminal velocity result. Check input values."]);
    }

    // Classification
    let classification, suggestion, color;
    if (vt > 10) {
        classification = "Very High Velocity";
        suggestion = "⚠️ Particle settles very quickly. Check input values for accuracy.";
        color = "#e65100";
    } else if (vt >= 0.001) {
        classification = "Appropriate Velocity";
        suggestion = "✅ Terminal velocity is within typical range for sedimentation applications.";
        color = "#2e7d32";
    } else {
        classification = "Very Low Velocity";
        suggestion = "⚠️ Particle may remain suspended for extended periods.";
        color = "#c62828";
    }

    // Format the velocity for display
    let displayValue;
    if (vt < 0.01) {
        displayValue = vt.toExponential(4);
    } else {
        displayValue = vt.toFixed(4);
    }

    // Display additional information
    additionalInfoEl.innerHTML = `
        <div class="info-row">
            <span class="info-label">Reynolds Number (Re):</span>
            <span class="info-value">${re.toFixed(4)}</span>
        </div>
        <div class="info-row">
            <span class="info-label">Drag Coefficient (C_D):</span>
            <span class="info-value">${cd.toFixed(4)}</span>
        </div>
        <div class="info-row">
            <span class="info-label">Flow Regime:</span>
            <span class="info-value">${flowRegime}</span>
        </div>
    `;

    // Display result
    velocityValueEl.textContent = displayValue;
    feedbackEl.innerHTML = `
        <div>v<sub>t</sub> = <b>${displayValue}</b> m/s</div>
        <div>Classification: <b style="color:${color};">${classification}</b></div>
        <div style="margin-top:6px;">${suggestion}</div>
        ${warnings.length ? `<div style="margin-top:8px; color:#b35d00;">${warnings.join(" | ")}</div>` : ""}
    `;

    document.getElementById("placeholder").classList.add("hidden");
    document.getElementById("resultValue").classList.remove("hidden");
}

function printReport() {
    const el = document.getElementById('printDate');
    if (el) el.textContent = new Date().toLocaleDateString();
    window.print();
}
</script>
<script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}
<!--
Input Validations:
Particle Density (ρₚ): Must be > 0 kg/m³ (typical range: 500-8000 kg/m³)

Fluid Density (ρf): Must be > 0 kg/m³ (typical range: 1.2-1200 kg/m³)

Particle Diameter (d): Must be > 0 m (typical range: 1e-6 to 1e-1 m)

Fluid Viscosity (μ): Must be > 0 Pa·s (typical range: 1e-5 to 10 Pa·s)

Density Comparison: ρₚ must be > ρf for settling to occur
--------------------------------------------------------------------
Output Validations:
Finite result: Check for NaN or Infinity

Velocity > 10 m/s: Very high velocity (warning)

0.001 m/s ≤ v ≤ 10 m/s: Appropriate range

v < 0.001 m/s: Very low velocity (warning)

Flow Regime Identification: Based on Reynolds number

Reynolds Number Validation: Check for appropriate flow regime
-------------------------------------------------------------------------------
Edge Cases:
Extremely small particles: d = 1e-9 m (nanoparticles)

Extremely large particles: d = 1 m (clearly erroneous)

Very high viscosity: μ = 1000 Pa·s (e.g., pitch)

Very low viscosity: μ = 1e-6 Pa·s (e.g., gases)

Equal densities: ρₚ = ρf → No settling

Boundary between flow regimes: Re ≈ 1 and Re ≈ 1000
--------------------------------------------------------------------
Formula:
Iterative approach using:

vₜ = √[ (4 × g × (ρₚ - ρf) × d) / (3 × C_D × ρf) ]

Re = (ρ_f × vₜ × d) / μ

C_D varies based on Re:

Re ≤ 1: C_D = 24 / Re

1 < Re < 1000: C_D = 24/Re + 3/√Re + 0.34

Re ≥ 1000: C_D = 0.4


-->