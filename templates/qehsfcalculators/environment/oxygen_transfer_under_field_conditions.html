{% extends 'base.html' %}
{% block title %}Oxygen Transfer Under Field Conditions Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oxygen Transfer Under Field Conditions Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
<style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0px 20px;
            border-radius: 12px;
        }

        .btn-container {
            display: flex;
            justify-content: center; /* Horizontally center */
            margin: 30px 0;
        }

        .back-btn {
            background:linear-gradient(#1560bd,#000040); /* Dark navy background */
            color: #ffffff; /* White text */
            border: 2px solid #1560bd; /* Highlight border */
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none; /* Remove underline for link */
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #1560bd; /* Highlight on hover */
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05); /* Subtle hover¬†effect¬†*/
        }
        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
             /* display: flex;  */
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: auto;
            /* overflow-y: auto;  */
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Input rows for better organization */
        .input-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .input-row .form-group {
            flex: 1;
        }
        
        @media (max-width: 600px) {
            .input-row {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: auto;
            text-align: center;
            margin-top: 20px;
        }
        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }

                .rate-display {
                display: flex;
                gap: 20px;
                justify-content: center;
                align-items: center;
                flex-wrap: wrap; /* responsive */
                text-align: center;
            }

            .rate-block {
                display: flex;
                flex-direction: column;
                align-items: center;
                min-width: 120px; /* keeps blocks same width */
            }

            .rate-label {
                font-weight: bold;
                font-size: 16px;
                color: #444;
                margin-bottom: 5px;
            }

            .rate-value {
                font-size: 40px;
                font-weight: 700;
                color: #2980b9;
                line-height: 1.2;
            }

            .rate-unit {
                font-size: 14px;
                color: #777;
                margin-top: 4px;
            }

            /* Responsive */
            @media (max-width: 768px) {
                .rate-value { font-size: 32px; }
            }

            @media (max-width: 480px) {
                .rate-value { font-size: 26px; }
                
                .rate-unit { font-size: 12px; }
                
            }



        /* Meter */
        .safety-meter {
            width: 100%; 
            height: 12px;
            background: #f1f5f9;
            border-radius: 6px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .meter-fill {
            height: 100%;
            transition: width 1s ease-in-out;
            border-radius: 6px;
        }
        
        .meter-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        /* Feedback */
                .result-feedback {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 18px 20px;
    border-left: 4px solid #3498db;
    text-align: left;
    max-width: 800px; /* keeps it readable on large screens */
    margin: 0 auto;   /* centers it */
}

.feedback-title {
    font-weight: 600;
    margin-bottom: 8px;
    color: #2c3e50;
    font-size: 18px;
}

.feedback-content { 
    color: #34495e; 
    font-size: 16px;
    line-height: 1.5;
}

/* Responsive breakpoints */
@media (max-width: 768px) {
    .result-feedback {
        padding: 15px;
        font-size: 15px;
    }

    .feedback-title {
        font-size: 16px;
    }

    .feedback-content {
        font-size: 14px;
    }
}

@media (max-width: 480px) {
    .result-feedback {
        padding: 12px;
        border-left-width: 3px;
    }

    .feedback-title {
        font-size: 15px;
    }

    .feedback-content {
        font-size: 13px;
    }
}

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .formula-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 6px solid #0d47a1;
        }
        
        .formula-card code {
            display: inline-block;
            background: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: bold;
            color: #0d47a1;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .good { 
            color: #2e7d32; 
            font-weight: 600; 
        }
        
        .average { 
            color: #f9a825; 
            font-weight: 600; 
        }
        
        .bad { 
            color: #c62828; 
            font-weight: 600; 
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }
    </style>
</head>
<body>

<div class="btn-container">
        <a href="{% url 'environmentcategory_calculators' %}" class="back-btn">Back To Environment Calculators</a>
    </div>
<div class="calculator-container printable" id="printArea">


{% include "includes/print_header_footer.html" %}

<div class="calculator-header">
    <h1>Oxygen Transfer Under Field Conditions Calculator</h1>
    <p>Estimate the oxygen transfer rate under real field conditions (result shown in <strong>kg O‚ÇÇ/h</strong>).</p>
</div>

<div class="calc-content">
    <!-- Calculator -->
    <div class="calc-card">
        <h2>Enter Parameters</h2>

        <div class="input-row">
            <div class="form-group">
                <label for="Ns">Standard Oxygen Transfer Capacity (Ns) (kg O‚ÇÇ/h)</label>
                <input type="number" id="Ns" class="form-input" step="any" min="0" placeholder="e.g., 5.0" aria-label="Ns">
            </div>

            <div class="form-group">
                <label for="Cs">DO Saturation Concentration (Cs) (mg/L)</label>
                <input type="number" id="Cs" class="form-input" step="any" min="0" placeholder="e.g., 9.0" aria-label="Cs">
            </div>
        </div>

        <div class="input-row">
            <div class="form-group">
                <label for="CL">Operating DO Level (CL) (mg/L)</label>
                <input type="number" id="CL" class="form-input" step="any" min="0" placeholder="e.g., 3.5" aria-label="CL">
            </div>

            <div class="form-group">
                <label for="T">Temperature (T, ¬∞C)</label>
                <input type="number" id="T" class="form-input" step="any" placeholder="e.g., 20" aria-label="Temperature">
            </div>
        </div>

            <div class="form-group">
                <label for="alpha">Alpha (Œ± - Correction Factor)</label>
                <input type="number" id="alpha" class="form-input" step="any" min="0" placeholder="e.g., 0.85" aria-label="alpha">
            </div>
      

        <button class="calculate-btn" onclick="calculateOxygenTransfer()">Calculate</button>
    </div>

    <!-- Result Section (kept original ids/classes to preserve styling/behavior) -->
    <div class="result-card">
        <div class="result-placeholder" id="placeholder">
            <img src="/static/images/mlc_environment_result.png" alt="Oxygen transfer illustration">
            <p>This tool estimates oxygen transfer under field conditions from standard capacity and operating parameters.</p>
        </div>

        <div class="result-error hidden" id="resultError" role="alert" aria-live="polite">
            <div class="error-icon">‚ùå</div>
            <div class="error-message" id="errorMessage"></div>
        </div>

        <div class="result-value hidden" id="resultValue" aria-live="polite">
            <div class="calculation-type" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                <h2>Oxygen Transfer Rate (N)</h2>
            </div>

            <div class="rate-display" style="gap:12px; align-items:center; justify-content:center;">
                <div class="rate-value" id="headLoss">0.00</div>
                <div class="rate-label" style="font-size:16px; color: #2980b9;">kg O‚ÇÇ/h</div>
            </div>

            <div class="result-feedback">
                <div class="feedback-title">Interpretation & Guidance</div>
                <div class="feedback-content" id="feedbackContent"></div>
            </div>

            <div class="btn-wrapper">
                <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
            </div>
        </div>
    </div>
</div>

<div class="note-section">
    <div class="note-card">
        <h3>üìò About This Calculator</h3>
        <p>
            This calculator converts a standard lab oxygen transfer capacity (Ns) to a field estimate (N) 
            by accounting for dissolved oxygen driving force, temperature correction, and wastewater correction (Œ±). 
            It is used to evaluate aeration system performance in wastewater treatment.
        </p>
    </div>

    <div class="note-card">
        <h3>‚öô Parameters Used</h3>
        <ul class="note-list">
            <li>Ns: Standard oxygen transfer capacity [kg O‚ÇÇ/h]</li>
            <li>Cs: DO saturation concentration [mg/L]</li>
            <li>CL: Operating DO concentration [mg/L]</li>
            <li>T: Temperature [¬∞C]</li>
            <li>Œ± (Alpha): Wastewater correction factor (unitless)</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>‚úÖ Input Validation Rules</h3>
        <ul class="note-list">
            <li>All inputs must be numeric and positive where applicable.</li>
            <li>Ns > 0; typical 0.01‚Äì1000 kg/h. Error if ‚â§ 0 or > 1e6 (unit mistake).</li>
            <li>Cs > 0; typical range 4‚Äì14 mg/L. Error if ‚â§ 0 or > 1000.</li>
            <li>CL ‚â• 0 and < Cs. CL ‚â• Cs ‚Üí error (no driving head).</li>
            <li>T numeric; typical operation 5‚Äì40¬∞C; warn if outside range.</li>
            <li>Œ± numeric > 0; typical 0.7‚Äì0.95; warn if outside 0.5‚Äì1.2.</li>
            <li>Decimals > 6 places trigger a precision warning.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>‚úÖ Output Validations & Assessment</h3>
        <ul class="note-list">
            <li>Oxygen Transfer Rate (N) must be finite, positive, and plausible for the system.</li>
            <li>Feedback displayed along with result:
                <ul>
                    <li>N ‚â• 50 ‚Üí Excellent transfer capacity; suitable for large-scale systems.</li>
                    <li>20 ‚â§ N < 50 ‚Üí Moderate transfer capacity; adequate for medium systems.</li>
                    <li>N < 20 ‚Üí Low transfer capacity; consider increasing Ns, improving Œ±, or reducing CL setpoint.</li>
                </ul>
            </li>
            <li>Warnings for decimal precision, unusual Ns, Cs, T, or Œ± values are also displayed.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>üìö Governing Principle</h3>
        <p>
            An Oxygen Transfer Under Field Conditions Calculator is based on standards like the ASCE Standard (e.g., ASCE-2006) for aeration equipment testing in wastewater. 
            These standards provide methodologies and coefficients for correcting lab-measured oxygen transfer to field conditions, ensuring reliable comparison of aeration system performances.
        </p>
        <p>
            <strong>Key Concepts:</strong>
            <ul>
                <li><strong>ASCE Standards:</strong> Guidelines for testing aeration equipment, calculating oxygen transfer efficiency (SOTE) and standard oxygen transfer rate (SOTR).</li>
                <li><strong>SOTR (Standard Oxygen Transfer Rate):</strong> Adjusts oxygen transfer coefficients for non-standard temperature, pressure, and wastewater characteristics.</li>
                <li><strong>SOTE (Standard Oxygen Transfer Efficiency):</strong> Percentage of injected oxygen actually dissolved into water, based on SOTR and delivered oxygen.</li>
                <li><strong>Correction Factors:</strong>
                    <ul>
                        <li>Alpha (Œ±): Adjusts for differences between wastewater and clean water oxygen transfer.</li>
                        <li>Beta (Œ≤): Accounts for differences in oxygen saturation between wastewater and clean water.</li>
                        <li>Theta (Œò): Corrects for temperature effects on oxygen transfer rate.</li>
                    </ul>
                </li>
            </ul>
        </p>
        <p>
            This approach ensures measured oxygen transfer data from field conditions is reliably adjusted to standard conditions for comparison and evaluation of aeration systems.
        </p>
    </div>

    <div class="note-card">
        <h3>üèÅ Conclusion</h3>
        <p>
            The calculator provides reliable estimates of oxygen transfer rates under field conditions, supporting design, performance assessment, and optimization of aeration systems in wastewater treatment. 
            Feedback classification and warnings help operators and engineers make informed decisions regarding system adequacy and necessary adjustments.
        </p>
    </div>
</div>


<script>
/* preserve original showErrors behavior */
function showErrors(errors) {
  const errorBox = document.getElementById("resultError");
  const errorMessage = document.getElementById("errorMessage");
  const placeholder = document.getElementById("placeholder");
  const resultValue = document.getElementById("resultValue");

  errorMessage.innerHTML = errors.join("<br>");
  errorBox.classList.remove("hidden");
  placeholder.classList.add("hidden");
  resultValue.classList.add("hidden");
}

/* decimal count helper for warnings */
function countDecimals(rawStr) {
  if (typeof rawStr !== 'string') rawStr = String(rawStr || '');
  if (!rawStr.includes('.')) return 0;
  let decPart = rawStr.split('.')[1].split(/e|E/)[0];
  decPart = decPart.replace(/[^0-9]/g, '');
  return decPart.length;
}

/* Main calculation */
function calculateOxygenTransfer() {
  // Read raw strings to allow decimal-count warnings
  const rawNs = (document.getElementById("Ns")?.value || "").trim();
  const rawCs = (document.getElementById("Cs")?.value || "").trim();
  const rawCL = (document.getElementById("CL")?.value || "").trim();
  const rawT = (document.getElementById("T")?.value || "").trim();
  const rawAlpha = (document.getElementById("alpha")?.value || "").trim();

  const placeholder = document.getElementById("placeholder");
  const errorBox = document.getElementById("resultError");
  const resultValue = document.getElementById("resultValue");
  const displayEl = document.getElementById("headLoss"); // numeric display (kept id)
  const feedbackEl = document.getElementById("feedbackContent");

  // reset UI
  errorBox.classList.add("hidden");
  feedbackEl.innerHTML = "";

  const errors = [];
  const warnings = [];

  // presence checks
  if (rawNs === "") errors.push("üëâ Ns (Standard oxygen transfer capacity) is required.");
  if (rawCs === "") errors.push("üëâ Cs (DO saturation concentration) is required.");
  if (rawCL === "") errors.push("üëâ CL (Operating DO) is required.");
  if (rawT === "") errors.push("üëâ Temperature (T) is required.");
  if (rawAlpha === "") errors.push("üëâ Alpha (Œ±) correction factor is required.");
  if (errors.length) return showErrors(errors);

  // parse
  const Ns = parseFloat(rawNs);
  const Cs = parseFloat(rawCs);
  const CL = parseFloat(rawCL);
  const T = parseFloat(rawT);
  const alpha = parseFloat(rawAlpha);

  // numeric & range validation
  if (!Number.isFinite(Ns) || Ns <= 0 || Ns > 1e6) errors.push("üëâ Ns must be a finite positive number (typical 0.01‚Äì1000 kg/h).");
  if (!Number.isFinite(Cs) || Cs <= 0 || Cs > 1e3) errors.push("üëâ Cs must be a finite positive number in mg/L (typical 4‚Äì14 mg/L).");
  if (!Number.isFinite(CL) || CL < 0 || CL > 1e3) errors.push("üëâ CL must be a finite non-negative number in mg/L and less than Cs.");
  if (!Number.isFinite(T) || T < -50 || T > 150) errors.push("üëâ T must be a finite number in ¬∞C (accepted -50 to 150 ¬∞C).");
  if (!Number.isFinite(alpha) || alpha <= 0 || alpha > 10) errors.push("üëâ Alpha must be a positive finite number (typical 0.7‚Äì0.95).");

  if (errors.length) return showErrors(errors);

  // logical consistency
  if (CL >= Cs) {
    return showErrors(["üëâ Operating DO (CL) must be less than DO saturation (Cs) so there is a driving head (Cs ‚àí CL > 0)."]);
  }

  // decimal warnings
  if (countDecimals(rawNs) > 6 || countDecimals(rawCs) > 6 || countDecimals(rawCL) > 6 || countDecimals(rawAlpha) > 6) {
    warnings.push("‚ö†Ô∏è Some inputs have >6 decimal places ‚Äî consider rounding for reporting.");
  }

  // plausibility warnings
  if (Ns < 0.001) warnings.push("‚ö†Ô∏è Very small Ns ‚Äî check units or that the device is rated correctly.");
  if (Ns > 10000) warnings.push("‚ö†Ô∏è Very large Ns ‚Äî confirm units (kg/h) and device rating.");
  if (Cs < 2 || Cs > 20) warnings.push("‚ö†Ô∏è Cs outside typical dissolved-oxygen saturation range for 0‚Äì40¬∞C.");
  if (T < 5 || T > 40) warnings.push("‚ö†Ô∏è Temperature outside typical biological operation range (5‚Äì40¬∞C).");
  if (alpha < 0.5 || alpha > 1.2) warnings.push("‚ö†Ô∏è Alpha outside common wastewater range (0.5‚Äì1.2) ‚Äî verify value.");

  // compute temperature correction factor safely
  const tempFactor = Math.pow(1.024, (T - 20));

  // compute N (fixed formula, no division by 9.2)
  const N = Ns * (Cs - CL) * tempFactor * alpha;

  // sanity checks on result
  if (!Number.isFinite(N) || isNaN(N)) {
    return showErrors(["‚ùå Computation failed ‚Äî check inputs for magnitude and units."]);
  }
  if (N <= 0) {
    return showErrors(["‚ùå Computed oxygen transfer is non-positive ‚Äî check Cs, CL, Ns and alpha."]);
  }
  if (N > 1e7) {
    return showErrors(["‚ùå Computed oxygen transfer is unphysically large (>1e7 kg/h). Check units."]);
  }

  // classification for guidance
  let classification = "";
  let advice = "";
  if (N >= 50) {
    classification = "Excellent transfer capacity";
    advice = "Suitable for large-scale systems; verify blower and diffuser capability.";
  } else if (N >= 20) {
    classification = "Moderate transfer capacity";
    advice = "Adequate for medium systems; monitor DO dynamics and energy use.";
  } else {
    classification = "Low transfer capacity";
    advice = "Consider increasing Ns, improving alpha (clean diffusers) or reducing CL setpoint.";
  }

  // Build details string (no formula, no input echo)
  let details = `<div><b>Oxygen Transfer Rate (N):</b> <b>${N.toFixed(3)}</b> kg O‚ÇÇ/h</div>`;
  details += `<div style="margin-top:6px;"><b>Classification:</b> ${classification}</div>`;
  details += `<div style="margin-top:6px;">Advice: ${advice}</div>`;
  if (warnings.length) details += `<div style="margin-top:8px; color:#b35d00;">${warnings.join(" | ")}</div>`;

  // update UI
  displayEl.textContent = N.toFixed(3);
  feedbackEl.innerHTML = details;

  placeholder.classList.add("hidden");
  resultValue.classList.remove("hidden");
  errorBox.classList.add("hidden");
}

/* print helper */
function printReport() {
  const el = document.getElementById('printDate');
  if (el) {
    el.textContent = new Date().toLocaleDateString('en-US', { year:'numeric', month:'long', day:'numeric' });
  }
  window.print();
}
</script>



<script src="{% static 'js/print.js' %}"></script>

</body>
</html>
{% endblock %}

<!--
  üîπ Oxygen Transfer Rate (N) Calculator - Formula & Validations

  1Ô∏è‚É£ Formula:
      f(T) = (1.024)^(T ‚àí 20)          (temperature correction factor)
      N = Ns √ó (Cs ‚àí CL) √ó f(T) √ó Œ±    (oxygen transfer rate)

  2Ô∏è‚É£ Inputs:
      - Ns: Standard oxygen transfer capacity [kg O‚ÇÇ/h], must be > 0 (typical 0.01‚Äì1000)
      - Cs: DO saturation concentration [mg/L], must be > 0 (typical 4‚Äì14)
      - CL: Operating DO concentration [mg/L], must be ‚â• 0 and < Cs
      - T: Temperature [¬∞C], range ‚àí50 to 150 (biological typical 5‚Äì40)
      - Œ± (alpha): Correction factor, > 0 (typical 0.5‚Äì1.2)

  3Ô∏è‚É£ Outputs & Validations:
      - Oxygen Transfer Rate (N) in kg O‚ÇÇ/h (3 decimals)
      - Must be finite, positive, and ‚â§ 1e7
      - Classification:
          ‚Ä¢ N ‚â• 50 ‚Üí Excellent transfer capacity
          ‚Ä¢ 20 ‚â§ N < 50 ‚Üí Moderate transfer capacity
          ‚Ä¢ N < 20 ‚Üí Low transfer capacity
      - Extra Warnings:
          ‚Ä¢ Inputs with > 6 decimals ‚Üí rounding suggested
          ‚Ä¢ Ns very small/large ‚Üí check units
          ‚Ä¢ Cs outside 2‚Äì20 ‚Üí check plausibility
          ‚Ä¢ T outside 5‚Äì40 ‚Üí atypical biological range
          ‚Ä¢ Œ± outside 0.5‚Äì1.2 ‚Üí unusual wastewater factor
-->
