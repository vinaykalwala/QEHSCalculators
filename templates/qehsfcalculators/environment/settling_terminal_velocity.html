{% extends 'base.html' %}
{% block title %}Settling Terminal Velocity Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settling Terminal Velocity Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0px 20px;
            border-radius: 12px;
        }

        .btn-container {
            display: flex;
            justify-content: center; /* Horizontally center */
            margin: 30px 0;
        }

        .back-btn {
            background:linear-gradient(#1560bd,#000040); /* Dark navy background */
            color: #ffffff; /* White text */
            border: 2px solid #1560bd; /* Highlight border */
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none; /* Remove underline for link */
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .back-btn:hover {
            background-color: #1560bd; /* Highlight on hover */
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05); /* Subtle hover effect */
        }
        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            max-width: 700px;
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
             /* display: flex;  */
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: auto;
            /* overflow-y: auto;  */
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }

        /* Input rows for better organization */
        .input-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .input-row .form-group {
            flex: 1;
        }
        
        @media (max-width: 600px) {
            .input-row {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: auto;
            text-align: center;
            margin-top: 20px;
        }
        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }

                .rate-display {
                display: flex;
                gap: 20px;
                justify-content: center;
                align-items: center;
                flex-wrap: wrap; /* responsive */
                text-align: center;
            }

            .rate-block {
                display: flex;
                flex-direction: column;
                align-items: center;
                min-width: 120px; /* keeps blocks same width */
            }

            .rate-label {
                font-weight: bold;
                font-size: 16px;
                color: #444;
                margin-bottom: 5px;
            }

            .rate-value {
                font-size: 40px;
                font-weight: 700;
                color: #2980b9;
                line-height: 1.2;
            }

            .rate-unit {
                font-size: 14px;
                color: #777;
                margin-top: 4px;
            }

            /* Responsive */
            @media (max-width: 768px) {
                .rate-value { font-size: 32px; }
            }

            @media (max-width: 480px) {
                .rate-value { font-size: 26px; }
                
                .rate-unit { font-size: 12px; }
                
            }



        /* Meter */
        .safety-meter {
            width: 100%; 
            height: 12px;
            background: #f1f5f9;
            border-radius: 6px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .meter-fill {
            height: 100%;
            transition: width 1s ease-in-out;
            border-radius: 6px;
        }
        
        .meter-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        /* Feedback */
                .result-feedback {
    background: #f8f9fa;
    border-radius: 10px;
    padding: 18px 20px;
    border-left: 4px solid #3498db;
    text-align: left;
    max-width: 800px; /* keeps it readable on large screens */
    margin: 0 auto;   /* centers it */
}

.feedback-title {
    font-weight: 600;
    margin-bottom: 8px;
    color: #2c3e50;
    font-size: 18px;
}

.feedback-content { 
    color: #34495e; 
    font-size: 16px;
    line-height: 1.5;
}

/* Responsive breakpoints */
@media (max-width: 768px) {
    .result-feedback {
        padding: 15px;
        font-size: 15px;
    }

    .feedback-title {
        font-size: 16px;
    }

    .feedback-content {
        font-size: 14px;
    }
}

@media (max-width: 480px) {
    .result-feedback {
        padding: 12px;
        border-left-width: 3px;
    }

    .feedback-title {
        font-size: 15px;
    }

    .feedback-content {
        font-size: 13px;
    }
}

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .formula-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 6px solid #0d47a1;
        }
        
        .formula-card code {
            display: inline-block;
            background: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: bold;
            color: #0d47a1;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .good { 
            color: #2e7d32; 
            font-weight: 600; 
        }
        
        .average { 
            color: #f9a825; 
            font-weight: 600; 
        }
        
        .bad { 
            color: #c62828; 
            font-weight: 600; 
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }
    </style>
</head>
<body>

<div class="btn-container">
    <a href="{% url 'environmentcategory_calculators' %}" class="back-btn">Back To Environment Calculators</a>
</div>

<div class="calculator-container printable" id="printArea">
    {% include "includes/print_header_footer.html" %}

    <div class="calculator-header">
        <h1>Settling Terminal Velocity Calculator</h1>
        <p>Calculate the terminal velocity of a settling particle in fluid for environmental and industrial applications.</p>
    </div>

    <div class="calc-content">
        <!-- Input Card -->
        <div class="calc-card">
            <h2>Enter Parameters</h2>

            <div class="input-row">
                <div class="form-group">
                    <label for="rho_p">Particle Density (ρ<sub>p</sub>, kg/m³)</label>
                    <input type="number" id="rho_p" class="form-input" step="any" min="0" placeholder="e.g., 2650">
                </div>
                <div class="form-group">
                    <label for="rho">Fluid Density (ρ, kg/m³)</label>
                    <input type="number" id="rho" class="form-input" step="any" min="0" placeholder="e.g., 1000">
                </div>
            </div>

            <div class="input-row">
                <div class="form-group">
                    <label for="V_p">Particle Volume (V<sub>p</sub>, m³)</label>
                    <input type="number" id="V_p" class="form-input" step="any" min="0" placeholder="e.g., 0.000001">
                </div>
                <div class="form-group">
                    <label for="C_D">Drag Coefficient (C<sub>D</sub>)</label>
                    <input type="number" id="C_D" class="form-input" step="any" min="0" placeholder="e.g., 0.47">
                </div>
            </div>

            <div class="form-group">
                <label for="A_p">Projected Area (A<sub>p</sub>, m²)</label>
                <input type="number" id="A_p" class="form-input" step="any" min="0" placeholder="e.g., 0.0001">
            </div>

            <button class="calculate-btn" onclick="calculateTerminalVelocity()">Calculate Terminal Velocity</button>
        </div>

        <!-- Result Card -->
        <div class="result-card">
            <div class="result-placeholder" id="placeholder">
                <img src="/static/images/mlc_environment_result.png" alt="Sedimentation illustration">
                <p>This tool calculates terminal velocity for sedimentation and particle analysis.</p>
            </div>

            <div class="result-error hidden" id="resultError">
                <div class="error-icon">❌</div>
                <div class="error-message" id="errorMessage"></div>
            </div>

            <div class="result-value hidden" id="resultValue">
                <div class="calculation-type" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                    <h2>Terminal Velocity (v)</h2>
                </div>

                <div class="rate-display">
                    <div class="rate-value" id="velocityValue">0.000</div>
                    <div class="rate-unit">m/s</div>
                </div>

                <div class="result-feedback">
                    <div class="feedback-title"> Assessment</div>
                    <div class="feedback-content" id="feedbackContent"></div>
                </div>

                <div class="btn-wrapper">
                    <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                </div>
            </div>
        </div>
    </div>

<div class="note-section">

    <div class="note-card">
        <h3>📘 About This Calculator</h3>
        <p>
            The <strong>Settling Terminal Velocity Calculator</strong> determines the maximum velocity a particle reaches 
            when falling through a fluid, where gravitational force is balanced by drag and buoyancy forces. 
            It is widely applied in environmental engineering, sedimentation analysis, water treatment, 
            and industrial processes involving particle separation.
        </p>
    </div>

    <div class="note-card">
        <h3>⚙ Parameters Used</h3>
        <ul class="note-list">
            <li><strong>ρ<sub>p</sub> (Particle Density):</strong> Density of the particle in kg/m³.</li>
            <li><strong>ρ (Fluid Density):</strong> Density of the fluid in kg/m³.</li>
            <li><strong>V<sub>p</sub> (Particle Volume):</strong> Volume of the particle in m³.</li>
            <li><strong>C<sub>D</sub> (Drag Coefficient):</strong> Dimensionless coefficient representing drag force.</li>
            <li><strong>A<sub>p</sub> (Projected Area):</strong> Cross-sectional area of the particle in m².</li>
            <li><strong>g (Gravitational Acceleration):</strong> Constant = 9.81 m/s².</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>✅ Input Validation Rules</h3>
        <ul class="note-list">
            <li><strong>ρ<sub>p</sub> (Particle Density):</strong> Must be > 0 kg/m³ (typical: 500–8000 kg/m³).</li>
            <li><strong>ρ (Fluid Density):</strong> Must be > 0 kg/m³ (typical: 1.2–1200 kg/m³ for air/water).</li>
            <li><strong>V<sub>p</sub> (Particle Volume):</strong> Must be > 0 m³ (typical: 1e-12–1e-3 m³).</li>
            <li><strong>C<sub>D</sub> (Drag Coefficient):</strong> Must be > 0 (typical: 0.1–2.5).</li>
            <li><strong>A<sub>p</sub> (Projected Area):</strong> Must be > 0 m² and consistent with particle size.</li>
            <li><strong>Density Condition:</strong> ρ<sub>p</sub> must be greater than ρ for settling to occur.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>🔎 Output Validations</h3>
        <ul class="note-list">
            <li><strong>settling terminal velocity must be finite:</strong> If result is NaN or Infinity → ❌ Invalid result, check inputs.</li>
            <li><strong>settling terminal velocity > 10 m/s:</strong> ⚠️ <em>Very High Velocity</em> → Particle settles very quickly. Check input values for accuracy.</li>
            <li><strong>0.001 m/s ≤ settling terminal velocity ≤ 10 m/s:</strong> ✅ <em>Appropriate Velocity</em> → Terminal velocity is within typical range for sedimentation applications.</li>
            <li><strong>settling terminal velocity < 0.001 m/s:</strong> ⚠️ <em>Very Low Velocity</em> → Particle may remain suspended for extended periods.</li>
            <li><strong>settling terminal velocity = 0:</strong> ❌ <em>No settling</em> → Check if ρ<sub>p</sub> ≤ ρ.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>📐 Governing Principle</h3>
        <p>
            A <strong>Settling Terminal Velocity Calculator</strong> is based on principles described by 
            <strong>Stokes’ Law</strong> for laminar flow (Re < 1) or the <strong>Newtonian drag law</strong> for turbulent flow (Re > 1000). 
            For intermediate regimes, methods such as Grace (1986) and Holtham (1991) define generalized approaches. 
            These calculators apply fundamental physics concepts rather than a single universal standard.
        </p>
        <p><strong style="color: #1976d2;">Foundational Principles:</strong></p>
        <ul class="note-list">
            <li><strong>Stokes’ Law:</strong> Valid for low Reynolds number (Re < 0.5), where fluid flow is smooth and laminar.</li>
            <li><strong>Newtonian Drag Law:</strong> Applies for high Reynolds numbers (Re > 1000), where fluid flow is turbulent.</li>
            <li><strong>Forces at Play:</strong> At terminal velocity, gravity is balanced by buoyancy and drag → net force = 0.</li>
        </ul>
        <p><strong style="color: #1976d2;">Engineering Standards and Methods:</strong></p>
        <ul class="note-list">
            <li><strong>Drag Coefficient (C<sub>D</sub>):</strong> Depends on particle size, shape (sphericity Φ), and flow regime.</li>
            <li><strong>Holland-Blatt (1972):</strong> Generalized method for transitional regimes.</li>
            <li><strong>Holtham (1991):</strong> Algorithm for calculating velocity for various particle densities.</li>
            <li><strong>Grace (1986):</strong> Defines dimensionless parameters and provides analytical methods for settling velocity.</li>
            <li><strong>Sphericity (Φ):</strong> Key factor accounting for deviation from perfect spherical shape in drag prediction.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>📝 Conclusion</h3>
        <p>
            The <strong>Settling Terminal Velocity Calculator</strong> offers insights into how fast particles settle under gravity in fluids. 
            By considering particle density, fluid density, drag coefficient, and size parameters, it ensures accurate predictions with validations. 
            Engineers can use it to design sedimentation tanks, analyze pollution control systems, and optimize separation processes 
            in environmental and chemical engineering applications.
        </p>
    </div>

</div>

<script>
function showErrors(errors) {
    const errorBox = document.getElementById("resultError");
    const errorMessage = document.getElementById("errorMessage");
    const placeholder = document.getElementById("placeholder");
    const resultValue = document.getElementById("resultValue");

    errorMessage.innerHTML = errors.join("<br>");
    errorBox.classList.remove("hidden");
    placeholder.classList.add("hidden");
    resultValue.classList.add("hidden");
}

function calculateTerminalVelocity() {
    // Read values
    const rho_p = parseFloat(document.getElementById("rho_p").value);
    const rho = parseFloat(document.getElementById("rho").value);
    const V_p = parseFloat(document.getElementById("V_p").value);
    const C_D = parseFloat(document.getElementById("C_D").value);
    const A_p = parseFloat(document.getElementById("A_p").value);
    const g = 9.81; // Gravitational acceleration constant

    const velocityValueEl = document.getElementById("velocityValue");
    const feedbackEl = document.getElementById("feedbackContent");
    document.getElementById("resultError").classList.add("hidden");
    feedbackEl.innerHTML = "";

    const errors = [];
    const warnings = [];

    // Validation
    if (![rho_p, rho, V_p, C_D, A_p].every(Number.isFinite)) {
        return showErrors(["👉 Please enter all values (numeric)."]);
    }
    
    if (rho_p <= 0) errors.push("👉 Particle density must be > 0 kg/m³.");
    if (rho <= 0) errors.push("👉 Fluid density must be > 0 kg/m³.");
    if (V_p <= 0) errors.push("👉 Particle volume must be > 0 m³.");
    if (C_D <= 0) errors.push("👉 Drag coefficient must be > 0.");
    if (A_p <= 0) errors.push("👉 Projected area must be > 0 m².");
    
    // Check for density condition (particle must be denser than fluid to settle)
    if (rho_p <= rho) {
        errors.push("👉 Particle density must be greater than fluid density for settling to occur.");
    }
    
    // Warning for unusual values
    if (rho_p > 8000) warnings.push("⚠️ Particle density unusually high (>8000 kg/m³).");
    if (rho_p < 500) warnings.push("⚠️ Particle density unusually low (<500 kg/m³).");
    if (rho > 1200) warnings.push("⚠️ Fluid density unusually high (>1200 kg/m³).");
    if (rho < 1) warnings.push("⚠️ Fluid density unusually low (<1 kg/m³).");
    if (V_p > 0.1) warnings.push("⚠️ Particle volume unusually large (>0.1 m³).");
    if (V_p < 1e-12) warnings.push("⚠️ Particle volume unusually small (<1e-12 m³).");
    if (C_D > 2.5) warnings.push("⚠️ Drag coefficient unusually high (>2.5).");
    if (C_D < 0.1) warnings.push("⚠️ Drag coefficient unusually low (<0.1).");
    if (A_p > 1) warnings.push("⚠️ Projected area unusually large (>1 m²).");
    if (A_p < 1e-10) warnings.push("⚠️ Projected area unusually small (<1e-10 m²).");

    if (errors.length) return showErrors(errors);

    // Formula: v = √[2 × (ρp - ρ) × g × Vp] / [CD × Ap × ρ]
    const numerator = 2 * (rho_p - rho) * g * V_p;
    const denominator = C_D * A_p * rho;
    
    // Check for negative numerator (shouldn't happen due to validation)
    if (numerator <= 0) {
        return showErrors(["❌ Calculation error: Negative or zero numerator. Check density values."]);
    }
    
    // Check for zero denominator
    if (denominator <= 0) {
        return showErrors(["❌ Calculation error: Denominator must be positive."]);
    }
    
    const v = Math.sqrt(numerator / denominator);

    if (!Number.isFinite(v)) {
        return showErrors(["⚠️ Computed terminal velocity is invalid (possible calculation error)."]);
    }

    if (v <= 0) {
        return showErrors(["❌ Terminal velocity must be greater than zero."]);
    }

    // Classification
    let classification, suggestion, color;
    if (v > 10) {
        classification = "Very High Velocity";
        suggestion = "⚠️ Particle settles very quickly. Check input values for accuracy.";
        color = "#e65100";
    } else if (v >= 0.001) {
        classification = "Appropriate Velocity";
        suggestion = "✅ Terminal velocity is within typical range for sedimentation applications.";
        color = "#2e7d32";
    } else {
        classification = "Very Low Velocity";
        suggestion = "⚠️ Particle may remain suspended for extended periods.";
        color = "#c62828";
    }

    // Format the velocity for display
    let displayValue;
    if (v < 0.01) {
        displayValue = v.toExponential(4);
    } else {
        displayValue = v.toFixed(4);
    }

    // Display result
    velocityValueEl.textContent = displayValue;
    feedbackEl.innerHTML = `
        <div>v = <b>${displayValue}</b> m/s</div>
        <div>Classification: <b style="color:${color};">${classification}</b></div>
        <div style="margin-top:6px;">${suggestion}</div>
        ${warnings.length ? `<div style="margin-top:8px; color:#b35d00;">${warnings.join(" | ")}</div>` : ""}
    `;

    document.getElementById("placeholder").classList.add("hidden");
    document.getElementById("resultValue").classList.remove("hidden");
}

function printReport() {
    const el = document.getElementById('printDate');
    if (el) el.textContent = new Date().toLocaleDateString();
    window.print();
}
</script>
<script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}
<!--


Input Validations:
Particle Density (ρp): Must be > 0 kg/m³ (typical range: 500-8000 kg/m³)

Fluid Density (ρ): Must be > 0 kg/m³ (typical range: 1.2-1200 kg/m³ for air/water)

Particle Volume (Vp): Must be > 0 m³ (typical range: 1e-12 to 1e-3 m³)

Drag Coefficient (CD): Must be > 0 (typical range: 0.1-2.5)

Projected Area (Ap): Must be > 0 m²

Density Comparison: ρp must be > ρ for settling to occur
-----------------------------------------------------------------------------------------
Output Validations:
v must be finite: Check for NaN or Infinity results

v > 10 m/s: Very high velocity (warning about possible unrealistic inputs)

0.001 m/s ≤ v ≤ 10 m/s: Appropriate range (typical for sedimentation)

v < 0.001 m/s: Very low velocity (warning about extended suspension)

v = 0: No settling (error condition)
-----------------------------------------------------------------------------------------
Formula:
v = √[2 × (ρp - ρ) × g × Vp] / [CD × Ap × ρ]
Where:

v = Terminal velocity (m/s)

ρp = Particle density (kg/m³)

ρ = Fluid density (kg/m³)

g = Gravitational acceleration (9.81 m/s²)

Vp = Particle volume (m³)

CD = Drag coefficient (dimensionless)

Ap = Projected area (m²)
---------------------------------------------------------------------------------------------------
Edge Cases:
Extremely small particles: Vp = 1e-15 m³ (nanoparticles)

Extremely large particles: Vp = 1 m³ (clearly erroneous but should be handled)

Very high drag: CD = 10 (unrealistic but should be handled)

Very low drag: CD = 0.001 (unrealistic but should be handled)

Density: ρp = 1001, ρ = 1000 (very slow settling)

Division by zero scenarios: Check for zero in denominator



-->