{% extends 'base.html' %}
{% block title %}Load Per Anchor During De-Moulding Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Load Per Anchor During De-Moulding Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding:0 20px;
            border-radius: 12px;
        }
                .btn-container {
    display: flex;
    justify-content: center; /* Horizontally center */
    margin: 30px 0;
}

.back-btn {
    background:linear-gradient(#1560bd,#000040); /* Dark navy background */
    color: #ffffff; /* White text */
    border: 2px solid #1560bd; /* Highlight border */
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 600;
    border-radius: 8px;
    text-decoration: none; /* Remove underline for link */
    transition: all 0.3s ease;
    cursor: pointer;
}

.back-btn:hover {
    background-color: #1560bd; /* Highlight on hover */
    color: #ffffff;
    border-color: #000040;
    transform: scale(1.05); /* Subtle hover effect */
}

        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            {% comment %} max-width: 700px; {% endcomment %}
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
            {% comment %} display: flex; {% endcomment %}
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: auto;
            {% comment %} overflow-y: auto; {% endcomment %}
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }
        /* Input rows for side-by-side fields */
         .input-row {
            display: flex;
            flex-direction: column;
            gap: 15px;
            {% comment %} margin-bottom: 15px; {% endcomment %}
        }
        
        @media (min-width: 480px) {
            .input-row {
                flex-direction: row;
            }
        }
        
        .input-row .form-group {
            flex: 1;
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: auto;
            text-align: center;
            margin-top: 20px;
        }
        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        .rate-display {
            display: flex;
            gap: 6px;
            align-items: center;  
            justify-content: center; 
        }
        
        .result-value { 
            width: 100%; 
        }
        
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .rate-label { 
            color: #7f8c8d; 
        }

        /* Meter */
        .safety-meter {
            width: 100%; 
            height: 12px;
            background: #f1f5f9;
            border-radius: 6px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .meter-fill {
            height: 100%;
            transition: width 1s ease-in-out;
            border-radius: 6px;
        }
        
        .meter-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .feedback-content { 
            color: #34495e; 
        }

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        
        
        .good { 
            color: #2e7d32; 
            font-weight: 600; 
        }
        
        .average { 
            color: #f9a825; 
            font-weight: 600; 
        }
        
        .bad { 
            color: #c62828; 
            font-weight: 600; 
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }
        
        /* Table styling */
        .parameters-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .parameters-table thead {
            background: linear-gradient(135deg, #1560bd, #000040);
            color: white;
        }
        
        .parameters-table th {
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .parameters-table td {
            padding: 10px 15px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .parameters-table tbody tr:nth-child(even) {
            background-color: #f5f9ff;
        }
        
        .parameters-table tbody tr:hover {
            background-color: #e6f0ff;
        }
        
        @media (max-width: 600px) {
            .parameters-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>
<body>
    <div class="btn-container">
        <a href="{% url 'safetycategory_calculators' %}" class="back-btn">Back To Safety Calculators</a>
    </div>
    
    <div class="calculator-container printable" id="printArea">
        <!-- Include header/footer for print -->
        {% include "includes/print_header_footer.html" %}

        <div class="calculator-header">
            <h1>Load Per Anchor During De-Moulding Calculator</h1>
            <p>Calculate the load each anchor must bear during the de-moulding process</p>
        </div>

        <div class="calc-content">
            <!-- Calculator -->
            <div class="calc-card">
                <h2>Enter Data</h2>
                <div class="input-row">
                <div class="form-group">
                    <label for="weight">Weight (G) [kN]</label>
                    <input type="number" id="weight" class="form-input" step="any" min="0.0001" placeholder="e.g., 50">
                </div>
                
                <div class="form-group">
                    <label for="additionalLoad">Additional Load (Hq) [kN]</label>
                    <input type="number" id="additionalLoad" class="form-input" step="any" min="0" placeholder="e.g., 10">
                </div></div>
                <div class="input-row">
                <div class="form-group">
                    <label for="liftingCoeff">Lifting Coefficient (f)</label>
                    <input type="number" id="liftingCoeff" class="form-input" step="any" min="0.0001" value="1.3" placeholder="e.g., 1.3">
                </div>
                
                <div class="form-group">
                    <label for="spreadFactor">Spread Angle Factor (z)</label>
                    <input type="number" id="spreadFactor" class="form-input" step="any" min="0.0001" value="1.04" placeholder="e.g., 1.04">
                </div></div>
                
                <button class="calculate-btn" onclick="calculateLoadPerAnchor()">Calculate Load Per Anchor</button>
            </div>

            <!-- Result Section -->
            <div class="result-card">
                <div class="result-placeholder" id="placeholder">
                    <img src="{% static 'images/resultimage.png' %}" alt="Safety illustration">
                    <p>This tool will calculate the <strong>Load per Anchor</strong>. Enter your data to see results and insights here.</p>
                </div>
                
                <div class="result-error hidden" id="resultError">
                    <div class="error-icon">❌</div>
                    <div class="error-message" id="errorMessage"></div>
                </div>
                 
                <div class="result-value hidden" id="resultValue">
                    <div class="calculation-type" id="calculationType" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                        <h2>Load per Anchor</h2>
                    </div>
                    <div class="rate-display">
                        <div class="rate-value" id="rateValue">0.00</div>
                        <div class="rate-label" style="color:#2980b9; font-size:20px; font-weight:bold;">kN</div>
                    </div>

                    <div class="safety-meter">
                        <div class="meter-fill" id="meterFill"></div>
                    </div>
                    <div class="meter-labels">
                        <span>Low</span><span>Moderate</span><span>High</span><span>Very High</span><span>Critical</span>
                    </div>

                    <div class="result-feedback">
                        <div class="feedback-title">Assessment</div>
                        <div class="feedback-content" id="feedbackContent"></div>
                    </div>
                    <div class="btn-wrapper">
                        <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notes Section -->
        <div class="note-section">
            <div class="note-card">
                <h3>📘 About This Calculator</h3>
                <p>
                    This calculator determines the <strong>Load per Anchor</strong> during the de-moulding process of precast elements. 
                    It ensures safe handling and prevents overloading of anchors, thus preventing accidents.
                </p>
            </div>

            <div class="note-card">
                <h3>⚙️ Parameters Used</h3>
                <ul class="note-list">
                    <li><strong>Weight (G):</strong> The total weight of the element being de-moulded in kN.</li>
                    <li><strong>Additional Load (Hq):</strong> Any additional load acting during de-moulding in kN.</li>
                    <li><strong>Lifting Coefficient (f):</strong> A factor that accounts for dynamic forces during lifting.</li>
                    <li><strong>Spread Angle Factor (z):</strong> A factor based on the spread angle of the lifting cables.</li>
                </ul>
            </div>
            
            <div class="note-card">
  <h3>✅ Input Validations</h3>
  <ul class="note-list">
    <li><strong>Weight (G):</strong> Must be between <b>0.01 and 10,000 kN</b> — represents the element’s self-weight. Negative or zero values are invalid.</li>
    <li><strong>Additional Load (Hq):</strong> Must be between <b>0 and 500 kN</b> — includes adhesion or friction forces during de-moulding.</li>
    <li><strong>Lifting Coefficient (f):</strong> Must be between <b>1.0 and 2.0</b> — accounts for dynamic effects per EN 1991-1-6, ISO 12480, and OSHA standards.</li>
    <li><strong>Spread Angle Factor (z):</strong> Must be between <b>1.0 and 2.0</b> — reflects cable inclination angle corrections.</li>
    <li><strong>Numeric Rules:</strong> All inputs must be positive finite numbers with up to two decimal places.</li>
    <li><strong>Practical Safety Check:</strong> The total design load (G + Hq) should remain within standard precast lifting limits.</li>
  </ul>
</div>
<div class="note-card">
  <h3>🔎 Output Validations</h3>
  <ul class="note-list">
    <li><strong>Load ≤ 25 kN / anchor:</strong>✅ Safe range for most standard anchors.</li>
    <li><strong>25 &lt; Load ≤ 50 kN / anchor:</strong> ⚠️ Moderate load. Verify anchor capacity.</li>
    <li><strong>50 &lt; Load ≤ 100 kN / anchor:</strong> ⚠️ High load. Use heavy-duty anchors with engineering oversight.</li>
    <li><strong>Load &gt; 100 kN / anchor:</strong> ❌ Critical load. STOP operation, engineering review required.</li>
  </ul>
</div>
<div class="note-card">
  <h3>📐 Governing Principle</h3>
  <p>
    Calculators for load per anchor during demoulding are based on specific design codes and standards for precast concrete, rather than being a standalone standard themselves. The appropriate standard depends on the project's geographic location and the governing design authority. 
    Commonly referenced codes that provide the principles for these calculations include:
  </p>
  <ul class="note-list">
    <li><strong>Indian Standards (IS):</strong> For projects in India, relevant codes would be used for prestressed and reinforced concrete. For example, IS 1343 provides guidelines for prestressed concrete, which would cover the required concrete strength before demoulding. General concrete design is covered under IS 456.</li>
    <li><strong>Eurocode 2 (EC2):</strong> A harmonized standard for the structural design of concrete structures in Europe. It provides requirements for design and calculation related to demoulding and lifting.</li>
    <li><strong>American Concrete Institute (ACI):</strong> In the United States, ACI standards are used for concrete design, including procedures for handling precast elements.</li>
    <li><strong>European Technical Assessment (ETA):</strong> This is another standard often used in Europe, particularly concerning the performance of chemical anchor bolts.</li>
    <li><strong>Singapore Standard CP65:</strong> The Building and Construction Authority (BCA) in Singapore has developed a Structural Precast Concrete Handbook based on this standard for concrete design.</li>
  </ul>

  <h3 >Key principles for calculating demoulding loads:</h3>
  <ul class="note-list">
    <li><strong>Demoulding strength of concrete:</strong> The calculation is based on the concrete having achieved a sufficient percentage of its final compressive strength to withstand the forces. This is checked with test cubes or cylinders cured under the same conditions as the element.</li>
    <li><strong>Load types:</strong> All potential forces are accounted for, including the self-weight of the precast element, any adhesion between the concrete and the mould, and dynamic factors from the lifting process.</li>
    <li><strong>Anchor capacity:</strong> The design of the lifting anchors must ensure they have sufficient capacity to handle the calculated loads, with appropriate safety factors applied.</li>
    <li><strong>Lifting configuration:</strong> The number and placement of anchors, as well as the angle of the lifting slings, are all factored into the calculation to determine the load on each individual anchor.</li>
    <li><strong>Safety factors:</strong> Minimum safety factors for both demoulding and installation are applied to the calculations to account for uncertainties.</li>
  </ul>
</div>

<div class="note-card">
  <h3>💡 Conclusion</h3>
  <p>
    The <strong>Load Per Anchor During De-Moulding Calculator</strong> evaluates the load each lifting anchor sustains during 
    precast element de-moulding. By combining weight, additional loads, lifting coefficient, and spread factor, 
    it enables quick safety verification before lifting. This ensures that anchors operate within their design limits, 
    supports compliance with international safety standards, and helps prevent structural failures or workplace accidents.
  </p>
</div>

            <div class="note-card">
                <h3>📊 Key Parameters Table</h3>
                <table class="parameters-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>De-mould</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Concrete strength</td>
                            <td>20 N/mm²</td>
                        </tr>
                        <tr>
                            <td>Weight (G)</td>
                            <td>50 kN</td>
                        </tr>
                        <tr>
                            <td>Spread angle (θ)</td>
                            <td>15°</td>
                        </tr>
                        <tr>
                            <td>Spread factor (z)</td>
                            <td>1.04</td>
                        </tr>
                        <tr>
                            <td>Lifting coeff (f)</td>
                            <td>1.3</td>
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>

    <script>
         // Set current date for print header
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('printDate').textContent = now.toLocaleDateString('en-US', options);
        });
        function calculateLoadPerAnchor() {
    const weight = parseFloat(document.getElementById('weight').value);
    const additionalLoad = parseFloat(document.getElementById('additionalLoad').value);
    const liftingCoeff = parseFloat(document.getElementById('liftingCoeff').value);
    const spreadFactor = parseFloat(document.getElementById('spreadFactor').value);
    const numAnchors = 4;

    const placeholder = document.getElementById('placeholder');
    const resultError = document.getElementById('resultError');
    const resultValue = document.getElementById('resultValue');
    const rateValue = document.getElementById('rateValue');
    const feedbackContent = document.getElementById('feedbackContent');
    const meterFill = document.getElementById('meterFill');
    const errorMessage = document.getElementById('errorMessage');

    placeholder.classList.add('hidden');
    resultError.classList.add('hidden');
    resultValue.classList.add('hidden');

    // ===== Input Validations =====
    if (isNaN(weight) || weight <= 0 || weight > 10000) {
        errorMessage.innerHTML = "⚠️ <strong>Weight (G) must be between 0.01 and 10,000 kN.</strong>";
        resultError.classList.remove('hidden');
        return;
    }

    if (isNaN(additionalLoad) || additionalLoad < 0 || additionalLoad > 500) {
        errorMessage.innerHTML = "⚠️ <strong>Additional Load (Hq) must be between 0 and 500 kN.</strong>";
        resultError.classList.remove('hidden');
        return;
    }

    if (isNaN(liftingCoeff) || liftingCoeff < 1.0 || liftingCoeff > 2.0) {
        errorMessage.innerHTML = "⚠️ <strong>Lifting Coefficient (f) must be between 1.0 and 2.0.</strong>";
        resultError.classList.remove('hidden');
        return;
    }

    if (isNaN(spreadFactor) || spreadFactor < 1.0 || spreadFactor > 2.0) {
        errorMessage.innerHTML = "⚠️ <strong>Spread Factor (z) must be between 1.0 and 2.0.</strong>";
        resultError.classList.remove('hidden');
        return;
    }

    // ===== Calculation =====
    const loadPerAnchor = ((weight + additionalLoad) * liftingCoeff * spreadFactor) / numAnchors;

    rateValue.textContent = loadPerAnchor.toFixed(2);

    // ===== Output Feedback =====
    let meterWidth = 0;
    let feedback = "";

    if (loadPerAnchor <= 25) {
        meterWidth = 25;
        feedback = "✅ Safe range for most standard anchors.";
        meterFill.style.background = "linear-gradient(to right, #2ecc71, #27ae60)";
    } else if (loadPerAnchor <= 50) {
        meterWidth = 50;
        feedback = "⚠️ Moderate load. Verify anchor capacity.";
        meterFill.style.background = "linear-gradient(to right, #f1c40f, #f39c12)";
    } else if (loadPerAnchor <= 100) {
        meterWidth = 75;
        feedback = "⚠️ High load. Use heavy-duty anchors with engineering oversight.";
        meterFill.style.background = "linear-gradient(to right, #e67e22, #d35400)";
    } else {
        meterWidth = 100;
        feedback = "❌ Critical load. STOP operation, engineering review required.";
        meterFill.style.background = "linear-gradient(to right, #e74c3c, #c0392b)";
    }

    meterFill.style.width = meterWidth + "%";
    feedbackContent.innerHTML = feedback;

    resultValue.classList.remove('hidden');
}
        
        function printReport() {
            window.print();
        }
        
        // Allow Enter key to trigger calculation
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('.form-input');
            inputs.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        calculateLoadPerAnchor();
                    }
                });
            });
        });
    </script>
    <script src="{% static 'js/print.js' %}"></script>
</body>
</html>
{% endblock %}

{% comment %} 
1. Formula Used

The formula in your code is:

Load per Anchor (kN)
=
(
𝐺
+
𝐻
𝑞
)
×
𝑓
×
𝑧
𝑛
Load per Anchor (kN)=
n
(G+H
q
	​

)×f×z
	​


Where:

G = Weight of the precast element (kN)

Hq = Additional load during de-moulding (kN)

f = Lifting coefficient (safety/dynamic factor, typically 1.1–1.5 per industry practice)

z = Spread angle factor (typically 1.0–1.2 depending on sling angle)

n = Number of anchors (here fixed at 4)

2. Input Validation Rules (Real-World QEHS & Safety Standards)
Weight (G) [kN]

Unit: kiloNewtons (kN).

Minimum: > 0 (a precast element must have weight).

Maximum: 10,000 kN (approx. 1,000 tonnes – practical engineering upper limit).

Decimals: up to 2 allowed.

Validation rationale: Prevents zero/negative or absurdly high values.

Additional Load (Hq) [kN]

Unit: kiloNewtons (kN).

Minimum: ≥ 0 (cannot be negative).

Maximum: 500 kN (industry tolerance for friction, adhesion, or suction).

Decimals: up to 2 allowed.

Validation rationale: Extra loads come from suction, adhesion, or environmental conditions. Must be realistic.

Lifting Coefficient (f)

Unitless safety/dynamic factor.

Range: 1.0 – 2.0 (per EN 1991-1-6, ISO 12480, OSHA guidelines).

Default: 1.3.

Decimals: up to 2 allowed.

Validation rationale: Ensures coefficient reflects actual dynamic safety margins.

Spread Angle Factor (z)

Unitless factor.

Range: 1.0 – 2.0 (depending on sling angle).

z = 1.0 → vertical lift (ideal).

z increases as spread angle increases.

Default: 1.04.

Decimals: up to 2 allowed.

Validation rationale: Prevents unsafe assumptions of infinite sling angle correction.

Cross-field dependencies

(G + Hq) must not exceed practical anchor design capacities.

Total load distributed per anchor should not exceed manufacturer’s rated anchor capacity (commonly 50–75 kN for standard anchors).

3. Output Validation & Thresholds (Audit/Compliance Standard)

From your interpretation table:

Low (0 – 25 kN): Safe → Standard anchors OK.

Moderate (25 – 50 kN): Verify anchor capacity (borderline).

High (50 – 100 kN): Requires heavy-duty anchors, engineering supervision.

Critical (> 100 kN): Engineering review, potential redesign, STOP operation.

These thresholds reflect real audit practices (ILO, OSHA, NFPA) where load > 75% of rated capacity requires verification, and load > 100% requires prohibition.

4. Corrected JavaScript Validation Logic

Here’s your updated JS with all validations, comments, and compliance rationale included:

/**
 * Formula:
 * Load per Anchor (kN) = ((G + Hq) * f * z) / n
 * Where:
 *   G  = Weight (kN), must be > 0
 *   Hq = Additional Load (kN), must be >= 0
 *   f  = Lifting coefficient (1.0 – 2.0)
 *   z  = Spread factor (1.0 – 2.0)
 *   n  = Number of anchors (fixed = 4)
 */ {% endcomment %}