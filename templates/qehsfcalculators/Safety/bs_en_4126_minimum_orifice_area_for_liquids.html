{% extends 'base.html' %}
{% block title %}BS EN 4126 Minimum Orifice Area Calculator for Liquids{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BS EN 4126 Minimum Orifice Area Calculator for Liquids</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding:0 20px;
            border-radius: 12px;
        }
        .btn-container {
    display: flex;
    justify-content: center; /* Horizontally center */
    margin: 30px 0;
}

.back-btn {
    background:linear-gradient(#1560bd,#000040); /* Dark navy background */
    color: #ffffff; /* White text */
    border: 2px solid #1560bd; /* Highlight border */
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 600;
    border-radius: 8px;
    text-decoration: none; /* Remove underline for link */
    transition: all 0.3s ease;
    cursor: pointer;
}

.back-btn:hover {
    background-color: #1560bd; /* Highlight on hover */
    color: #ffffff;
    border-color: #000040;
    transform: scale(1.05); /* Subtle hover effect */
}

        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            {% comment %} max-width: 700px; {% endcomment %}
            margin: 0 auto;
        }

        /* Layout */
        .calc-content {
            {% comment %} display: flex; {% endcomment %}
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        
        @media (max-width: 900px) {
            .calc-content { 
                flex-direction: column; 
            }
        }

        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: auto;
            overflow-y: auto;
        }
        
        .calc-card:hover { 
            transform: translateY(-5px); 
        }
        
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }
        .input-row {
            display: flex;
            flex-direction: column;
            gap: 15px;
           
        }
        
        @media (min-width: 480px) {
            .input-row {
                flex-direction: row;
            }
        }
        
        .input-row .form-group {
            flex: 1;
        }

        /* Inputs */
        .form-group { 
            margin-bottom: 20px; 
        }
        
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }

        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }

        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }

        .print-btn:hover {
            background: #1560bd;
        }

        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: 420px;
            text-align: center;
            margin-top: 20px;
        }
        
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        .rate-display {
            display: flex;
            gap: 6px;
            align-items: center;  
            justify-content: center; 
        }
        
        .result-value { 
            width: 100%; 
        }
        
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        
        .rate-label { 
            color: #7f8c8d; 
        }

        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
            margin-top: 20px;
        }
        
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .feedback-content { 
            color: #34495e; 
        }

        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }

        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        
        .note-card:hover {
            transform: translateY(-2px);
        }
        
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        
        .formula-card {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            border-left: 6px solid #0d47a1;
        }
        
        .formula-card code {
            display: inline-block;
            background: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-weight: bold;
            color: #0d47a1;
            font-size: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .good { 
            color: #2e7d32; 
            font-weight: 600; 
        }
        
        .average { 
            color: #f9a825; 
            font-weight: 600; 
        }
        
        .bad { 
            color: #c62828; 
            font-weight: 600; 
        }

        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }

        /* Toggle helper */
        .hidden { 
            display: none; 
        }

        /* Formula display */
        .formula-display {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: monospace;
            text-align: center;
            font-size: 16px;
        }
    </style>
</head>
<body>
           <div class="btn-container">
    <a href="{% url 'safetycategory_calculators' %}" class="back-btn">Back To Safety Calculators</a>
</div>
   <div class="calculator-container printable" id="printArea">

    <!-- Include header/footer for print -->
    {% include "includes/print_header_footer.html" %}

        <div class="calculator-header">
            <h1>BS EN 4126 Minimum Orifice Area Calculator for Liquids</h1>
            <p>Calculate the minimum orifice area required for liquids under relieving conditions according to BS EN 4126</p>
        </div>

        <div class="calc-content">
            <!-- Calculator -->
            <div class="calc-card">
                <h2>Enter Data</h2>
                <div class='input-row'>
                <div class="form-group">
                    <label for="massFlow">Mass Flow Rate (·πÅ) (kg/h)</label>
                    <input type="number" id="massFlow" class="form-input" min="0" step="any" placeholder="e.g., 5000">
                </div>
                <div class="form-group">
                    <label for="kdr">Derated Coefficient of Discharge (Kdr)</label>
                    <input type="number" id="kdr" class="form-input" min="0" max="1" step="any" placeholder="e.g., 0.65">
                </div>
                </div>
                <div class='input-row'>
                <div class="form-group">
                    <label for="kv">Viscosity Correction Factor (Kv)</label>
                    <input type="number" id="kv" class="form-input" min="0" step="any" placeholder="e.g., 1.0">
                </div>
                <div class="form-group">
                    <label for="relievingPressure">Relieving Pressure (P‚ÇÄ) (bar a)</label>
                    <input type="number" id="relievingPressure" class="form-input" min="0" step="any" placeholder="e.g., 10">
                </div>
                </div>
                <div class='input-row'>
                <div class="form-group">
                    <label for="backPressure">Back Pressure (P·µ¶) (bar a)</label>
                    <input type="number" id="backPressure" class="form-input" min="0" step="any" placeholder="e.g., 1">
                </div>
                <div class="form-group">
                    <label for="specificVolume">Specific Volume (ŒΩ) (m¬≥/kg)</label>
                    <input type="number" id="specificVolume" class="form-input" min="0" step="any" placeholder="e.g., 0.001">
                </div>
                </div>
                
                <button class="calculate-btn" onclick="calculateOrificeArea()">Calculate Orifice Area</button>
            </div>

            <!-- Result Section -->
            <div class="result-card">
                <div class="result-placeholder" id="placeholder">
                   <img src="https://cdn-icons-png.flaticon.com/512/2942/2942789.png" alt="Safety illustration">


                    <p>This tool will calculate the <strong>Minimum Orifice Area</strong> according to BS EN 4126. Enter your data to see results and insights here.</p>
                </div>
                
                <div class="result-error hidden" id="resultError">
                    <div class="error-icon">‚ùå</div>
                    <div class="error-message" id="errorMessage"></div>
                </div>
                 
                <div class="result-value hidden" id="resultValue">
                    <div class="calculation-type" style="font-weight:bold; font-size:16px; margin-bottom:5px; color:#1560bd;">
                        <h2>Minimum Orifice Area</h2>
                    </div>
                    <div class='rate-display'>
                    <div class="rate-value" id="rateValue">0.00</div>
                    <div class="rate-label" style="color:#2980b9; font-size:20px; font-weight:bold; ">mm¬≤</div></div>

                   

                    <div class="result-feedback">
                        <div class="feedback-title">Assessment</div>
                        <div class="feedback-content" id="feedbackContent"></div>
                    </div>
                    <div class="btn-wrapper">
                        <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                    </div>
                </div>
            </div>
        </div>

<!-- Notes Section -->
<div class="note-section">
    <div class="note-card">
        <h3>üìò About This Calculator</h3>
        <p>
            The <strong>BS EN 4126 Minimum Orifice Area Calculator</strong> helps determine the minimum orifice area required for liquids under relieving conditions according to the BS EN 4126 standard.
        </p>
    </div>

    <div class="note-card">
        <h3>‚öôÔ∏è Parameters Used</h3>
        <ul class="note-list">
            <li><strong>Mass Flow Rate (·πÅ):</strong> The amount of liquid flowing per hour (kg/h).</li>
            <li><strong>Derated Coefficient of Discharge (Kdr):</strong> A correction factor that accounts for valve efficiency (0-1).</li>
            <li><strong>Viscosity Correction Factor (Kv):</strong> Adjusts for the liquid's viscosity effects on flow.</li>
            <li><strong>Relieving Pressure (P‚ÇÄ):</strong> The absolute pressure at which the liquid is relieved (bar a).</li>
            <li><strong>Back Pressure (P·µ¶):</strong> The pressure downstream of the valve (bar a).</li>
            <li><strong>Specific Volume (ŒΩ):</strong> The volume occupied by 1 kg of liquid at the relieving pressure and temperature (m¬≥/kg).</li>
            <li><strong>Constant Value (1.61):</strong> A derived factor used in liquid flow calculations to ensure accurate orifice area determination.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>üìù Input Validation Rules</h3>
        <ul class="note-list">
            <li><strong>Mass Flow (·πÅ):</strong> Must be >0 and ‚â§10,000,000 kg/h.</li>
            <li><strong>Kdr:</strong> Must be between 0 and 1 (dimensionless).</li>
            <li><strong>Kv:</strong> Must be >0 and ‚â§5 (normally ~1.0).</li>
            <li><strong>Relieving Pressure (P‚ÇÄ):</strong> Must be >0 and ‚â§400 bar(a).</li>
            <li><strong>Back Pressure (P·µ¶):</strong> Must be ‚â•0 and less than P‚ÇÄ.</li>
            <li><strong>Specific Volume (ŒΩ):</strong> Must be >0 and ‚â§0.1 m¬≥/kg.</li>
            <li><strong>Pressure Difference:</strong> (P‚ÇÄ ‚àí P·µ¶) must be positive.</li>
            <li><strong>Result:</strong> If calculated area >100,000 mm¬≤ ‚Üí reject as unrealistic.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>üìä Output Validations</h3>
        <ul class="note-list">
            <li>Area &lt; 50 mm¬≤: ‚ö†Ô∏è Small orifice area, ensure sufficient for discharge</li>
            <li>Area 50‚Äì2000 mm¬≤: ‚úÖ Typical range for safety valves</li>
            <li>Area &gt; 2000 mm¬≤: ‚ùå Large orifice area, verify system design</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>üìè Governing Principle</h3>
        <p>
            Standard for Minimum Orifice Area Calculation for Liquids. The calculation of the minimum orifice area for liquids in safety valves is governed by EN ISO 4126-1: Safety devices for protection against excessive pressure ‚Äì Part 1: Safety valves. This standard specifies the general requirements for safety valves, including the methodologies and formulas for sizing, which encompass the determination of the required orifice area for various fluid types, including liquids.
        </p>
        <h3>How it Works</h3>
        <ul class="note-list">
            <li><strong>Liquid Flow Principles:</strong> Uses mass flow, pressure difference, and correction factors (Kdr & Kv) to determine minimum orifice area.</li>
            <li><strong>Real-World Adjustments:</strong> Applies derated and viscosity corrections to match practical valve behavior.</li>
        </ul>
        <br>
        <h3>Relevant Standards & Guidelines</h3>
        <ul class="note-list">
            <li><strong>EN ISO 4126-1:</strong> General requirements for safety valves.</li>
            <li><strong>BS EN 4126:</strong> Specifies safety relief valve design for liquid discharge.</li>
            <li><strong>Manufacturer Guidelines:</strong> Many valve manufacturers provide practical orifice sizing recommendations.</li>
        </ul>
    </div>

    <div class="note-card">
        <h3>‚úÖ Conclusion</h3>
        <p>
            This calculation ensures that pressurized liquids can be safely discharged, preventing <strong>pipe bursts</strong>, <strong>tank overpressure</strong>, and <strong>system failure</strong>, ultimately enhancing safety and efficiency in industrial operations.
        </p>
    </div>
</div>


    <script>
        // Set current date for print header
        document.addEventListener('DOMContentLoaded', function() {
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('printDate').textContent = now.toLocaleDateString('en-US', options);
        });

        function calculateOrificeArea() {
    const massFlow = document.getElementById('massFlow').value.trim();
    const kdr = document.getElementById('kdr').value.trim();
    const kv = document.getElementById('kv').value.trim();
    const relievingPressure = document.getElementById('relievingPressure').value.trim();
    const backPressure = document.getElementById('backPressure').value.trim();
    const specificVolume = document.getElementById('specificVolume').value.trim();

    const errorBox = document.getElementById('resultError');
    const errorMessage = document.getElementById('errorMessage');
    const placeholder = document.getElementById('placeholder');
    const resultValue = document.getElementById('resultValue');

    let errors = [];

    // --- Validation Rules (QEHS/BS EN 4126) ---
    // Mass Flow: must be positive and realistic
    if (massFlow === "" || isNaN(massFlow) || parseFloat(massFlow) <= 0 || parseFloat(massFlow) > 1e7) {
        errors.push("üëâ Mass flow rate must be between 0 and 10,000,000 kg/h.");
    }

    // Kdr: must be >0 and <=1
    if (kdr === "" || isNaN(kdr) || parseFloat(kdr) <= 0 || parseFloat(kdr) > 1) {
        errors.push("üëâ Derated coefficient of discharge (Kdr) must be between 0 and 1.");
    }

    // Kv: must be >0 (normally 0.5‚Äì2, but set limit)
    if (kv === "" || isNaN(kv) || parseFloat(kv) <= 0 || parseFloat(kv) > 5) {
        errors.push("üëâ Viscosity correction factor (Kv) must be >0 and ‚â§ 5.");
    }

    // Relieving pressure: must be >0
    if (relievingPressure === "" || isNaN(relievingPressure) || parseFloat(relievingPressure) <= 0 || parseFloat(relievingPressure) > 400) {
        errors.push("üëâ Relieving pressure must be between 0 and 400 bar(a).");
    }

    // Back pressure: must be ‚â•0 and < relieving pressure
    if (backPressure === "" || isNaN(backPressure) || parseFloat(backPressure) < 0) {
        errors.push("üëâ Back pressure cannot be negative.");
    }

    // Specific Volume: must be >0
    if (specificVolume === "" || isNaN(specificVolume) || parseFloat(specificVolume) <= 0 || parseFloat(specificVolume) > 0.1) {
        errors.push("üëâ Specific volume must be >0 and ‚â§0.1 m¬≥/kg (typical for liquids).");
    }

    // Logical check: back pressure < relieving pressure
    if (errors.length === 0 && parseFloat(backPressure) >= parseFloat(relievingPressure)) {
        errors.push("üëâ Back pressure must be less than relieving pressure.");
    }

    if (errors.length > 0) {
        errorMessage.innerHTML = errors.join("<br>");
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        resultValue.classList.add("hidden");
        return;
    } else {
        errorBox.classList.add("hidden");
    }

    // Parse values
    const m = parseFloat(massFlow);
    const kDr = parseFloat(kdr);
    const kV = parseFloat(kv);
    const p0 = parseFloat(relievingPressure);
    const pb = parseFloat(backPressure);
    const v = parseFloat(specificVolume);

    // --- Formula Documentation (BS EN 4126) ---
    // Formula: A = m / (1.61 * Kdr * Kv * sqrt((P0 - Pb)/ŒΩ))
    // where:
    // m = mass flow rate [kg/h]
    // Kdr = derated coefficient of discharge
    // Kv = viscosity correction factor
    // P0 = relieving pressure [bar a]
    // Pb = back pressure [bar a]
    // ŒΩ = specific volume [m¬≥/kg]
    // Note: conversion of pressure units if needed (already consistent in bar a)

    // Calculate pressure difference
    const pressureDifference = p0 - pb;
    if (pressureDifference <= 0) {
        errorMessage.innerHTML = "üëâ Pressure difference (P‚ÇÄ - P·µ¶) must be positive.";
        errorBox.classList.remove("hidden");
        return;
    }

    // Calculate denominator
    const denominator = 1.61 * kDr * kV * Math.sqrt(pressureDifference / v);

    if (denominator <= 0) {
        errorMessage.innerHTML = "üëâ Invalid calculation: denominator cannot be zero or negative.";
        errorBox.classList.remove("hidden");
        return;
    }

    // Calculate orifice area (mm¬≤)
    const orificeArea = (m / denominator);

    // Output validation: reject absurdly high areas
    if (orificeArea > 100000) {
        errorMessage.innerHTML = "üëâ Calculated orifice area exceeds 100,000 mm¬≤ (unrealistic for liquid valves). Please recheck inputs.";
        errorBox.classList.remove("hidden");
        return;
    }

    // Display result
    document.getElementById('rateValue').textContent = orificeArea.toFixed(4);

    // Provide feedback
    let feedback = "";
    if (orificeArea < 50) {
        feedback = "‚ö†Ô∏è Small orifice area, ensure sufficient for discharge.";
    } else if (orificeArea <= 2000) {
        feedback = "‚úÖ Typical range for safety valves";
    } else {
        feedback = "‚ùå Large orifice area, verify system design.";
    }

    document.getElementById('feedbackContent').innerHTML = feedback;

    // Show results
    placeholder.classList.add('hidden');
    resultValue.classList.remove('hidden');
}


        function printReport() {
            // Update date just before printing
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('printDate').textContent = now.toLocaleDateString('en-US', options);
            
            window.print();
        }
    </script>
    <script src="{% static 'js/print.js' %}"></script>

</body>
</html>
{% endblock %}



{% comment %} 

1. Real-world QEHS & Fire Safety Analysis of Inputs/Outputs

The calculator estimates Minimum Orifice Area (A) for safety valves discharging liquids using BS EN 4126.
Formula applied (from your code):

ùê¥
=
ùëö
Àô
1.61
‚ãÖ
ùêæ
ùëë
ùëü
‚ãÖ
ùêæ
ùë£
‚ãÖ
ùëÉ
0
‚àí
ùëÉ
ùëè
ùúà
A=
1.61‚ãÖK
dr
	‚Äã

‚ãÖK
v
	‚Äã

‚ãÖ
ŒΩ
P
0
	‚Äã

‚àíP
b
	‚Äã

	‚Äã

	‚Äã

m
Àô
	‚Äã


Where:

·πÅ (Mass Flow Rate, kg/h) ‚Üí critical, must be realistic and positive. Typical values in industry range from a few kg/h (lab systems) to 10‚Å∂ kg/h (large refineries).

Kdr (Derated Coefficient of Discharge) ‚Üí dimensionless, between 0.1‚Äì1.0 (safety margins applied).

Kv (Viscosity Correction Factor) ‚Üí normally 0.9‚Äì1.1, but technically must be >0.

P‚ÇÄ (Relieving Pressure, bar a) ‚Üí must always exceed Pb. Typical industrial ranges: 1‚Äì400 bar a.

Pb (Back Pressure, bar a) ‚Üí 0‚Äì90% of P‚ÇÄ depending on design. Cannot exceed P‚ÇÄ.

ŒΩ (Specific Volume, m¬≥/kg) ‚Üí usually 0.0005‚Äì0.01 m¬≥/kg for liquids; extreme outliers are physically unrealistic.

‚ö†Ô∏è Compliance Relevance: Incorrect input validation can underpredict orifice area, risking undersized safety valves ‚Üí catastrophic overpressure. Overprediction wastes cost but still poses risk if chosen valve is impractical.

2. Validation Rules (Practical & Regulatory)

Here‚Äôs a consolidated table of input validations:

Input	Unit	Rule	Reason (Safety/Compliance)
Mass Flow (·πÅ)	kg/h	> 0 and ‚â§ 1e7	Negative/zero flow impossible; upper bound prevents unrealistic outliers
Kdr	‚Äì	> 0 and ‚â§ 1.0	By definition, valve discharge coefficient ‚â§ 1
Kv	‚Äì	> 0 and ‚â§ 5	Correction factor should be near 1; upper bound avoids garbage inputs
Relieving Pressure (P‚ÇÄ)	bar a	> 0 and ‚â§ 400	BS EN 4126 valid up to high pressures; prevents unphysical inputs
Back Pressure (Pb)	bar a	‚â• 0 and < P‚ÇÄ	Must be lower than relieving pressure; prevents negative ŒîP
Specific Volume (ŒΩ)	m¬≥/kg	> 0.00001 and ‚â§ 0.1	For liquids, very small but never 0; upper bound prevents gas-like values
3. Edge Case Validations

Division by zero ‚Üí if ŒΩ = 0, denominator ‚Üí ‚àû, must reject input.

ŒîP (P‚ÇÄ ‚àí Pb) ‚â§ 0 ‚Üí invalid; safety valve cannot operate.

Extremely high flow with low ŒîP & ŒΩ ‚Üí produces absurdly large A (>10‚Å∂ mm¬≤), must flag as unrealistic.

Tiny orifice (<1 mm¬≤) ‚Üí warn user of impractical valve sizing.

4. Output Validation & Thresholds

Practical interpretation of Orifice Area A (mm¬≤):

< 50 mm¬≤ ‚Üí Small orifice, check applicability (lab-scale, small hydraulic system).

50‚Äì2000 mm¬≤ ‚Üí Typical industrial range.

2000‚Äì100000 mm¬≤ ‚Üí Large ‚Üí verify if special design is required.

>100000 mm¬≤ ‚Üí Physically unrealistic for liquid safety valves ‚Üí reject.

This ensures outputs stay meaningful and auditable for ISO 45001 / OSHA PSM / BS EN 4126 compliance.
 {% endcomment %}
