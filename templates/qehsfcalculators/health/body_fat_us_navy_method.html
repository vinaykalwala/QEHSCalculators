{% extends 'base.html' %}
{% block title %}Body Fat Calculator (U.S. Navy Method){% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Body Fat Calculator (U.S. Navy Method)</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            border-radius: 12px;
        }
        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            margin: 0 auto;
        }
        /* Layout */
        .calc-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        @media (max-width: 900px) {
            .calc-content {
                flex-direction: column;
            }
        }
        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: auto;
            max-height: 420px;   /* adjust as needed */
            overflow-y: auto;
            padding-right: 12px; /* prevent scrollbar overlap */
        }
        .calc-card:hover {
            transform: translateY(-5px);
        }
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }
        /* Inputs */
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        .form-input, .form-select {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52,152,219,0.2);
        }
        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        .calculate-btn:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }
        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }
        .print-btn:hover {
            background: #1560bd;
        }
        /* Result Card */
        .result-card {
            justify-content: center;
            align-items: center;
            min-height: 420px;
            text-align: center;
        }
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        .rate-display {
            display: flex;
            gap: 6px;
            align-items: center;
            justify-content: center;
        }
        .result-value {
            width: 100%;
        }
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
            margin-bottom: 10px;
        }
        .rate-label {
            color: #7f8c8d;
        }
        /* Meter */
        .safety-meter {
            width: 100%;
            height: 12px;
            background: #f1f5f9;
            border-radius: 6px;
            margin: 20px 0;
            overflow: hidden;
        }
        .meter-fill {
            height: 100%;
            transition: width 1s ease-in-out;
            border-radius: 6px;
        }
        .meter-labels {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
        }
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        .feedback-content {
            color: #34495e;
        }
        /* Notes Section */
        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }
        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
            transition: transform 0.2s ease;
        }
        .note-card:hover {
            transform: translateY(-2px);
        }
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        .note-list {
            margin: 0;
            padding-left: 18px;
        }
        /* Table styles */
        .custom-table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .custom-table thead {
            background-color: #1560bd;
            color: white;
        }
        .custom-table th, .custom-table td {
            padding: 12px 16px;
            border: 1px solid #ddd;
            text-align: center;
        }
        .custom-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        /* Error Message */
        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px;
            padding: 20px;
            text-align: left;
            gap: 12px;
            margin-top: 20px;
        }
        .error-icon {
            font-size: 76px;
            flex-shrink: 0;
            text-align: center;
        }
        .error-message {
            font-size: 24px;
            line-height: 1.6;
        }
        /* Toggle helper */
        .hidden {
            display: none;
        }
        .btn-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        .back-btn {
            background: linear-gradient(#1560bd,#000040);
            color: #ffffff;
            border: 2px solid #1560bd;
            padding: 10px 20px;
            font-size: 14px;
            font-weight: 600;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .back-btn:hover {
            background-color: #1560bd;
            color: #ffffff;
            border-color: #000040;
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="btn-container">
        <a href="{% url 'healthcategory_calculators'%}" class="back-btn">Back To Health Calculators</a>
    </div>

    <div class="calculator-container printable" id="printArea">
        {% include "includes/print_header_footer.html" %}

        <div class="calculator-header">
            <h1>Body Fat Calculator (U.S. Navy Method)</h1>
            <p>Estimate your body fat percentage using circumference measurements.</p>
        </div>

        <div class="calc-content">
            <div class="calc-card">
                <h2>Enter Your Measurements</h2>
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" class="form-select" onchange="toggleHipInput()">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="height">Height (cm)</label>
                    <input type="number" id="height" class="form-input" min="0" placeholder="e.g., 178">
                </div>
                <div class="form-group">
                    <label for="neck">Neck Circumference (cm)</label>
                    <input type="number" id="neck" class="form-input" min="0" placeholder="e.g., 38">
                </div>
                <div class="form-group">
                    <label for="waist">Waist Circumference (cm)</label>
                    <input type="number" id="waist" class="form-input" min="0" placeholder="e.g., 85">
                </div>
                <div class="form-group hidden" id="hip-group">
                    <label for="hip">Hip Circumference (cm)</label>
                    <input type="number" id="hip" class="form-input" min="0" placeholder="e.g., 99">
                </div>
                <button class="calculate-btn" onclick="calculateBodyFat()">Calculate Body Fat</button>
            </div>

            <div class="result-card">
                <div class="result-placeholder" id="placeholder">
                    <img src="https://cdn-icons-png.flaticon.com/512/2942/2942789.png" alt="Health illustration">
                    <p>Enter your measurements to estimate your <strong>Body Fat Percentage</strong>.</p>
                </div>
                <div class="result-error hidden" id="resultError">
                    <div class="error-icon">❌</div>
                    <div class="error-message" id="errorMessage"></div>
                </div>
                <div class="result-value hidden" id="resultValue">
                    <h2>Body Fat Percentage</h2>
                    <div class="rate-display">
                        <div class="rate-value" id="rateValue">0.0</div>
                        <div class="rate-label" style="color:#2980b9; font-size:20px; font-weight:bold;">%</div>
                    </div>
                    <div class="safety-meter">
                        <div class="meter-fill" id="meterFill"></div>
                    </div>
                    <div class="meter-labels">
                        <span>Essential</span><span>Athlete</span><span>Fitness</span><span>Average</span><span>Overweight</span>
                    </div>
                    <div class="result-feedback">
                        <div class="feedback-title">Category Assessment</div>
                        <div class="feedback-content" id="feedbackContent"></div>
                    </div>
                    <div class="btn-wrapper">
                        <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="note-section">
            <div class="note-card">
                <h3>⭐ Take Control Of Your Body Composition</h3>
                <p>Achieving and maintaining optimal health calls for a nuanced understanding of the body's composition, including factors such as body fat percentage and its implications on overall wellness. This calculator empowers you with precise insights into your body composition, guiding you towards healthier living.</p>
                <p>At Max Hospital, we recognize the importance of personalised health management. Our Body Fat Calculator gives accurate insights into body composition and guides you toward healthier living.</p>
            </div>
            <div class="note-card">
    <h3>📘 About This Calculator</h3>
    <p>The Body Fat Calculator (U.S. Navy Method) estimates body fat percentage using simple body measurements, including neck, waist, and for females, hip circumferences. It provides insights into body composition to assess fitness levels, track health, and guide lifestyle decisions. While it is not a medical diagnostic tool, it gives reliable estimates for general health assessment and fitness monitoring.</p>
</div>
<div class="note-card">
    <h3>⚙️ Parameters Used</h3>
    <ul class="note-list">
        <li><strong>Gender:</strong> Determines which formula to use and sets thresholds for body fat categories.</li>
        <li><strong>Height (cm):</strong> Used with circumference measurements to calculate body composition.</li>
        <li><strong>Neck Circumference (cm):</strong> Helps estimate lean mass and fat distribution.</li>
        <li><strong>Waist Circumference (cm):</strong> Primary measurement for calculating body fat; must be logically consistent with neck measurement.</li>
        <li><strong>Hip Circumference (cm):</strong> Required for females to account for fat storage differences between genders.</li>
    </ul>
</div>
<div class="note-card">
    <h3>✅ Input Validation Rules</h3>
    <ul class="note-list">
        <li><strong>Gender:</strong> Must select Male or Female.</li>
        <li><strong>Height (cm):</strong> 100–250; only positive numbers allowed.</li>
        <li><strong>Neck Circumference (cm):</strong> 20–60; only positive numbers allowed.</li>
        <li><strong>Waist Circumference (cm):</strong> 50–150; only positive numbers allowed.</li>
        <li><strong>Hip Circumference (cm, female only):</strong> 50–150; only positive numbers allowed.</li>
        <li><strong>Logical Consistency:</strong>
            <ul>
                <li>Male: Waist must be greater than neck.</li>
                <li>Female: Waist + Hip must be greater than neck.</li>
            </ul>
        </li>
        <li><strong>Decimals:</strong> Accepts up to one decimal place.</li>
        <li>Values outside these ranges or inconsistent combinations will trigger error messages.</li>
    </ul>
</div>
<div class="note-card">
    <h3>⚡ Output Validations</h3>
    <ul class="note-list">
        <li>Body Fat Percentage (BFP) should be non-negative and realistically ≤ 60%.</li>
        <li><strong>Male Thresholds:</strong>
            <ul>
                <li>Essential: 2–5%</li>
                <li>Athlete: 6–13%</li>
                <li>Fitness: 14–17%</li>
                <li>Average: 18–24%</li>
                <li>Overweight: >25%</li>
            </ul>
        </li>
        <li><strong>Female Thresholds:</strong>
            <ul>
                <li>Essential: 10–13%</li>
                <li>Athlete: 14–20%</li>
                <li>Fitness: 21–24%</li>
                <li>Average: 25–31%</li>
                <li>Overweight: >32%</li>
            </ul>
        </li>
        <li>Feedback must provide safe health advice, recommending consultation if values are outside optimal ranges.</li>
        <li>Extreme or nonsensical inputs (e.g., negative values, illogical waist-neck relations) must be blocked.</li>
    </ul>
</div>
<div class="note-card">
    <h3>🧭 Governing Principle</h3>
    <p>The Body Fat Calculator is based on the U.S. Navy Method, developed to estimate body fat percentage using circumference measurements. Key aspects include:</p>
    <ul class="note-list">
        <li><strong>Purpose:</strong> To estimate body fat for fitness assessment and monitoring.</li>
        <li><strong>Measurements:</strong> Neck, waist, and for females, hip circumferences.</li>
        <li><strong>Formulas:</strong> Hodgdon and Beckett equations (1984) applied to the measurements.</li>
        <li><strong>Accuracy:</strong> Reasonably accurate for general fitness assessments; less precise than DEXA or underwater weighing.</li>
        <li><strong>Standards:</strong> Not a medical standard but widely used for fitness and health tracking.</li>
    </ul>
</div>

            <div class="note-card">
                <h3>🤔 How This Calculator Works</h3>
                <p>This tool estimates your body fat percentage using key inputs and applies a mathematical formula (the U.S. Navy Method) to derive an estimated body fat percentage. The required parameters are:</p>
                <ul class="note-list">
                    <li><strong>Gender:</strong> Body fat distribution varies significantly between men and women. The formula adjusts calculations based on gender.</li>
                    <li><strong>Weight:</strong> Total body weight is a primary input for calculating body composition.</li>
                    <li><strong>Height:</strong> Used alongside weight to assess overall body structure.</li>
                    <li><strong>Neck & Waist Circumference:</strong> Helps estimate lean mass and fat distribution.</li>
                    <li><strong>Hip Circumference:</strong> Specifically used for women for more precise calculation due to different fat storage patterns.</li>
                </ul>
            </div>

            <div class="note-card">
                <h3>✅ Benefits of Using a Body Fat Calculator</h3>
                <ul class="note-list">
                    <li>Assess overall health and risk for conditions like heart disease and diabetes.</li>
                    <li>Tailor fitness programs focusing on fat loss or muscle gain.</li>
                    <li>Track body composition changes over time.</li>
                    <li>Detect increases in body fat early and make lifestyle adjustments.</li>
                    <li>Enhance athletic performance by maintaining optimal body fat percentages.</li>
                </ul>
            </div>

            <div class="note-card">
                <h3>📊 Body Fat Categories (ACE Chart)</h3>
            </div>
            <div class="table-wrapper">
                <table class="custom-table">
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Men</th>
                            <th>Women</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Essential Fat</td><td>2-5%</td><td>10-13%</td></tr>
                        <tr><td>Athletes</td><td>6-13%</td><td>14-20%</td></tr>
                        <tr><td>Fitness</td><td>14-17%</td><td>21-24%</td></tr>
                        <tr><td>Average</td><td>18-24%</td><td>25-31%</td></tr>
                        <tr><td>Overweight</td><td>25%+</td><td>32%+</td></tr>
                    </tbody>
                </table>
            </div>
             

            <div class="note-card">
                <h3>💡 Understanding Body Fat Types</h3>
                <p><strong>Essential Fat:</strong> This is the minimum amount of fat required for normal physiological function. For men, it's about 2-5%, and for women, it's 10-13%.</p>
                <p><strong>Stored Fat:</strong> Includes subcutaneous fat (beneath skin) and visceral fat (around organs). Excess visceral fat increases health risks.</p>
            </div>

            <div class="note-card">
                <h3>❗ Potential Health Complications of Excess Body Fat</h3>
                <ul class="note-list">
                    <li>Cardiovascular Issues</li>
                    <li>Type 2 Diabetes</li>
                    <li>Joint Problems</li>
                    <li>Sleep Apnea</li>
                    <li>Metabolic Syndrome</li>
                    <li>Liver Disease</li>
                    <li>Certain Cancers</li>
                </ul>
            </div>

            <div class="note-card">
                <h3>🏃 Maintaining a Healthy Body Fat Percentage</h3>
                <p>Achieve and maintain a healthy body fat percentage through a combination of balanced diet, regular exercise (both cardio and strength training), and a healthy lifestyle. Personalized guidance from healthcare professionals ensures long-term wellness.</p>
            </div>

            
            <div class="note-card">
                <h3>❗ Disclaimer</h3>
                <p>This calculator provides estimates and is not a substitute for professional medical advice. Always consult a healthcare provider for comprehensive assessment.</p>
            </div>
            <div class="note-card">
    <h3>📝 Conclusion</h3>
    <p>The Body Fat Calculator provides a practical way to estimate body fat percentage, helping users understand body composition, monitor fitness progress, and make informed lifestyle decisions. While it is not a clinical diagnostic tool, it offers valuable guidance when combined with proper nutrition, exercise, and professional health advice.</p>
</div>

        </div>
    </div>
</div>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    const now = new Date();
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    if (document.getElementById('printDate')) {
        document.getElementById('printDate').textContent = now.toLocaleDateString('en-US', options);
    }
    toggleHipInput(); // Set initial visibility based on gender
});

// Toggle Hip input visibility for female only
function toggleHipInput() {
    const gender = document.getElementById('gender').value;
    document.getElementById('hip-group').classList.toggle('hidden', gender === 'male');
}

// Main Body Fat Calculation
function calculateBodyFat() {
    const gender = document.getElementById('gender').value;
    const heightInput = document.getElementById('height').value.trim();
    const neckInput = document.getElementById('neck').value.trim();
    const waistInput = document.getElementById('waist').value.trim();
    const hipInput = document.getElementById('hip').value.trim();

    const errorBox = document.getElementById('resultError');
    const errorMessage = document.getElementById('errorMessage');
    const placeholder = document.getElementById('placeholder');
    const resultValue = document.getElementById('resultValue');

    let errors = [];

    // Parse inputs
    const height = parseFloat(heightInput);
    const neck = parseFloat(neckInput);
    const waist = parseFloat(waistInput);
    const hip = parseFloat(hipInput || 0);

    // ===== INPUT VALIDATIONS =====
    if (!gender) errors.push("👉 Select gender (Male or Female).");

    if (isNaN(height) || height < 100 || height > 250)
        errors.push("👉 Height must be 100–250 cm.");
    if (isNaN(neck) || neck < 20 || neck > 60)
        errors.push("👉 Neck circumference must be 20–60 cm.");
    if (isNaN(waist) || waist < 50 || waist > 150)
        errors.push("👉 Waist circumference must be 50–150 cm.");
    if (gender === 'female' && (isNaN(hip) || hip < 50 || hip > 150))
        errors.push("👉 Hip circumference must be 50–150 cm.");

    // Logical consistency
    if (gender === 'male' && (waist - neck <= 0))
        errors.push("👉 Male: Waist must be greater than neck.");
    if (gender === 'female' && (waist + hip - neck <= 0))
        errors.push("👉 Female: Waist + Hip must be greater than neck.");

    // Display errors if any
    if (errors.length > 0) {
        errorMessage.innerHTML = errors.join("<br>");
        errorBox.classList.remove("hidden");
        placeholder.classList.add("hidden");
        resultValue.classList.add("hidden");
        return;
    } else {
        errorBox.classList.add("hidden");
    }

    // ===== BODY FAT CALCULATION (U.S. Navy Method) =====
    let bodyFat;
    if (gender === 'male') {
        bodyFat = 86.010 * Math.log10(waist - neck) - 70.041 * Math.log10(height) + 36.76;
    } else {
        bodyFat = 163.205 * Math.log10(waist + hip - neck) - 97.684 * Math.log10(height) - 78.387;
    }

    const bodyFatRounded = Math.min(60, Math.max(0, parseFloat(bodyFat.toFixed(1)))); // Ensure 0–60%
    document.getElementById('rateValue').textContent = bodyFatRounded;

    // ===== FEEDBACK & METER DISPLAY =====
    const meterFill = document.getElementById('meterFill');
    let meterWidth, meterColor, feedback;

    if (gender === 'male') {
        if (bodyFatRounded <= 5) { meterWidth = '20%'; meterColor = '#3498db'; feedback = 'in the <strong>Essential Fat</strong> range. Vital for basic health.'; }
        else if (bodyFatRounded <= 13) { meterWidth = '40%'; meterColor = '#27ae60'; feedback = 'in the <strong>Athlete</strong> range, reflecting excellent fitness.'; }
        else if (bodyFatRounded <= 17) { meterWidth = '60%'; meterColor = '#2ecc71'; feedback = 'in the <strong>Fitness</strong> range. Healthy and fit.'; }
        else if (bodyFatRounded <= 24) { meterWidth = '80%'; meterColor = '#f39c12'; feedback = 'in the <strong>Average</strong> range. Acceptable for most individuals.'; }
        else { meterWidth = '95%'; meterColor = '#e74c3c'; feedback = 'in the <strong>Overweight</strong> range. Consult a health professional.'; }
    } else { // Female
        if (bodyFatRounded <= 13) { meterWidth = '20%'; meterColor = '#3498db'; feedback = 'in the <strong>Essential Fat</strong> range. Crucial for hormonal health.'; }
        else if (bodyFatRounded <= 20) { meterWidth = '40%'; meterColor = '#27ae60'; feedback = 'in the <strong>Athlete</strong> range. Excellent condition.'; }
        else if (bodyFatRounded <= 24) { meterWidth = '60%'; meterColor = '#2ecc71'; feedback = 'in the <strong>Fitness</strong> range. Good overall health.'; }
        else if (bodyFatRounded <= 31) { meterWidth = '80%'; meterColor = '#f39c12'; feedback = 'in the <strong>Average</strong> range. Typical for general population.'; }
        else { meterWidth = '95%'; meterColor = '#e74c3c'; feedback = 'in the <strong>Overweight</strong> range. Health consultation recommended.'; }
    }

    meterFill.style.width = meterWidth;
    meterFill.style.backgroundColor = meterColor;
    document.getElementById('feedbackContent').innerHTML = `Your estimated body fat percentage is ${feedback}`;

    placeholder.classList.add('hidden');
    resultValue.classList.remove('hidden');
}

// Print report function
function printReport() {
    const now = new Date();
    const options = { year: 'numeric', month: 'long', day: 'numeric' };
    if (document.getElementById('printDate')) {
        document.getElementById('printDate').textContent = now.toLocaleDateString('en-US', options);
    }
    window.print();
}
</script>

</body>
</html>
{% endblock %}

<!-- 
1. Input Validation Rules (QEHS Perspective)
Input Field	Units	Acceptable Range	Validation Logic	Rationale (Compliance / Safety)
Gender	N/A	Male / Female	Must be selected	Gender determines formula and thresholds. Ensures meaningful results.
Height	cm	100 – 250	Positive number; cannot be zero or negative; realistic anthropometric range	Unrealistic heights can produce invalid body fat % and mislead health assessment.
Neck Circumference	cm	20 – 60	Positive number; neck < waist & hip (logical consistency)	Prevents division by zero / negative log; ensures measurement makes sense physiologically.
Waist Circumference	cm	50 – 150	Positive number; waist > neck for males; waist + hip > neck for females	Ensures correct calculation; prevents negative or zero values in log function.
Hip Circumference (Female only)	cm	50 – 150	Positive number; only visible if female	Required for female formula; ensures accurate body fat %.
Measurement Consistency	cm	N/A	Waist – Neck > 0 (male); Waist + Hip – Neck > 0 (female)	Prevents invalid log inputs; critical for mathematical integrity of U.S. Navy formula.
2. Output Validation and Thresholds

Body Fat Percentage (BFP):
The BFP should always be non-negative and realistically ≤ 60% (outliers above are biologically rare).

Male Thresholds (Navy Method):

Essential: 2–5%

Athlete: 6–13%

Fitness: 14–17%

Average: 18–24%

Overweight: >25%

Female Thresholds (Navy Method):

Essential: 10–13%

Athlete: 14–20%

Fitness: 21–24%

Average: 25–31%

Overweight: >32%

Feedback must reflect safe health advice, emphasizing consultation if outside optimal ranges.

3. Edge Case Handling

Division by Zero / Negative Logs:

Occurs if (waist - neck) ≤ 0 for males or (waist + hip - neck) ≤ 0 for females. Must be blocked.

Extreme Outliers:

Height < 100 cm or > 250 cm; neck < 20 cm or > 60 cm; waist < 50 cm or > 150 cm.

Missing Inputs:

Empty fields must trigger an error message.

Negative Values:

Any negative input is invalid.

Precision:

Round BFP to 2 decimal places for clarity.
-->