{% extends 'base.html' %}
{% block title %}Weight Gain Calculator{% endblock %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weight Gain Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/print.css' %}">
    <style>
        /* Main container */
        .calculator-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            border-radius: 12px;
        }
        /* Header */
        .calculator-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        .calculator-header h1 {
            color: #1560bd;
            font-weight: 700;
            margin-bottom: 10px;
            font-size: 2.5rem;
        }
        .calculator-header p {
            color: #7f8c8d;
            font-size: 18px;
            margin: 0 auto;
        }
        /* Layout */
        .calc-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            align-items: stretch;
        }
        @media (max-width: 900px) {
            .calc-content {
                flex-direction: column;
            }
        }
        /* Cards */
        .result-card {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.08);
            padding: 30px;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            border: 2px solid #1560bd;
        }
        .calc-card {
            flex: 1;
            background: linear-gradient(135deg, #1560bd, #1560bd, #000040);
            color: #fff;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            height: 420px;
            overflow-y: auto;
        }
        .calc-card:hover {
            transform: translateY(-5px);
        }
        .calc-card h2 {
            color: #ffff;
            margin-bottom: 25px;
            border-bottom: 2px solid #f1f5f9;
            padding-bottom: 10px;
            font-weight: 600;
        }
        /* Inputs */
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #fff;
        }
        .form-input, .form-select {
            width: 100%;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background: #f9fbfd;
            font-size: 16px;
            transition: all 0.3s;
        }
        /* Button */
        .calculate-btn {
            width: 100%;
            padding: 14px;
            background: #ffc107;
            color: #000;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            margin-top: 10px;
        }
        .btn-wrapper {
            text-align: center;
            margin-top: 20px;
        }
        .print-btn {
            display: inline-block;
            background: linear-gradient(#1560bd,#000040);
            color: white;
            padding: 8px 18px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: auto !important;
        }
        /* Result Card */
        .result-placeholder {
            text-align: center;
            margin: auto;
        }
        .result-placeholder img {
            max-width: 240px;
            margin-bottom: 20px;
            opacity: 0.85;
        }
        .result-placeholder p {
            color: #7f8c8d;
            font-size: 16px;
            line-height: 1.6;
        }
        .rate-display {
            display: flex;
            gap: 6px;
            align-items: baseline;
            justify-content: center;
        }
        .rate-value {
            font-size: 42px;
            font-weight: 700;
            color: #2980b9;
        }
        .rate-label {
            color: #2980b9;
            font-weight: bold;
            font-size: 20px;
        }
        /* Feedback */
        .result-feedback {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 18px;
            border-left: 4px solid #3498db;
            text-align: left;
        }
        .feedback-title {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        .feedback-content {
            color: #34495e;
        }
        .feedback-content ul {
            padding-left: 20px;
            margin-top: 10px;
        }
        /* Notes Section */
        .note-section {
            font-family: 'Segoe UI', sans-serif;
            background-color: #f0faff;
            padding: 15px;
            margin-top: 60px;
            border-radius: 12px;
        }
        .note-card {
            background: #ffffff;
            border-left: 6px solid #1976d2;
            padding: 18px 22px;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
        }
        .note-card h3 {
            margin: 0 0 10px;
            font-size: 18px;
            color: #1976d2;
        }
        .note-card p, .note-card li {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }
        .note-list { margin: 0; padding-left: 18px; }
        /* Error Message */
        .result-error {
            background: #ffe6e6;
            border: 2px solid #e74c3c;
            color: #c0392b;
            border-radius: 12px; padding: 20px;
            text-align: left; gap: 12px; margin-top: 20px;
        }
        .error-icon { font-size: 76px; flex-shrink: 0; text-align: center; }
        .error-message { font-size: 24px; line-height: 1.6; }
        .hidden { display: none; }
        .btn-container { display: flex; justify-content: center; margin: 30px 0; }
        .back-btn {
            background: linear-gradient(#1560bd,#000040); color: #ffffff; border: 2px solid #1560bd;
            padding: 10px 20px; font-size: 14px; font-weight: 600; border-radius: 8px;
            text-decoration: none; transition: all 0.3s ease; cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="btn-container">
        <a href="{% url 'healthcategory_calculators'%}" class="back-btn">Back To Health Calculators</a>
    </div>

    <div class="calculator-container printable" id="printArea">
        {% include "includes/print_header_footer.html" %}

        <div class="calculator-header">
            <h1>Weight Gain Calculator</h1>
            <p>Estimate the time and daily calorie intake required to reach your weight gain goal.</p>
        </div>

        <div class="calc-content">
            <div class="calc-card">
                <h2>Your Profile & Goals</h2>
                <div class="form-group">
                    <label for="gender">Gender</label>
                    <select id="gender" class="form-select">
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="age">Age</label>
                    <input type="number" id="age" class="form-input" placeholder="Enter your age">
                </div>
                <div class="form-group">
                    <label for="weight">Current Weight (kg)</label>
                    <input type="number" id="weight" class="form-input" placeholder="Enter your current weight">
                </div>
                <div class="form-group">
                    <label for="height">Height (cm)</label>
                    <input type="number" id="height" class="form-input" placeholder="Enter your height">
                </div>
                <div class="form-group">
                    <label for="targetWeight">Target Weight (kg)</label>
                    <input type="number" id="targetWeight" class="form-input" placeholder="Enter your target weight">
                </div>
                <div class="form-group">
                    <label for="activityLevel">Activity Level</label>
                    <select id="activityLevel" class="form-select">
                        <option value="1.2">Sedentary (Little to no exercise)</option>
                        <option value="1.375">Light (Exercise 1-3 times/week)</option>
                        <option value="1.55">Moderate (Exercise 3-5 times/week)</option>
                        <option value="1.725">Active (Exercise 6-7 times/week)</option>
                        <option value="1.9">Very Active (Intense daily exercise)</option>
                    </select>
                </div>
                 <div class="form-group">
                    <label for="weightGainGoal">Weekly Weight Gain Goal</label>
                    <select id="weightGainGoal" class="form-select">
                        <option value="0.25">0.25 kg/week (Recommended)</option>
                        <option value="0.5">0.5 kg/week</option>
                    </select>
                </div>
                <button class="calculate-btn" onclick="calculateAndDisplay()">Calculate Plan</button>
            </div>

            <div class="result-card">
                <div class="result-placeholder" id="placeholder">
                    <img src="https://cdn-icons-png.flaticon.com/512/2942/2942789.png" alt="Health illustration">
                    <p>Enter your details and goals to generate your personalized weight gain plan.</p>
                </div>
                <div class="result-error hidden" id="resultError">
                    <div class="error-icon">❌</div>
                    <div class="error-message" id="errorMessage"></div>
                </div>
                <div id="resultValue" class="hidden" style="text-align: center;">
                    <h2>Daily Calorie Target</h2>
                    <div class="rate-display">
                        <div class="rate-value" id="rateValue">0</div>
                        <div class="rate-label">Calories/day</div>
                    </div>
                    <div class="result-feedback">
                        <div class="feedback-title">Your Weight Gain Plan</div>
                        <div class="feedback-content" id="feedbackContent"></div>
                    </div>
                     <div class="btn-wrapper">
                        <button class="calculate-btn print-btn" onclick="printReport()">Print Report</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="note-section">
            <div class="note-card">
        <h3>📘 About This Calculator</h3>
                <p>This calculator estimates the time required to reach your target weight based on your gender, age, weight,
                    height, activity level, and weight gain goal.</p>
                <p>It uses the <strong>Mifflin-St Jeor equation</strong> to estimate your Basal Metabolic Rate (BMR)—the
                    calories your body burns at rest. It then adjusts this value based on your activity level to find your Total
                    Daily Energy Expenditure (TDEE), or maintenance calories. Finally, it adds the necessary calories to meet
                    your weekly weight gain goal (approx. 500 calories/day for 0.5 kg/week).</p>
            </div>
        
            <div class="note-card">
        <h3>📐 Parameters Used</h3>
                <ul class="note-list">
                    <li><strong>Gender, Age, Weight, Height:</strong> Used to determine your Basal Metabolic Rate (BMR).</li>
                    <li><strong>Target Weight:</strong> The weight you want to achieve.</li>
                    <li><strong>Weight Gain Goal:</strong> The rate at which you aim to gain weight.</li>
                    <li><strong>Activity Level:</strong> Helps estimate your total daily energy expenditure (TDEE).</li>
                </ul>
            </div>
        <div class="note-card">
    <h3>⚠️ Input Validation Rules</h3>
    <p>
        Input validation ensures that all user-provided data is accurate, realistic, and safe, preventing erroneous results and aligning with health and safety standards (OSHA, ISO 45001, NIH, WHO).
    </p>
    <ul class="note-list">
        <li>👉 <strong>Gender:</strong> Must be either <strong>male</strong> or <strong>female</strong>. Invalid or empty selection is rejected to prevent calculation errors.</li>
        <li>👉 <strong>Age:</strong> Must be between <strong>15 and 80 years</strong>. Values outside this range are rejected because pediatric and geriatric metabolism differs significantly, affecting calorie calculations.</li>
        <li>👉 <strong>Current Weight (kg):</strong> Must be a positive number between <strong>30 – 250 kg</strong>. Values outside this range are physiologically unrealistic and flagged for safety.</li>
        <li>👉 <strong>Height (cm):</strong> Must be a positive number between <strong>120 – 220 cm</strong>. Values outside this range are flagged as unrealistic anthropometric data.</li>
        <li>👉 <strong>Target Weight (kg):</strong> Must be greater than Current Weight and not more than 30% above it. Values exceeding this limit are flagged as unsafe goals, ensuring realistic and healthy weight gain plans.</li>
        <li>👉 <strong>Activity Level:</strong> Must be one of the discrete allowed values: <strong>1.2, 1.375, 1.55, 1.725, 1.9</strong>. Invalid entries are rejected to maintain calculation accuracy.</li>
        <li>👉 <strong>Weekly Weight Gain Goal:</strong> Allowed values are <strong>0.25 kg/week</strong> or <strong>0.5 kg/week</strong>. Anything higher is considered unsafe and rejected.</li>
        <li>👉 <strong>Cross-field checks:</strong>
            <ul>
                <li>Target Weight must always be greater than Current Weight.</li>
                <li>Daily calorie surplus and total weight gain calculations are validated to prevent unsafe recommendations.</li>
                <li>Timeline to achieve goal must not exceed 365 days; otherwise, a warning is displayed.</li>
            </ul>
        </li>
        <li>👉 <strong>Required Fields:</strong> All input fields must be filled. Missing inputs trigger an error message with detailed guidance.</li>
        <li>👉 <strong>Safety thresholds:</strong> Calculated TDEE must not fall below <strong>1200 kcal/day</strong> (to avoid starvation risk). Total daily calorie requirement must not exceed <strong>6000 kcal/day</strong> (unsafe overconsumption).</li>
        <li>✅ These validations prevent unrealistic entries, ensure user safety, and maintain compliance with recognized health and occupational standards.</li>
    </ul>
</div>
<div class="note-card">
    <h3>📊 Output Validations</h3>
    <p>
        The calculator ensures that all output results are realistic, safe, and aligned with recognized health standards. Each calculated value undergoes multiple checks before being presented to the user.
    </p>
    <ul class="note-list">
        <li><strong>Daily Calorie Target:</strong> Must not exceed <strong>6000 kcal/day</strong> to prevent overconsumption and health risks.</li>
        <li><strong>Maintain Current Weight (TDEE):</strong> Must not fall below <strong>1200 kcal/day</strong> to avoid starvation or malnutrition.</li>
        <li><strong>Daily Surplus:</strong> Calculated based on weekly weight gain goal (0.25–0.5 kg/week) and validated to be positive and safe.</li>
        <li><strong>Time to Achieve Target Weight:</strong> Must not exceed <strong>365 days</strong>. If exceeded, the user is warned that the goal is unrealistic.</li>
        <li><strong>Target Weight:</strong> Cross-checked to ensure it is greater than current weight but not more than 30% above it.</li>
        <li><strong>Safety Warnings:</strong> Any calculation that falls outside safe physiological limits triggers a clear error message with guidance.</li>
        <li>✅ These validations ensure that all outputs are safe, practical, and compliant with recognized nutritional and occupational health standards (OSHA, ISO 45001, NIH, WHO).</li>
    </ul>
</div>

<div class="note-card">
    <h3>📏 Governing Principle</h3>
    <p>
        This Weight Gain Calculator operates based on the <strong>Mifflin-St Jeor equation</strong> to estimate Basal Metabolic Rate (BMR), which represents the calories your body burns at rest. It then multiplies BMR by the selected Activity Level to determine Total Daily Energy Expenditure (TDEE), or maintenance calories. A calculated daily surplus is added based on the chosen weekly weight gain goal (0.25–0.5 kg/week) to provide a safe and realistic calorie target for healthy weight gain.
    </p>
    <p>
        The calculator enforces strict input validation rules to ensure physiological accuracy and user safety. Inputs like Age, Weight, Height, and Target Weight must fall within medically recognized ranges (Age: 15–80 years, Weight: 30–250 kg, Height: 120–220 cm). Target Weight must be greater than current weight but not exceed 30% above it to prevent unsafe goals. Activity Levels and weekly weight gain goals are restricted to approved discrete values to maintain calculation integrity.
    </p>
    <p>
        Output recommendations are cross-checked against recognized health standards and safety thresholds. Daily calorie intake will not exceed 6000 kcal/day (to prevent overconsumption risks) and will not fall below 1200 kcal/day (to avoid malnutrition/starvation risk). The time to achieve the target weight is limited to 365 days to maintain realistic goals. These measures ensure that the weight gain plan aligns with internationally recognized guidelines (OSHA, ISO 45001, NIH, WHO) for health, safety, and nutritional compliance.
    </p>
    <p>
        By following these principles, the calculator provides users with evidence-based, safe, and practical guidance for achieving their weight gain goals while minimizing health risks. It integrates physiological science, occupational safety standards, and nutritional best practices into a simple, actionable tool for users.
    </p>
</div>

            <div class="note-card">
                <h3>Healthy Weight Gain</h3>
                <ul class="note-list">
                    <li><strong>Safe Rate:</strong> A weight gain of 0.25 to 0.5 kg (approx. 0.5 to 1 lb) per week is generally
                        considered a safe and sustainable rate.</li>
                    <li><strong>Nutrient-Dense Foods:</strong> Focus on gaining weight through healthy, calorie-dense foods like
                        nuts, seeds, avocados, and lean proteins rather than processed foods high in sugar and unhealthy fats.
                    </li>
                    <li><strong>Strength Training:</strong> Combine your calorie surplus with resistance training to encourage
                        muscle growth rather than just fat gain.</li>
                </ul>
            </div>
        
            <!-- Note Section -->
           

            <div class="note-card">
                <h3>⚠️ Disclaimer</h3>
                <p>This calculator provides an estimate for informational purposes. Actual results may vary. Consult with a
                    healthcare provider or registered dietitian before starting a weight gain program, especially if you have
                    underlying health conditions.</p>
            </div>
            <div class="note-card">
    <h3>✅ Conclusion</h3>
    <p>
        This calculator estimates the daily calories and timeline needed to safely reach your target weight. It ensures inputs are realistic and outputs follow safe weight gain guidelines of 0.25–0.5 kg per week. Always consult a healthcare professional before making major changes to your diet or exercise routine.
    </p>
</div>

        </div>

    </div>

    <script>
        function calculateAndDisplay() {
            const errorBox = document.getElementById('resultError');
            const errorMessage = document.getElementById('errorMessage');
            const placeholder = document.getElementById('placeholder');
            const resultValueBox = document.getElementById('resultValue');

            // Reset state
            errorBox.classList.add('hidden');
            resultValueBox.classList.add('hidden');
            placeholder.classList.remove('hidden');

            let errors = [];

            // Generic input fetch + validation
            function getVal(id, label, opts = {}) {
                const el = document.getElementById(id);
                const raw = el.value?.toString().trim();
                if (!raw) {
                    errors.push(`👉 ${label} is required.`);
                    return null;
                }
                const num = parseFloat(raw);
                if (isNaN(num) || num <= 0) {
                    errors.push(`👉 Enter a valid positive number for ${label}.`);
                    return null;
                }
                if (opts.min !== undefined && num < opts.min) {
                    errors.push(`👉 ${label} must be ≥ ${opts.min}.`);
                }
                if (opts.max !== undefined && num > opts.max) {
                    errors.push(`👉 ${label} must be ≤ ${opts.max}.`);
                }
                return num;
            }

            const gender = document.getElementById('gender').value;
            const activityLevel = parseFloat(document.getElementById('activityLevel').value);
            const weightGainGoal = parseFloat(document.getElementById('weightGainGoal').value);

            // Input validations with ranges
            const age = getVal('age', 'Age', { min: 15, max: 80 });
            const weight = getVal('weight', 'Current Weight (kg)', { min: 30, max: 250 });
            const height = getVal('height', 'Height (cm)', { min: 120, max: 220 });
            const targetWeight = getVal('targetWeight', 'Target Weight (kg)', { min: 30, max: 250 });

            // Cross-field validation
            if (weight && targetWeight && targetWeight <= weight) {
                errors.push('👉 Target Weight must be greater than Current Weight.');
            }
            if (weight && targetWeight && targetWeight > weight * 1.3) {
                errors.push('👉 Target Weight cannot exceed 30% above Current Weight (unsafe goal).');
            }

            // Allowed values validation
            if (!["male", "female"].includes(gender)) {
                errors.push('👉 Invalid gender selected.');
            }
            if (![0.25, 0.5].includes(weightGainGoal)) {
                errors.push('👉 Weekly Weight Gain Goal must be 0.25 or 0.5 kg/week.');
            }
            if (![1.2, 1.375, 1.55, 1.725, 1.9].includes(activityLevel)) {
                errors.push('👉 Invalid Activity Level selected.');
            }

            // Show errors if any
            if (errors.length > 0) {
                errorMessage.innerHTML = errors.join("<br>");
                errorBox.classList.remove("hidden");
                placeholder.classList.add('hidden');
                return;
            }

            // BMR calculation (Mifflin-St Jeor)
            let bmr;
            if (gender === "male") {
                bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
            } else {
                bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
            }

            // TDEE
            const tdee = bmr * activityLevel;

            // Daily surplus (7700 kcal = 1 kg)
            const dailySurplus = (weightGainGoal * 7700) / 7;
            if (dailySurplus <= 0) {
                return showError("Invalid calorie surplus calculation.");
            }

            const caloriesForGain = tdee + dailySurplus;

            // Output safety thresholds
            if (tdee < 1200) {
                return showError("Calculated TDEE is below safe threshold (<1200 kcal/day).");
            }
            if (caloriesForGain > 6000) {
                return showError("Calculated calorie requirement exceeds safe limits (>6000 kcal/day).");
            }

            const totalWeightGain = targetWeight - weight;
            const daysToAchieve = (totalWeightGain * 7700) / dailySurplus;

            if (daysToAchieve > 365) {
                return showError("Goal timeline exceeds 1 year. Please set a realistic target.");
            }

            const targetDate = new Date();
            targetDate.setDate(targetDate.getDate() + Math.ceil(daysToAchieve));

            // Show results
            placeholder.classList.add('hidden');
            resultValueBox.classList.remove('hidden');
            document.getElementById('rateValue').textContent = caloriesForGain.toFixed(0);

            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('feedbackContent').innerHTML = `
                <ul>
                    <li>To maintain your current weight, you need ~<strong>${tdee.toFixed(0)} Calories/day</strong>.</li>
                    <li>To gain <strong>${weightGainGoal} kg/week</strong>, you need a daily surplus of ~${dailySurplus.toFixed(0)} Calories.</li>
                    <li>Time to reach your goal of <strong>${targetWeight} kg</strong> is approximately <strong>${Math.ceil(daysToAchieve)} days</strong>.</li>
                    <li>Your estimated target date is <strong>${targetDate.toLocaleDateString('en-US', options)}</strong>.</li>
                </ul>
            `;

            function showError(msg) {
                placeholder.classList.add("hidden");
                errorBox.classList.remove("hidden");
                errorMessage.textContent = msg;
            }
        }

        function printReport() {
            window.print();
        }
    </script>

</body>
</html>
{% endblock %}

<!-- 
Input Validation Rules (QEHS / Fire Safety Perspective)

From a compliance and safety standpoint, input validation prevents unrealistic results, misreporting, and incorrect recommendations that could affect health.

Gender

Allowed values: "male", "female".

Reject empty or tampered values (XSS prevention).

Age

Range: 15–80 years (below 15 → pediatric, different formulas; above 80 → geriatric metabolism differs).

Decimal places: whole numbers only (no 25.5 years).

Compliance: OSHA/ILO health reporting requires adult metabolic assumptions.

Current Weight (kg)

Range: 30–250 kg (below 30 = malnourished/critical, above 250 = extreme outlier, needs medical supervision).

Decimals allowed up to 1 decimal place.

Must be less than Target Weight (since this is a gain calculator).

Height (cm)

Range: 120–220 cm (below/above = unrealistic anthropometric data).

Whole numbers only.

Target Weight (kg)

Range: Must be greater than current weight.

Upper threshold: not more than +30% of current weight, else flagged as unsafe goal.

Example: If 70 kg → max target ~91 kg.

Compliance: ISO 45001 requires setting achievable and safe health targets.

Activity Level

Allowed discrete values: 1.2, 1.375, 1.55, 1.725, 1.9.

Reject tampered/invalid values.

Weekly Weight Gain Goal

Allowed: 0.25 or 0.5 kg/week.

Reject anything else.

Safety: Gaining >0.5 kg/week can increase cardiovascular/metabolic risk.

2. Output Validation Logic

Outputs must align with recognized metabolic calculation standards (Harris-Benedict / Mifflin-St Jeor).

Daily Calorie Target: Must not exceed 6000 kcal/day (unsafe → fire risk analogy: “system overload”).

Maintain Current Weight (TDEE): Must not drop below 1200 kcal/day (starvation threshold).

Time to Achieve Goal: Should not exceed 365 days; else goal considered unrealistic.

Weight Gain Plan: If plan exceeds thresholds, output a compliance warning:
“⚠️ Your goal exceeds safe health standards. Consult a healthcare professional.”

3. Edge Case Validations

Division by zero: Prevent if weightGainGoal = 0 or dailySurplus = 0.

Extreme outliers:

Age < 15 or > 80 → reject.

Height < 120 or > 220 → reject.

Weight < 30 or > 250 → reject.

Cross-field dependency: Target weight must always be > current weight.

Unrealistic combo: Very high weight + low height → BMI > 60 → warn user.

Negative or empty inputs → block
-->