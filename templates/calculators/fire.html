{% extends 'base.html' %}
{% block content %}
{% load static %}
<style>
/* Banner Background */
.qc-banner {
    background: url("{% static 'images/image.png' %}") no-repeat center center / cover;
    padding: 60px 0;
}

/* Main Container */
.qc-banner-container {
    display: flex;
    align-items: center;          /* vertical center */
    justify-content: space-between; /* equal spacing */
    max-width: 1200px;            /* fixed container */
    margin: 0 auto;               /* center container */
    padding: 0 40px;              /* equal left/right padding */
    box-sizing: border-box;
    gap: 40px;                    /* equal gap between image & text */
}

/* Content */
.qc-banner-content {
    flex: 1;
    font-family: 'Segoe UI', sans-serif;
    text-align: left;
}

.qc-banner-content h1 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: #0d3b8c;
    line-height: 1.3;
}

.qc-banner-content p {
    font-size: 1.2rem;
    line-height: 1.6;
    color: #0d3b8c;
    text-align: justify;
    max-width: 550px;
    margin: 0 auto;
}

/* Image */
.qc-banner-image {
    flex: 1;
    text-align: center;
}

.qc-banner-image img {
    max-width: 100%;
    height: auto;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
}

/* Responsive */
@media (max-width: 758px) {
    .qc-banner-container {
        flex-direction: column;
        text-align: center;
        gap: 30px;
        padding: 20px;
    }
    .qc-banner-content h1 {
        font-size: 1.6rem;
    }
    .qc-banner-content p {
        font-size: 1rem;
    }
}

@media (min-width: 759px) and (max-width: 1150px) {
    .qc-banner-container {
        padding: 0 20px;
        gap: 20px;
    }
    .qc-banner-content h1 {
        font-size: 1.5rem;
    }
    .qc-banner-content p {
        font-size: 1rem;
    }
    .qc-banner-image img {
        max-width: 90%;
    }
}

.calc-section {
    display: flex;
    align-items: stretch;
    justify-content: space-between;
    max-width: 1200px;
    margin: 60px auto;
    padding: 0 20px;
    gap: 40px;
    font-family: 'Segoe UI', sans-serif;
}

/* Calculator card */
.calculator-box {
    flex: 1;
    background: linear-gradient(135deg, #1560bd,#1560bd, #000040);
    color: #fff;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
}

.calculator-box h2 {
    font-size: 1.8rem;
    margin-bottom: 20px;
    font-weight: bold;
}

.calculator-box label {
    font-weight: 500;
    display: block;
}

.calculator-box input {
    width: 100%;
    padding: 12px;
    margin-top: 8px;
    margin-bottom: 18px;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
}

.calculator-box button {
    width: 100%;
    padding: 14px;
    background: #ffc107;
    color: #000;
    font-weight: bold;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    cursor: pointer;
    transition: 0.3s;
}

.calculator-box button:hover {
    background: #e0a800;
}

/* Result card */
.result-box {
    flex: 1;
    text-align: center;
    background: #fff;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    justify-content: center;
    border: 2px solid #1560bd;
}

.result-box img {
    max-width: 160px;
    margin: 0 auto 20px;
    opacity: 0.9;
}

.result-box h3 {
    font-size: 2rem;
    color: #1560bd;
    margin-bottom: 10px;
}

.result-box p {
    font-size: 1.1rem;
    color: #444;
    margin: 5px 0;
}

.result-box .feedback {
    font-weight: 500;
    margin-top: 12px;
}

/* Responsive */
@media (max-width: 900px) {
    .calc-section {
        flex-direction: column;
    }
}
.note-container {
    max-width: 1200px;
    margin: 30px auto;
    padding: 25px;
    background: #f4f7ff;
    border: 1px solid #d6e4ff;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    font-family: 'Segoe UI', sans-serif;
    line-height: 1.6;
}

.note-container h3 {
    color: #1560bd;
    margin-bottom: 14px;
    font-size: 22px;
}

.note-container ul {
    margin: 10px 0 15px 20px;
    padding: 0;
}

.note-container ul li {
    margin-bottom: 6px;
    font-size: 15px;
        text-align: justify;

}

.note-container p {
    margin: 10px 0;
    color: #333;
    font-size: 16px;
    text-align: justify;

}

.note-container .feedback {
    margin-top: 18px;
    padding: 15px;
    background: #fff;
    border-left: 5px solid #1560bd;
    border-radius: 8px;
}

.note-container .feedback h4 {
    margin-bottom: 10px;
    font-size: 18px;
    color: #0f4c8d;
}

.note-container .feedback p {
    margin: 5px 0;
    font-size: 15px;
        text-align: justify;

}

/* üì± Mobile */
@media (max-width: 758px) {
    .note-container {
        max-width: 95%;
        padding: 18px;
    }
    .note-container h3, .note-container .feedback h4 {
        text-align: center;
    }
}

/* üì≤ Tablet */
@media (min-width: 759px) and (max-width: 1150px) {
    .note-container {
        max-width: 90%;
        padding: 22px;
    }
}
b{
    color: #1560bd;
}
/* üå∏ Login Explore Section */
.login-explore {
    background: linear-gradient(135deg, #1560bd, #000040);
    padding: 40px 20px;
    font-family: 'Segoe UI', sans-serif;
    margin: 40px 30px;
}

.login-card {
    max-width: 1100px;
    margin: 0 auto;
    background: #fff;
    border-radius: 20px;
    padding: 10px;
    display: flex;
    align-items: center;
    gap: 40px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    transition: transform 0.3s ease;
}

.login-card:hover {
    transform: translateY(-6px);
}

.login-img {
    max-width: 280px;
    border-radius: 16px;
}

.login-content {
    flex: 1;
}

.login-content h2 {
    font-size: 2rem;
    margin-bottom: 16px;
    color: #1560bd;
}

.login-content p {
    font-size: 1.1rem;
    color: #444;
    margin-bottom: 24px;
    line-height: 1.6;
        text-align: justify;

}

/* üåü Unique Login Button */
.explore-login-btn {
    display: inline-block;
    padding: 14px 30px;
    background: linear-gradient(135deg, #1560bd, #0f4c8d);
    color: #fff;
    font-size: 1.1rem;
    font-weight: bold;
    border-radius: 30px;
    text-decoration: none;
    box-shadow: 0 6px 16px rgba(21, 96, 189, 0.4);
    transition: all 0.3s ease;
    letter-spacing: 0.5px;
}

.explore-login-btn:hover {
    background: linear-gradient(135deg, #0f4c8d, #1560bd);
    transform: translateY(-3px) scale(1.05);
    box-shadow: 0 8px 20px rgba(21, 96, 189, 0.5);
}

/* üì± Responsive */
@media (max-width: 850px) {
    .login-card {
        flex-direction: column;
        text-align: center;
        padding: 30px 20px;
    }
    .login-img {
        max-width: 200px;
    }
    .login-content h2 {
        font-size: 1.6rem;
    }
    .login-content p {
        font-size: 1rem;
    }


}
/* Formula Box */
.formula-box {
    margin: 20px 0;
    padding: 15px 20px;
    background: #fff;
    border-left: 5px solid #1560bd;
    border-radius: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.05);
}

.formula-box h4 {
    margin-bottom: 8px;
    font-size: 18px;
    color: #0f4c8d;
}

.formula-box p {
    font-size: 16px;
    color: #222;
    font-weight: 500;
    margin: 0;

}
/* üì± Mobile */
@media (max-width: 758px) {
    .note-container .formula-box p {
        font-size: 14px !important;
    }
}

/* üì≤ Tablet */
@media (min-width: 759px) and (max-width: 1150px) {
    .note-container .formula-box p {
        font-size: 15px !important;
    }
}


.result-box p{
    text-align: center;
}
</style>

<section class="qc-banner">
  <div class="qc-banner-container">
    <!-- Left Side Image -->
    <div class="qc-banner-image">
      <img src="{% static 'images/firemainimage.jpg' %}" alt="Fire Safety Calculator">
    </div>

    <!-- Right Side Content -->
    <div class="qc-banner-content">
      <h1>The Ultimate Tool for Reliable Fire Safety Calculations</h1>
      <p>
        Your trusted solution for assessing fire safety performance with clarity and accuracy.
        This tool helps you measure the rate of fire incidents relative to identified fire-risk scenarios,
        so you can prioritize controls and improve emergency preparedness.
      </p>
    </div>
  </div>
</section>


<section class="calc-section">
  <!-- Calculator -->
  <div class="calculator-box">
    <h2>Fire Safety Calculator</h2>

    <label for="fireIncidents">Fire Incidents</label>
    <input type="number" id="fireIncidents" placeholder="Enter number of fire incidents">

    <label for="totalFireRisks">Total Fire Risks</label>
    <input type="number" id="totalFireRisks" placeholder="Enter total identified fire-risk scenarios">

    <button onclick="calculateFireSafety()">Calculate</button>
  </div>

  <!-- Result Box -->
  <div class="result-box" id="resultBox">
    <img src="{% static 'images/result.jpg' %}" alt="Result Placeholder">
    <h3>Start Your Calculation</h3>
    <p id="fireSafetyResultText">Your calculated fire safety performance (incident rate) will appear here.</p>
  </div>
</section>

<div class="note-container">
  <h3>About This Calculator</h3>

  <p>
    This calculator evaluates your fire safety performance by comparing actual fire incidents
    against the total number of identified fire-risk scenarios. A <b>lower percentage</b> means better fire safety.
  </p>

  <ul>
    <li><b>Fire Incidents:</b> Count of fire events recorded in the selected period.</li>
    <li><b>Total Fire Risks:</b> Total number of identified fire-risk scenarios/activities in the same period.</li>
  </ul>

  <!-- üìå Formula Section -->
  <div class="formula-box">
    <h4>üìê Formula Used</h4>
    <p><b>Fire Safety Performance % = ( Fire Incidents √∑ Total Fire Risks ) √ó 100</b></p>
  </div>

  <p>
    The calculation shows the percentage of incidents relative to risks. 
    <b>Lower is better</b> ‚Äî it indicates fewer incidents per identified risk and stronger fire safety controls.
  </p>

  <div class="feedback">
    <h4>‚ö° Quick Feedback</h4>
    <p><b>‚â§ 10%:</b> Excellent ‚Äî very low incident rate; controls are effective.</p>
    <p><b>10% ‚Äì 30%:</b> Good ‚Äî maintain controls; keep improving.</p>
    <p><b>30% ‚Äì 50%:</b> Average ‚Äî strengthen preventive measures and training.</p>
    <p><b>> 50%:</b> Poor ‚Äî high incident rate; immediate corrective action required.</p>
  </div>
</div>




<!-- ‚ú® Login Section -->
<section class="login-explore">
    <div class="login-card">
        <img src="{% static 'images/login.jpg' %}" alt="Login Illustration" class="login-img">
        <div class="login-content">
            <h2>‚ú® Unlock More Calculators</h2>
            <p>Sign in to explore advanced tools designed to make your 
               <b>quality checks</b>, <b>efficiency tracking</b>, and 
               <b>production analysis</b> even easier and smarter.</p>
            <a href="{% url 'signup' %}" class="explore-login-btn">üöÄ Signup And Subscribe Now</a>
        </div>
    </div>
</section>


<script>
function calculateFireSafety() {
  const incidents = parseFloat(document.getElementById('fireIncidents').value);
  const risks = parseFloat(document.getElementById('totalFireRisks').value);
  const resultBox = document.getElementById('resultBox');

  if (isNaN(incidents) || isNaN(risks)) {
    resultBox.innerHTML = `
      <img src="{% static 'images/invalid.png' %}" alt="Error">
      <h3>Invalid Input</h3>
      <p>Please enter numbers only for Fire Incidents and Total Fire Risks.</p>
    `;
    return;
  }

  if (risks <= 0) {
    resultBox.innerHTML = `
      <img src="{% static 'images/invalid.png' %}" alt="Error">
      <h3>Total Fire Risks Error</h3>
      <p>Total Fire Risks must be greater than zero.</p>
    `;
    return;
  }

  if (incidents < 0) {
    resultBox.innerHTML = `
      <img src="{% static 'images/invalid.png' %}" alt="Error">
      <h3>Negative Value</h3>
      <p>Fire Incidents cannot be less than zero.</p>
    `;
    return;
  }

  if (incidents > risks) {
    resultBox.innerHTML = `
      <img src="{% static 'images/invalid.png' %}" alt="Error">
      <h3>Input Exceeded</h3>
      <p>Fire Incidents cannot be greater than Total Fire Risks.</p>
    `;
    return;
  }

  const percent = ((incidents / risks) * 100).toFixed(2);
  let feedback = '';

  // Lower percentage is better for fire safety
  if (percent <= 10) {
    feedback = "üåü Excellent ‚Äî very low incident rate; controls are effective.";
  } else if (percent <= 30) {
    feedback = "‚úÖ Good ‚Äî maintain controls and continue improvements.";
  } else if (percent <= 50) {
    feedback = "‚ö†Ô∏è Average ‚Äî strengthen preventive measures and training.";
  } else {
    feedback = "‚ùå Poor ‚Äî high incident rate; immediate corrective action required.";
  }

  resultBox.innerHTML = `
    <img src="{% static 'images/result.jpg' %}" alt="Result">
    <h3>${percent}%</h3>
    <p>Your <b>Fire Safety Performance</b> (Incident Rate) is <b>${percent}%</b>. <i>Lower is better.</i></p>
    <p class="feedback">${feedback}</p>
  `;
}
</script>


{% endblock %}

